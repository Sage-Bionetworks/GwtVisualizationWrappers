'use strict';var cytoscape;
(function(d){var c=cytoscape=function(){return cytoscape.init.apply(cytoscape,arguments)};c.version="2.4.2";c.init=function(b){void 0===b&&(b={});if(c.is.plainObject(b))return new c.Core(b);if(c.is.string(b))return c.extension.apply(c.extension,arguments)};c.fn={};"undefined"!==typeof module&&module.exports&&(module.exports=cytoscape);"undefined"!==typeof define&&define.amd&&define("cytoscape",function(){return cytoscape});d&&(d.cytoscape=cytoscape)})("undefined"===typeof window?null:window);
this.cytoscape=cytoscape;
(function(d){var c=function(a){if(!(this instanceof c))return new c(a);this.id="Thenable/1.0.7";this.state=0;this.rejectReason=this.fulfillValue=void 0;this.onFulfilled=[];this.onRejected=[];this.proxy={then:this.then.bind(this)};"function"===typeof a&&a.call(this,this.fulfill.bind(this),this.reject.bind(this))};c.prototype={fulfill:function(a){return b(this,1,"fulfillValue",a)},reject:function(a){return b(this,2,"rejectReason",a)},then:function(b,n){var k=new c;this.onFulfilled.push(e(b,k,"fulfill"));
this.onRejected.push(e(n,k,"reject"));a(this);return k.proxy}};var b=function(b,e,n,c){0===b.state&&(b.state=e,b[n]=c,a(b));return b},a=function(a){1===a.state?n(a,"onFulfilled",a.fulfillValue):2===a.state&&n(a,"onRejected",a.rejectReason)},n=function(a,b,e){if(0!==a[b].length){var n=a[b];a[b]=[];a=function(){for(var a=0;a<n.length;a++)n[a](e)};"object"===typeof process&&"function"===typeof process.nextTick?process.nextTick(a):"function"===typeof setImmediate?setImmediate(a):setTimeout(a,0)}},e=function(a,
b,e){return function(n){if("function"!==typeof a)b[e].call(b,n);else{var c;try{c=a(n)}catch(d){b.reject(d);return}k(b,c)}}},k=function(a,b){if(a===b||a.proxy===b)a.reject(new TypeError("cannot resolve promise with itself"));else{var e;if("object"===typeof b&&null!==b||"function"===typeof b)try{e=b.then}catch(n){a.reject(n);return}if("function"===typeof e){var c=!1;try{e.call(b,function(e){c||(c=!0,e===b?a.reject(new TypeError("circular thenable chain")):k(a,e))},function(b){c||(c=!0,a.reject(b))})}catch(d){c||
a.reject(d)}}else a.fulfill(b)}};d.Promise="undefined"===typeof Promise?c:Promise;d.Promise.all=d.Promise.all||function(a){return new d.Promise(function(b,e){for(var n=Array(a.length),c=0,k=0;k<a.length;k++)(function(k){var d=a[k];null!=d.then?d.then(function(e){n[k]=e;c++;c===a.length&&b(n)},function(a){e(a)}):(n[k]=d,c++,c===a.length&&b(n))})(k)})}})(cytoscape);
(function(d,c){d.is={defined:function(b){return null!=b},string:function(b){return null!=b&&"string"==typeof b},fn:function(b){return null!=b&&"function"===typeof b},array:function(b){return Array.isArray?Array.isArray(b):null!=b&&b instanceof Array},plainObject:function(b){return null!=b&&"object"===typeof b&&!d.is.array(b)&&b.constructor===Object},object:function(b){return null!=b&&"object"===typeof b},number:function(b){return null!=b&&"number"===typeof b&&!isNaN(b)},integer:function(b){return d.is.number(b)&&
Math.floor(b)===b},color:function(b){return null!=b&&"string"===typeof b&&""!==$.Color(b).toString()},bool:function(b){return null!=b&&"boolean"===typeof b},elementOrCollection:function(b){return d.is.element(b)||d.is.collection(b)},element:function(b){return b instanceof d.Element&&b._private.single},collection:function(b){return b instanceof d.Collection&&!b._private.single},core:function(b){return b instanceof d.Core},style:function(b){return b instanceof d.Style},stylesheet:function(b){return b instanceof
d.Stylesheet},event:function(b){return b instanceof d.Event},thread:function(b){return b instanceof d.Thread},fabric:function(b){return b instanceof d.Fabric},emptyString:function(b){return!b||d.is.string(b)&&(""===b||b.match(/^\s+$/))?!0:!1},nonemptyString:function(b){return b&&d.is.string(b)&&""!==b&&!b.match(/^\s+$/)?!0:!1},domElement:function(b){return"undefined"===typeof HTMLElement?!1:b instanceof HTMLElement},boundingBox:function(b){return d.is.plainObject(b)&&d.is.number(b.x1)&&d.is.number(b.x2)&&
d.is.number(b.y1)&&d.is.number(b.y2)},promise:function(b){return d.is.object(b)&&d.is.fn(b.then)},touch:function(){return c&&("ontouchstart"in c||c.DocumentTouch&&document instanceof DocumentTouch)},gecko:function(){return"undefined"!==typeof InstallTrigger||"MozAppearance"in document.documentElement.style},webkit:function(){return"undefined"!==typeof webkitURL||"WebkitAppearance"in document.documentElement.style},chromium:function(){return"undefined"!==typeof chrome},khtml:function(){return navigator.vendor.match(/kde/i)},
khtmlEtc:function(){return d.is.khtml()||d.is.webkit()||d.is.blink()},trident:function(){return"undefined"!==typeof ActiveXObject||!1},windows:function(){return"undefined"!==typeof navigator&&navigator.appVersion.match(/Win/i)},mac:function(){return"undefined"!==typeof navigator&&navigator.appVersion.match(/Mac/i)},linux:function(){return"undefined"!==typeof navigator&&navigator.appVersion.match(/Linux/i)},unix:function(){return"undefined"!==typeof navigator&&navigator.appVersion.match(/X11/i)}}})(cytoscape,
"undefined"===typeof window?null:window);
(function(d,c){d.util={extend:function(){var a,b,e,c,g,f=arguments[0]||{},l=1,h=arguments.length,m=!1;"boolean"===typeof f&&(m=f,f=arguments[1]||{},l=2);"object"===typeof f||d.is.fn(f)||(f={});h===l&&(f=this,--l);for(;l<h;l++)if(null!=(a=arguments[l]))for(b in a)e=f[b],c=a[b],f!==c&&(m&&c&&(d.is.plainObject(c)||(g=d.is.array(c)))?(g?(g=!1,e=e&&d.is.array(e)?e:[]):e=e&&d.is.plainObject(e)?e:{},f[b]=d.util.extend(m,e,c)):void 0!==c&&(f[b]=c));return f},require:function(a,b,e){var k;e=d.util.extend({msgIfNotFound:!0},
e);var g=!1,f=function(){g||l(h)},l=function(e){"undefined"!==typeof define&&define.amd&&require&&require([a],function(a){k=a;void 0!==k&&(a=k,g=!0,b(a));e&&e()})},h=function(){!g&&e.msgIfNotFound&&d.util.error("Cytoscape.js tried to pull in dependency `"+a+"` but no module (i.e. CommonJS, AMD, or window) was found")};(function(e){c&&(k=c[a]);if(void 0!==k){var d=k;g=!0;b(d)}e&&e()})(function(){if(!g){"undefined"!==typeof module&&module.exports&&require&&(k=require(a));if(void 0!==k){var e=k;g=!0;
b(e)}f&&f()}})},requires:function(a,b){for(var e=[],c=[],g=0;g<a.length;g++)(function(){var f=g;d.util.require(a[g],function(g){e[f]=g;c[f]=!0;a:{for(g=0;g<a.length;g++)if(!c[g])break a;b.apply(b,e)}})})()},throttle:function(a,b,e){var c=!0,g=!0;!1===e?c=!1:d.is.plainObject(e)&&(c="leading"in e?e.leading:c,g="trailing"in e?e.trailing:g);e=e||{};e.leading=c;e.maxWait=b;e.trailing=g;return d.util.debounce(a,b,e)},now:function(){return+new Date},debounce:function(a,b,e){var c,g,f,l,h,m,p,q=0,t=!1,r=
!0;if(d.is.fn(a)){b=Math.max(0,b)||0;if(!0===e)var u=!0,r=!1;else d.is.plainObject(e)&&(u=e.leading,t="maxWait"in e&&(Math.max(b,e.maxWait)||0),r="trailing"in e?e.trailing:r);var v=function(){var e=b-(d.util.now()-l);0>=e?(g&&clearTimeout(g),e=p,g=m=p=void 0,e&&(q=d.util.now(),f=a.apply(h,c),m||g||(c=h=null))):m=setTimeout(v,e)},x=function(){m&&clearTimeout(m);g=m=p=void 0;if(r||t!==b)q=d.util.now(),f=a.apply(h,c),m||g||(c=h=null)};return function(){c=arguments;l=d.util.now();h=this;p=r&&(m||!u);
if(!1===t)var e=u&&!m;else{g||u||(q=l);var y=t-(l-q),z=0>=y;z?(g&&(g=clearTimeout(g)),q=l,f=a.apply(h,c)):g||(g=setTimeout(x,y))}z&&m?m=clearTimeout(m):m||b===t||(m=setTimeout(v,b));e&&(z=!0,f=a.apply(h,c));!z||m||g||(c=h=null);return f}}},error:function(a){if(console)if(console.error)console.error.apply(console,arguments);else if(console.log)console.log.apply(console,arguments);else throw a;else throw a;},clone:function(a){var b={},e;for(e in a)a.hasOwnProperty(e)&&(b[e]=a[e]);return b},copy:function(a){return null==
a?a:d.is.array(a)?a.slice():d.is.plainObject(a)?d.util.clone(a):a},makeBoundingBox:function(a){if(null!=a.x1&&null!=a.y1){if(null!=a.x2&&null!=a.y2&&a.x2>=a.x1&&a.y2>=a.y1)return{x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2,w:a.x2-a.x1,h:a.y2-a.y1};if(null!=a.w&&null!=a.h&&0<=a.w&&0<=a.h)return{x1:a.x1,y1:a.y1,x2:a.x1+a.w,y2:a.y1+a.h,w:a.w,h:a.h}}},mapEmpty:function(a){var b=!0;if(null!=a)for(var e in a){b=!1;break}return b},pushMap:function(a){var b=d.util.getMap(a);null==b?d.util.setMap($.extend({},a,{value:[a.value]})):
b.push(a.value)},setMap:function(a){for(var b=a.map,e,c=a.keys,g=c.length,f=0;f<g;f++)e=c[f],d.is.plainObject(e)&&d.util.error("Tried to set map with object key"),f<c.length-1?(null==b[e]&&(b[e]={}),b=b[e]):b[e]=a.value},getMap:function(a){var b=a.map;a=a.keys;for(var e=a.length,c=0;c<e;c++){var g=a[c];d.is.plainObject(g)&&d.util.error("Tried to get map with object key");b=b[g];if(null==b)break}return b},deleteMap:function(a){for(var b=a.map,e=a.keys,c=e.length,g=a.keepChildren,f=0;f<c;f++){var l=
e[f];d.is.plainObject(l)&&d.util.error("Tried to delete map with object key");if(f===a.keys.length-1)if(g)for(var h in b)g[h]||(b[h]=void 0);else b[l]=void 0;else b=b[l]}},capitalize:function(a){return d.is.emptyString(a)?a:a.charAt(0).toUpperCase()+a.substring(1)},camel2dash:function(a){for(var b=[],e=0;e<a.length;e++){var c=a[e],g=c.toLowerCase();c!==g?(b.push("-"),b.push(g)):b.push(c)}return b.length===a.length?a:b.join("")},dash2camel:function(a){for(var b=[],e=!1,c=0;c<a.length;c++){var g=a[c];
"-"===g?e=!0:(e?b.push(g.toUpperCase()):b.push(g),e=!1)}return b.join("")},trim:function(a){var b,e;for(b=0;b<a.length&&" "===a[b];b++);for(e=a.length-1;e>b&&" "===a[e];e--);return a.substring(b,e+1)},hex2tuple:function(a){if((4===a.length||7===a.length)&&"#"===a[0]){var b,e;4===a.length?(b=parseInt(a[1]+a[1],16),e=parseInt(a[2]+a[2],16),a=parseInt(a[3]+a[3],16)):(b=parseInt(a[1]+a[2],16),e=parseInt(a[3]+a[4],16),a=parseInt(a[5]+a[6],16));return[b,e,a]}},hsl2tuple:function(a){function b(a,e,c){0>
c&&(c+=1);1<c&&--c;return c<1/6?a+6*(e-a)*c:.5>c?e:c<2/3?a+(e-a)*(2/3-c)*6:a}var e,c,g;if(a=(new RegExp("^"+d.util.regex.hsla+"$")).exec(a)){e=parseInt(a[1]);0>e?e=(360- -1*e%360)%360:360<e&&(e%=360);e/=360;c=parseFloat(a[2]);if(0>c||100<c)return;c/=100;g=parseFloat(a[3]);if(0>g||100<g)return;g/=100;a=a[4];if(void 0!==a&&(a=parseFloat(a),0>a||1<a))return;if(0===c)g=c=e=Math.round(255*g);else{var f=.5>g?g*(1+c):g+c-g*c,l=2*g-f;g=Math.round(255*b(l,f,e+1/3));c=Math.round(255*b(l,f,e));e=Math.round(255*
b(l,f,e-1/3))}e=[g,c,e,a]}return e},rgb2tuple:function(a){var b;if(a=(new RegExp("^"+d.util.regex.rgba+"$")).exec(a)){b=[];for(var e=[],c=1;3>=c;c++){var g=a[c];"%"===g[g.length-1]&&(e[c]=!0);g=parseFloat(g);e[c]&&(g=g/100*255);if(0>g||255<g)return;b.push(Math.floor(g))}c=e[1]&&e[2]&&e[3];if((e[1]||e[2]||e[3])&&!c)return;a=a[4];if(void 0!==a){a=parseFloat(a);if(0>a||1<a)return;b.push(a)}}return b},colorname2tuple:function(a){return d.util.colors[a.toLowerCase()]},color2tuple:function(a){return(d.is.array(a)?
a:null)||d.util.colorname2tuple(a)||d.util.hex2tuple(a)||d.util.rgb2tuple(a)||d.util.hsl2tuple(a)},tuple2hex:function(a){function b(a){a=a.toString(16);1===a.length&&(a="0"+a);return a}var c=a[1],k=a[2];return"#"+b(a[0])+b(c)+b(k)},colors:{transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,
42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,
122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,
0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,
178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,
25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],
red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,
222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}};d.util.regex={};d.util.regex.number="(?:[-]?\\d*\\.\\d+|[-]?\\d+|[-]?\\d*\\.\\d+[eE]\\d+)";d.util.regex.rgba="rgb[a]?\\(("+d.util.regex.number+"[%]?)\\s*,\\s*("+d.util.regex.number+"[%]?)\\s*,\\s*("+d.util.regex.number+"[%]?)(?:\\s*,\\s*("+d.util.regex.number+"))?\\)";d.util.regex.rgbaNoBackRefs="rgb[a]?\\((?:"+d.util.regex.number+"[%]?)\\s*,\\s*(?:"+d.util.regex.number+"[%]?)\\s*,\\s*(?:"+d.util.regex.number+
"[%]?)(?:\\s*,\\s*(?:"+d.util.regex.number+"))?\\)";d.util.regex.hsla="hsl[a]?\\(("+d.util.regex.number+")\\s*,\\s*("+d.util.regex.number+"[%])\\s*,\\s*("+d.util.regex.number+"[%])(?:\\s*,\\s*("+d.util.regex.number+"))?\\)";d.util.regex.hslaNoBackRefs="hsl[a]?\\((?:"+d.util.regex.number+")\\s*,\\s*(?:"+d.util.regex.number+"[%])\\s*,\\s*(?:"+d.util.regex.number+"[%])(?:\\s*,\\s*(?:"+d.util.regex.number+"))?\\)";d.util.regex.hex3="\\#[0-9a-fA-F]{3}";d.util.regex.hex6="\\#[0-9a-fA-F]{6}";var b=c?c.requestAnimationFrame||
c.mozRequestAnimationFrame||c.webkitRequestAnimationFrame||c.msRequestAnimationFrame:null,b=b||function(a){a&&setTimeout(a,1E3/60)};d.util.requestAnimationFrame=function(a){b(a)}})(cytoscape,"undefined"===typeof window?null:window);
(function(d){d.math={};d.math.signum=function(c){return 0<c?1:0>c?-1:0};d.math.distance=function(c,b){var a=b.x-c.x,n=b.y-c.y;return Math.sqrt(a*a+n*n)};d.math.qbezierAt=function(c,b,a,n){return(1-n)*(1-n)*c+2*(1-n)*n*b+n*n*a};d.math.qbezierPtAt=function(c,b,a,n){return{x:d.math.qbezierAt(c.x,b.x,a.x,n),y:d.math.qbezierAt(c.y,b.y,a.y,n)}};d.math.boundingBoxesIntersect=function(c,b){return c.x1>b.x2||b.x1>c.x2||c.x2<b.x1||b.x2<c.x1||c.y2<b.y1||b.y2<c.y1||c.y1>b.y2||b.y1>c.y2?!1:!0};d.math.inBoundingBox=
function(c,b,a){return c.x1<=b&&b<=c.x2&&c.y1<=a&&a<=c.y2};d.math.pointInBoundingBox=function(c,b){return this.inBoundingBox(c,b.x,b.y)};d.math.roundRectangleIntersectLine=function(c,b,a,n,e,k,g){var d=this.getRoundRectangleRadius(e,k);e/=2;k/=2;var l;l=n-k-g;l=this.finiteLinesIntersect(c,b,a,n,a-e+d-g,l,a+e-d+g,l,!1);if(0<l.length)return l;l=a+e+g;l=this.finiteLinesIntersect(c,b,a,n,l,n-k+d-g,l,n+k-d+g,!1);if(0<l.length)return l;l=n+k+g;l=this.finiteLinesIntersect(c,b,a,n,a-e+d-g,l,a+e-d+g,l,!1);
if(0<l.length)return l;l=a-e-g;l=this.finiteLinesIntersect(c,b,a,n,l,n-k+d-g,l,n+k-d+g,!1);if(0<l.length)return l;var h=a-e+d,m=n-k+d;l=this.intersectLineCircle(c,b,a,n,h,m,d+g);if(0<l.length&&l[0]<=h&&l[1]<=m)return[l[0],l[1]];h=a+e-d;m=n-k+d;l=this.intersectLineCircle(c,b,a,n,h,m,d+g);if(0<l.length&&l[0]>=h&&l[1]<=m)return[l[0],l[1]];h=a+e-d;m=n+k-d;l=this.intersectLineCircle(c,b,a,n,h,m,d+g);if(0<l.length&&l[0]>=h&&l[1]>=m)return[l[0],l[1]];e=a-e+d;k=n+k-d;l=this.intersectLineCircle(c,b,a,n,e,
k,d+g);return 0<l.length&&l[0]<=e&&l[1]>=k?[l[0],l[1]]:[]};d.math.roundRectangleIntersectBox=function(c,b,a,n,e,k,g,d,l){var h=this.getRoundRectangleRadius(e,k),m=g-e/2-l,p=d-k/2+h-l,q=g+e/2+l,t=d+k/2-h+l,r=g-e/2+h-l,u=d-k/2-l;e=g+e/2-h+l;k=d+k/2+l;d=Math.min(c,a);c=Math.max(c,a);a=Math.min(b,n);b=Math.max(b,n);return c<m||d>q||b<u||a>k?!1:m>=d&&m<=c&&p>=a&&p<=b||q>=d&&q<=c&&p>=a&&p<=b||q>=d&&q<=c&&t>=a&&t<=b||m>=d&&m<=c&&t>=a&&t<=b||d>=m&&d<=q&&a>=p&&a<=t||c>=m&&c<=q&&a>=p&&a<=t||c>=m&&c<=q&&b>=
p&&b<=t||d>=m&&d<=q&&b>=p&&b<=t||r>=d&&r<=c&&u>=a&&u<=b||e>=d&&e<=c&&u>=a&&u<=b||e>=d&&e<=c&&k>=a&&k<=b||r>=d&&r<=c&&k>=a&&k<=b||d>=r&&d<=e&&a>=u&&a<=k||c>=r&&c<=e&&a>=u&&a<=k||c>=r&&c<=e&&b>=u&&b<=k||d>=r&&d<=e&&b>=u&&b<=k||this.boxIntersectEllipse(d,a,c,b,l,2*h,2*h,r+l,p+l)||this.boxIntersectEllipse(d,a,c,b,l,2*h,2*h,e-l,p+l)||this.boxIntersectEllipse(d,a,c,b,l,2*h,2*h,e-l,t-l)||this.boxIntersectEllipse(d,a,c,b,l,2*h,2*h,r+l,t-l)?!0:!1};d.math.checkInBoundingCircle=function(c,b,a,n,e,k,d,f){c=(c-
d)/(e+n);b=(b-f)/(k+n);return c*c+b*b<=a};d.math.boxInBezierVicinity=function(c,b,a,n,e,k,d,f,l,h,m){var p=.25*e+.5*d+.25*l,q=.25*k+.5*f+.25*h,t=Math.min(c,a)-m,r=Math.min(b,n)-m;c=Math.max(c,a)+m;b=Math.max(b,n)+m;if(e>=t&&e<=c&&k>=r&&k<=b||l>=t&&l<=c&&h>=r&&h<=b||p>=t&&p<=c&&q>=r&&q<=b||d>=t&&d<=c&&f>=r&&f<=b)return 1;d=Math.min(e,p,l);f=Math.min(k,q,h);e=Math.max(e,p,l);k=Math.max(k,q,h);return d>c||e<t||f>b||k<r?0:1};d.math.checkBezierInBox=function(c,b,a,n,e,k,g,f,l,h,m){for(m=0;1>=m;m+=.25){var p;
var q=m;p=d.math.qbezierAt(e,g,l,q);q=d.math.qbezierAt(k,f,h,q);p=c<=p&&p<=a&&b<=q&&q<=n;if(!p)return!1}return!0};d.math.checkStraightEdgeInBox=function(c,b,a,n,e,k,d,f,l){return c<=e&&e<=a&&c<=d&&d<=a&&b<=k&&k<=n&&b<=f&&f<=n};d.math.checkStraightEdgeCrossesBox=function(c,b,a,n,e,k,d,f,l){var h=Math.min(c,a)-l,m=Math.min(b,n)-l;c=Math.max(c,a)+l;b=Math.max(b,n)+l;d-=e;n=f-k;if(1E-4>Math.abs(d))return e>=h&&e<=c&&Math.min(k,f)<=m&&Math.max(k,f)>=b;f=(h-e)/d;if(0<f&&1>=f&&(f=n*f+k,f>=m&&f<=b))return!0;
f=(c-e)/d;if(0<f&&1>=f&&(f=n*f+k,f>=m&&f<=b))return!0;m=(m-k)/n;if(0<m&&1>=m&&(m=d*m+e,m>=h&&m<=c))return!0;k=(b-k)/n;return 0<k&&1>=k&&(m=d*k+e,m>=h&&m<=c)?!0:!1};d.math.checkBezierCrossesBox=function(c,b,a,n,e,k,d,f,l,h,m){var p=Math.min(c,a)-m,q=Math.min(b,n)-m;c=Math.max(c,a)+m;b=Math.max(b,n)+m;if(e>=p&&e<=c&&k>=q&&k<=b||l>=p&&l<=c&&h>=q&&h<=b)return!0;l=e-2*d+l;n=-2*e+2*d;d=[];1E-4>Math.abs(l)?d.push((p-e)/n,(c-e)/n):(p=n*n-4*l*(e-p),0<p&&(p=Math.sqrt(p),d.push((-n+p)/(2*l),(-n-p)/(2*l))),e=
n*n-4*l*(e-c),0<e&&(p=Math.sqrt(e),d.push((-n+p)/(2*l),(-n-p)/(2*l))));d.sort(function(a,b){return a-b});h=k-2*f+h;e=-2*k+2*f;f=[];1E-4>Math.abs(h)?f.push((q-k)/e,(b-k)/e):(q=e*e-4*h*(k-q),0<q&&(p=Math.sqrt(q),f.push((-e+p)/(2*h),(-e-p)/(2*h))),k=e*e-4*h*(k-b),0<k&&(p=Math.sqrt(k),f.push((-e+p)/(2*h),(-e-p)/(2*h))));f.sort(function(a,b){return a-b});for(k=0;k<d.length;k+=2)for(q=1;q<f.length;q+=2)if(d[k]<f[q]&&0<=f[q]&&1>=d[k]&&d[k+1]>f[q-1]&&1>=f[q-1]&&0<=d[k+1])return!0;return!1};d.math.inLineVicinity=
function(c,b,a,n,e,k,d){var f=Math.min(a,e);a=Math.max(a,e);e=Math.min(n,k);n=Math.max(n,k);return f-d<=c&&c<=a+d&&e-d<=b&&b<=n+d};d.math.inBezierVicinity=function(c,b,a,n,e,k,d,f,l){l=Math.min(a,d,e);a=Math.max(a,d,e);e=Math.min(n,f,k);n=Math.max(n,f,k);return c<l||c>a||b<e||b>n?!1:!0};d.math.solveCubic=function(c,b,a,n,e){b/=c;a/=c;var k;k=(3*a-b*b)/9;a=-(n/c*27)+b*(9*a-2*b*b);a/=54;c=k*k*k+a*a;e[1]=0;b/=3;0<c?(k=a+Math.sqrt(c),k=0>k?-Math.pow(-k,1/3):Math.pow(k,1/3),c=a-Math.sqrt(c),c=0>c?-Math.pow(-c,
1/3):Math.pow(c,1/3),e[0]=-b+k+c,e[4]=e[2]=-(b+(k+c)/2),b=Math.sqrt(3)*(-c+k)/2,e[3]=b,e[5]=-b):(e[5]=e[3]=0,0===c?(k=0>a?-Math.pow(-a,1/3):Math.pow(a,1/3),e[0]=-b+2*k,e[4]=e[2]=-(k+b)):(k=-k,c=Math.acos(a/Math.sqrt(k*k*k)),k=2*Math.sqrt(k),e[0]=-b+k*Math.cos(c/3),e[2]=-b+k*Math.cos((c+2*Math.PI)/3),e[4]=-b+k*Math.cos((c+4*Math.PI)/3)))};d.math.sqDistanceToQuadraticBezier=function(c,b,a,n,e,k,d,f){var l=[];this.solveCubic(1*a*a-4*a*e+2*a*d+4*e*e-4*e*d+d*d+n*n-4*n*k+2*n*f+4*k*k-4*k*f+f*f,9*a*e-3*a*
a-3*a*d-6*e*e+3*e*d+9*n*k-3*n*n-3*n*f-6*k*k+3*k*f,3*a*a-6*a*e+a*d-a*c+2*e*e+2*e*c-d*c+3*n*n-6*n*k+n*f-n*b+2*k*k+2*k*b-f*b,1*a*e-a*a+a*c-e*c+n*k-n*n+n*b-k*b,l);for(var h=[],m=0;6>m;m+=2)1E-7>Math.abs(l[m+1])&&0<=l[m]&&1>=l[m]&&h.push(l[m]);h.push(1);h.push(0);for(var l=-1,p,q,m=0;m<h.length;m++)p=Math.pow(1-h[m],2)*a+2*(1-h[m])*h[m]*e+h[m]*h[m]*d,q=Math.pow(1-h[m],2)*n+2*(1-h[m])*h[m]*k+h[m]*h[m]*f,p=Math.pow(p-c,2)+Math.pow(q-b,2),0<=l?p<l&&(l=p):l=p;return l};d.math.sqDistanceToFiniteLine=function(c,
b,a,n,e,k){var d=[c-a,b-n],f=[e-a,k-n];a=f[0]*f[0]+f[1]*f[1];n=d[0]*d[0]+d[1]*d[1];d=d[0]*f[0]+d[1]*f[1];f=d*d/a;return 0>d?n:f>a?(c-e)*(c-e)+(b-k)*(b-k):n-f};d.math.pointInsidePolygon=function(c,b,a,n,e,k,d,f,l){var h=Array(a.length),m=Math.asin(f[1]/Math.sqrt(f[0]*f[0]+f[1]*f[1])),m=0>f[0]?m+Math.PI/2:-m-Math.PI/2;f=Math.cos(-m);for(var p=Math.sin(-m),m=0;m<h.length/2;m++)h[2*m]=k/2*(a[2*m]*f-a[2*m+1]*p),h[2*m+1]=d/2*(a[2*m+1]*f+a[2*m]*p),h[2*m]+=n,h[2*m+1]+=e;0<l?(m=this.expandPolygon(h,-l),a=
this.joinLines(m)):a=h;for(m=e=n=0;m<a.length/2;m++)if(k=a[2*m],d=a[2*m+1],m+1<a.length/2?(l=a[2*(m+1)],h=a[2*(m+1)+1]):(l=a[2*(m+1-a.length/2)],h=a[2*(m+1-a.length/2)+1]),k!=c||l!=c)if(k>=c&&c>=l||k<=c&&c<=l)k=(c-k)/(l-k)*(h-d)+d,k>b&&n++,k<b&&e++;return 0===n%2?!1:!0};d.math.joinLines=function(c){for(var b=Array(c.length/2),a,n,e,k,d,f,l,h,m=0;m<c.length/4;m++)a=c[4*m],n=c[4*m+1],e=c[4*m+2],k=c[4*m+3],m<c.length/4-1?(d=c[4*(m+1)],f=c[4*(m+1)+1],l=c[4*(m+1)+2],h=c[4*(m+1)+3]):(d=c[0],f=c[1],l=c[2],
h=c[3]),a=this.finiteLinesIntersect(a,n,e,k,d,f,l,h,!0),b[2*m]=a[0],b[2*m+1]=a[1];return b};d.math.expandPolygon=function(c,b){for(var a=Array(2*c.length),n,e,k,d,f=0;f<c.length/2;f++){n=c[2*f];e=c[2*f+1];f<c.length/2-1?(k=c[2*(f+1)],d=c[2*(f+1)+1]):(k=c[0],d=c[1]);var l=d-e,h=-(k-n),m=Math.sqrt(l*l+h*h),l=l/m,h=h/m;a[4*f]=n+l*b;a[4*f+1]=e+h*b;a[4*f+2]=k+l*b;a[4*f+3]=d+h*b}return a};d.math.intersectLineEllipse=function(c,b,a,n,e,k){e=(a-c)/e;k=(n-b)/k;k=Math.sqrt(e*e+k*k);e=k-1;if(0>e)return[];k=
e/k;return[(a-c)*k+c,(n-b)*k+b]};d.math.dotProduct=function(c,b){if(2!=c.length||2!=b.length)throw"dot product: arguments are not vectors";return c[0]*b[0]+c[1]*b[1]};d.math.intersectLineCircle=function(c,b,a,n,e,k,d){a=[a-c,n-b];n=[e,k];n=[c-e,b-k];e=a[0]*a[0]+a[1]*a[1];k=2*(n[0]*a[0]+n[1]*a[1]);n=n[0]*n[0]+n[1]*n[1]-d*d;n=k*k-4*e*n;if(0>n)return[];d=(-k+Math.sqrt(n))/(2*e);k=(-k-Math.sqrt(n))/(2*e);e=Math.min(d,k);k=Math.max(d,k);d=[];0<=e&&1>=e&&d.push(e);0<=k&&1>=k&&d.push(k);if(0===d.length)return[];
e=d[0]*a[0]+c;k=d[0]*a[1]+b;return 1<d.length?d[0]==d[1]?[e,k]:[e,k,d[1]*a[0]+c,d[1]*a[1]+b]:[e,k]};d.math.findCircleNearPoint=function(c,b,a,n,e){n-=c;e-=b;var d=Math.sqrt(n*n+e*e);return[c+n/d*a,b+e/d*a]};d.math.findMaxSqDistanceToOrigin=function(c){for(var b=1E-6,a,n=0;n<c.length/2;n++)a=c[2*n]*c[2*n]+c[2*n+1]*c[2*n+1],a>b&&(b=a);return b};d.math.finiteLinesIntersect=function(c,b,a,n,e,d,g,f,l){var h=(g-e)*(b-d)-(f-d)*(c-e),m=(a-c)*(b-d)-(n-b)*(c-e),p=(f-d)*(a-c)-(g-e)*(n-b);return 0!==p?(e=h/
p,m/=p,0<=e&&1>=e&&0<=m&&1>=m?[c+e*(a-c),b+e*(n-b)]:l?[c+e*(a-c),b+e*(n-b)]:[]):0===h||0===m?[c,a,g].sort()[1]===g?[g,f]:[c,a,e].sort()[1]===e?[e,d]:[e,g,a].sort()[1]===a?[a,n]:[]:[]};d.math.boxIntersectEllipse=function(c,b,a,n,e,d,g,f,l){if(a<c){var h=c;c=a;a=h}n<b&&(h=b,b=n,n=h);var h=[f-d/2-e,l],m=[f+d/2+e,l],p=[f,l-g/2-e],q=[f,l+g/2+e];if(a<h[0]||c>m[0]||b>q[1]||n<p[1])return!1;if(c<=m[0]&&m[0]<=a&&b<=m[1]&&m[1]<=n||c<=h[0]&&h[0]<=a&&b<=h[1]&&h[1]<=n||c<=p[0]&&p[0]<=a&&b<=p[1]&&p[1]<=n||c<=q[0]&&
q[0]<=a&&b<=q[1]&&q[1]<=n)return!0;c=(c-f)/(d/2+e);a=(a-f)/(d/2+e);b=(b-l)/(g/2+e);n=(n-l)/(g/2+e);return 1>=c*c+b*b||1>=a*a+b*b||1>=a*a+n*n||1>=c*c+n*n?!0:!1};d.math.boxIntersectPolygon=function(c,b,a,n,e,k,g,f,l,h,m){if(a<c){var p=c;c=a;a=p}n<b&&(p=b,b=n,n=p);var p=Array(e.length),q=Math.asin(h[1]/Math.sqrt(h[0]*h[0]+h[1]*h[1])),q=0>h[0]?q+Math.PI/2:-q-Math.PI/2,t=Math.cos(-q),q=Math.sin(-q);for(h=0;h<p.length/2;h++)p[2*h]=k/2*(e[2*h]*t-e[2*h+1]*q),p[2*h+1]=g/2*(e[2*h+1]*t+e[2*h]*q),p[2*h]+=f,p[2*
h+1]+=l;e=p[0];k=p[0];g=p[1];f=p[1];for(h=1;h<p.length/2;h++)p[2*h]>k&&(k=p[2*h]),p[2*h]<e&&(e=p[2*h]),p[2*h+1]>f&&(f=p[2*h+1]),p[2*h+1]<g&&(g=p[2*h+1]);if(a<e-m||c>k+m||n<g-m||b>f+m)return!1;0<m?(h=d.math.expandPolygon(p,-m),m=d.math.joinLines(h)):m=p;for(h=0;h<p.length/2;h++)if(c<=p[2*h]&&p[2*h]<=a&&b<=p[2*h+1]&&p[2*h+1]<=n)return!0;for(h=0;h<m.length/2;h++)if(p=m[2*h],e=m[2*h+1],h<m.length/2-1?(k=m[2*(h+1)],g=m[2*(h+1)+1]):(k=m[0],g=m[1]),0<d.math.finiteLinesIntersect(p,e,k,g,c,b,a,b,!1).length||
0<d.math.finiteLinesIntersect(p,e,k,g,c,n,a,n,!1).length||0<d.math.finiteLinesIntersect(p,e,k,g,c,b,c,n,!1).length||0<d.math.finiteLinesIntersect(p,e,k,g,a,b,a,n,!1).length)return!0;return!1};d.math.polygonIntersectLine=function(c,b,a,n,e,k,g,f){for(var l=[],h=Array(a.length),m=0;m<h.length/2;m++)h[2*m]=a[2*m]*k+n,h[2*m+1]=a[2*m+1]*g+e;0<f?(m=d.math.expandPolygon(h,-f),a=d.math.joinLines(m)):a=h;for(m=0;m<a.length/2;m++)k=a[2*m],g=a[2*m+1],m<a.length/2-1?(f=a[2*(m+1)],h=a[2*(m+1)+1]):(f=a[0],h=a[1]),
k=this.finiteLinesIntersect(c,b,n,e,k,g,f,h),0!==k.length&&l.push(k[0],k[1]);return l};d.math.shortenIntersection=function(c,b,a){c=[c[0]-b[0],c[1]-b[1]];var n=Math.sqrt(c[0]*c[0]+c[1]*c[1]);a=(n-a)/n;0>a&&(a=1E-5);return[b[0]+a*c[0],b[1]+a*c[1]]};d.math.generateUnitNgonPointsFitToSquare=function(c,b){var a=d.math.generateUnitNgonPoints(c,b);return a=d.math.fitPolygonToSquare(a)};d.math.fitPolygonToSquare=function(c){for(var b,a,n=c.length/2,e=Infinity,d=Infinity,g=-Infinity,f=-Infinity,l=0;l<n;l++)b=
c[2*l],a=c[2*l+1],e=Math.min(e,b),g=Math.max(g,b),d=Math.min(d,a),f=Math.max(f,a);for(var h=2/(g-e),m=2/(f-d),l=0;l<n;l++)b=c[2*l]*=h,a=c[2*l+1]*=m,e=Math.min(e,b),g=Math.max(g,b),d=Math.min(d,a),f=Math.max(f,a);if(-1>d)for(l=0;l<n;l++)c[2*l+1]+=-1-d;return c};d.math.generateUnitNgonPoints=function(c,b){for(var a=1/c*2*Math.PI,n=0===c%2?Math.PI/2+a/2:Math.PI/2,n=n+b,e=Array(2*c),d,g=0;g<c;g++)d=g*a+n,e[2*g]=Math.cos(d),e[2*g+1]=Math.sin(-d);return e};d.math.getRoundRectangleRadius=function(c,b){return Math.min(c/
4,b/4,8)}})(cytoscape);
(function(d){function c(a,b,c){var n={};n[b]=c;switch(a){case "core":case "collection":d.fn[a](n)}if("layout"===a){for(var n=c.prototype,k=["stop"],p=0;p<k.length;p++){var q=k[p];n[q]=n[q]||function(){return this}}n.start&&!n.run?n.run=function(){this.start();return this}:!n.start&&n.run&&(n.start=function(){this.run();return this});n.on=d.define.on({layout:!0});n.one=d.define.on({layout:!0,unbindSelfOnTrigger:!0});n.once=d.define.on({layout:!0,unbindAllBindersOnTrigger:!0});n.off=d.define.off({layout:!0});
n.trigger=d.define.trigger({layout:!0});d.define.eventAliasesOn(n)}return d.util.setMap({map:e,keys:[a,b],value:c})}function b(a,b){return d.util.getMap({map:e,keys:[a,b]})}function a(a,b,c,e,n){return d.util.setMap({map:k,keys:[a,b,c,e],value:n})}function n(a,b,c,e){return d.util.getMap({map:k,keys:[a,b,c,e]})}var e={};d.extensions=e;var k={};d.modules=k;d.extension=function(){if(2==arguments.length)return b.apply(this,arguments);if(3==arguments.length)return c.apply(this,arguments);if(4==arguments.length)return n.apply(this,
arguments);if(5==arguments.length)return a.apply(this,arguments);d.util.error("Invalid extension access syntax")}})(cytoscape);
(function(d,c){d&&(d.fn.cytoscape=function(b){var a=d(this);if("get"===b)return(a[0]._cyreg=a[0]._cyreg||{}).cy;if(c.is.fn(b)){var n=(a[0]._cyreg=a[0]._cyreg||{}).cy;n&&n.isReady()?n.trigger("ready",[],b):(a=a[0]._cyreg=a[0]._cyreg||{},(a.readies=a.readies||[]).push(b))}else if(c.is.plainObject(b))return a.each(function(){var a=d.extend({},b,{container:d(this)[0]});cytoscape(a)})},d.cytoscape=cytoscape,null==d.fn.cy&&null==d.cy&&(d.fn.cy=d.fn.cytoscape,d.cy=d.cytoscape))})("undefined"!==typeof jQuery?
jQuery:null,cytoscape);
(function(d){function c(){return!1}function b(){return!0}d.Event=function(a,n){if(!(this instanceof d.Event))return new d.Event(a,n);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented?b:c):this.type=a;n&&(this.type=void 0!==n.type?n.type:this.type,this.cy=n.cy,this.cyTarget=n.cyTarget,this.cyPosition=n.cyPosition,this.cyRenderedPosition=n.cyRenderedPosition,this.namespace=n.namespace,this.layout=n.layout,this.data=n.data,this.message=n.message);this.timeStamp=
a&&a.timeStamp||+new Date};d.Event.prototype={preventDefault:function(){this.isDefaultPrevented=b;var a=this.originalEvent;a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){this.isPropagationStopped=b;var a=this.originalEvent;a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=b;this.stopPropagation()},isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c}})(cytoscape);
(function(d){d.define={data:function(c){c=d.util.extend({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,onSet:function(b){},canSet:function(b){return!0}},c);return function(b,a){var n=c,e=void 0!==this.length,k=e?this:[this],e=e?this[0]:this;if(d.is.string(b)){if(n.allowGetting&&void 0===a){var g;e&&(g=e._private[n.field][b]);return g}if(n.allowSetting&&void 0!==
a&&(e=!n.immutableKeys[b])){for(var e=0,f=k.length;e<f;e++)n.canSet(k[e])&&(k[e]._private[n.field][b]=a);n.updateStyle&&this.updateStyle();n.onSet(this);if(n.settingTriggersEvent)this[n.triggerFnName](n.settingEvent)}}else if(n.allowSetting&&d.is.plainObject(b)){for(var l in b)if(g=b[l],e=!n.immutableKeys[l])for(e=0,f=k.length;e<f;e++)n.canSet(k[e])&&(k[e]._private[n.field][l]=g);n.updateStyle&&this.updateStyle();n.onSet(this);if(n.settingTriggersEvent)this[n.triggerFnName](n.settingEvent)}else if(n.allowBinding&&
d.is.fn(b))this.bind(n.bindingEvent,b);else if(n.allowGetting&&void 0===b)return e&&(g=e._private[n.field]),g;return this}},removeData:function(c){c=d.util.extend({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},c);return function(b){var a=c,n=void 0!==this.length?this:[this];if(d.is.string(b)){for(var e=b.split(/\s+/),k=e.length,g=0;g<k;g++){var f=e[g];if(!d.is.emptyString(f)&&!a.immutableKeys[f]){b=0;for(var l=n.length;b<l;b++)n[b]._private[a.field][f]=void 0}}if(a.triggerEvent)this[a.triggerFnName](a.event)}else if(void 0===
b){b=0;for(l=n.length;b<l;b++)for(f in e=n[b]._private[a.field],e)a.immutableKeys[f]||(e[f]=void 0);if(a.triggerEvent)this[a.triggerFnName](a.event)}return this}},event:{regex:/(\w+)(\.\w+)?/,optionalTypeRegex:/(\w+)?(\.\w+)?/,falseCallback:function(){return!1}},on:function(c){c=d.util.extend({},{unbindSelfOnTrigger:!1,unbindAllBindersOnTrigger:!1},c);return function(b,a,n,e){var k=void 0!==this.length?this:[this],g=d.is.string(b),f=c;if(d.is.plainObject(a))e=n,n=a,a=void 0;else if(d.is.fn(a)||!1===
a)e=a,a=n=void 0;if(d.is.fn(n)||!1===n)e=n,n=void 0;if(!d.is.fn(e)&&!1!==e&&g)return this;g&&(g={},g[b]=e,b=g);for(var l in b)if(e=b[l],!1===e&&(e=d.define.event.falseCallback),d.is.fn(e))for(l=l.split(/\s+/),g=0;g<l.length;g++){var h=l[g];if(!d.is.emptyString(h)){var m=h.match(d.define.event.regex);if(m)for(h=m[1],m=m[2]?m[2]:void 0,h={callback:e,data:n,delegated:a?!0:!1,selector:a,selObj:new d.Selector(a),type:h,namespace:m,unbindSelfOnTrigger:f.unbindSelfOnTrigger,unbindAllBindersOnTrigger:f.unbindAllBindersOnTrigger,
binders:k},m=0;m<k.length;m++){var p=k[m]._private;p.listeners=p.listeners||[];p.listeners.push(h)}}}return this}},eventAliasesOn:function(c){c.addListener=c.listen=c.bind=c.on;c.removeListener=c.unlisten=c.unbind=c.off;c.emit=c.trigger;c.pon=c.promiseOn=function(b,a){var c=this,e=Array.prototype.slice.call(arguments,0);return new d.Promise(function(a,b){var d=e.concat([function(b){c.off.apply(c,l);a(b)}]),l=d.concat([]);c.on.apply(c,d)})}},off:function(c){c=d.util.extend({},{},c);return function(b,
a,c){var e=void 0!==this.length?this:[this],k=d.is.string(b);if(0===arguments.length){for(var g=0;g<e.length;g++)e[g]._private.listeners=[];return this}if(d.is.fn(a)||!1===a)c=a,a=void 0;k&&(k={},k[b]=c,b=k);for(var f in b)for(c=b[f],!1===c&&(c=d.define.event.falseCallback),f=f.split(/\s+/),k=0;k<f.length;k++){var l=f[k];if(!d.is.emptyString(l)&&(g=l.match(d.define.event.optionalTypeRegex)))for(var l=g[1]?g[1]:void 0,h=g[2]?g[2]:void 0,g=0;g<e.length;g++)for(var m=e[g]._private.listeners=e[g]._private.listeners||
[],p=0;p<m.length;p++){var q=m[p],t=!l||q.type===l,r=!c||c===q.callback;h&&h!==q.namespace||!t||!r||(m.splice(p,1),p--)}}return this}},trigger:function(c){c=d.util.extend({},{},c);return function(b,a,n){var e=void 0!==this.length?this:[this],k=d.is.string(b),g=d.is.plainObject(b),f=d.is.event(b),l=this._private.cy||(d.is.core(this)?this:null),h=l?l.hasCompoundNodes():!1;if(k){var m=b.split(/\s+/);b=[];for(k=0;k<m.length;k++)g=m[k],d.is.emptyString(g)||(g=g.match(d.define.event.regex),b.push({type:g[1],
namespace:g[2]?g[2]:void 0}))}else g&&(b=[b]);a?d.is.array(a)||(a=[a]):a=[];for(k=0;k<b.length;k++)for(var m=b[k],p=0;p<e.length;p++){var q=e[p],t=q._private.listeners=q._private.listeners||[],r=d.is.element(q)||c.layout;f?(g=m,g.cyTarget=g.cyTarget||q,g.cy=g.cy||l):g=new d.Event(m,{cyTarget:q,cy:l,namespace:m.namespace});m.layout&&(g.layout=m.layout);c.layout&&(g.layout=q);if(g.cyPosition){var u=g.cyPosition,v=l.zoom(),x=l.pan();g.cyRenderedPosition={x:u.x*v+x.x,y:u.y*v+x.y}}n&&(t=[{namespace:g.namespace,
type:g.type,callback:n}]);for(u=0;u<t.length;u++){var v=t[u],x=!v.namespace||v.namespace===g.namespace,w=v.type===g.type,y=v.delegated?q!==g.cyTarget&&d.is.element(g.cyTarget)&&v.selObj.matches(g.cyTarget):!0;if(x&&w&&y){x=[g];x=x.concat(a);g.data=v.data?v.data:void 0;if(v.unbindSelfOnTrigger||v.unbindAllBindersOnTrigger)t.splice(u,1),u--;if(v.unbindAllBindersOnTrigger)for(w=v.binders,y=0;y<w.length;y++){var z=w[y];if(z&&z!==q)for(var z=z._private.listeners,A=0;A<z.length;A++)z[A]===v&&(z.splice(A,
1),A--)}v=v.callback.apply(v.delegated?g.cyTarget:q,x);if(!1===v||g.isPropagationStopped())r=!1,!1===v&&(g.stopPropagation(),g.preventDefault())}}r&&(q=h?q._private.parent:null,null!=q&&0!==q.length?(q=q[0],q.trigger(g)):l.trigger(g))}return this}},animated:function(c){c=d.util.extend({},{},c);return function(){var b=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return!1;if(b=b[0])return 0<b._private.animation.current.length}},clearQueue:function(c){c=d.util.extend({},
{},c);return function(){var b=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;for(var a=0;a<b.length;a++)b[a]._private.animation.queue=[];return this}},delay:function(c){c=d.util.extend({},{},c);return function(b,a){if(!(this._private.cy||this).styleEnabled())return this;this.animate({delay:b},{duration:b,complete:a});return this}},animate:function(c){c=d.util.extend({},{},c);return function(b,a){var c=void 0!==this.length,e=c?this:[this],d=this._private.cy||
this,g=!c,c=!g;if(!d.styleEnabled())return this;var f=+new Date,l=d.style();void 0===a&&(a={});void 0===a.duration&&(a.duration=400);switch(a.duration){case "slow":a.duration=600;break;case "fast":a.duration=200}var h=!0;if(b)for(var m in b){h=!1;break}if(h)return this;b.css&&c&&(b.css=l.getValueStyle(b.css,{array:!0}));b.renderedPosition&&c&&(m=b.renderedPosition,l=d.pan(),h=d.zoom(),b.position={x:(m.x-l.x)/h,y:(m.y-l.y)/h});b.panBy&&g&&(m=b.panBy,l=d.pan(),b.pan={x:l.x+m.x,y:l.y+m.y});(m=b.center||
b.centre)&&g&&(m=d.getCenterPan(m.eles,b.zoom))&&(b.pan=m);b.fit&&g&&(g=b.fit,g=d.getFitViewport(g.eles||g.boundingBox,g.padding))&&(b.pan=g.pan,b.zoom=g.zoom);for(m=0;m<e.length;m++)g=e[m],g=g.animated()&&(void 0===a.queue||a.queue)?g._private.animation.queue:g._private.animation.current,g.push({properties:b,duration:a.duration,params:a,callTime:f});c&&d.addToAnimationPool(this);return this}},stop:function(c){c=d.util.extend({},{},c);return function(b,a){var c=void 0!==this.length?this:[this],e=
this._private.cy||this;if(!e.styleEnabled())return this;for(var d=0;d<c.length;d++){for(var g=c[d],f=g._private.animation.current,l=0;l<f.length;l++){var h=f[l];a&&(h.duration=0)}b&&(g._private.animation.queue=[]);a||(g._private.animation.current=[])}e.notify({collection:this,type:"draw"});return this}}}})(cytoscape);
(function(d){d.fn.selector=function(b,a){for(var c in b)d.Selector.prototype[c]=b[c]};d.Selector=function(b,a){if(!(this instanceof d.Selector))return new d.Selector(b,a);void 0===a&&void 0!==b&&(a=b,b=void 0);var c=this;c._private={selectorText:null,invalid:!0};if(!a||d.is.string(a)&&a.match(/^\s*$/))null==b?c.length=0:(c[0]=g(),c[0].group=b,c.length=1);else if(d.is.element(a)){var e=new d.Collection(c.cy(),[a]);c[0]=g();c[0].collection=e;c.length=1}else if(d.is.collection(a))c[0]=g(),c[0].collection=
a,c.length=1;else if(d.is.fn(a))c[0]=g(),c[0].filter=a,c.length=1;else if(d.is.string(a)){var k=null,g=function(){return{classes:[],colonSelectors:[],data:[],group:null,ids:[],meta:[],collection:null,filter:null,parent:null,ancestor:null,subject:null,child:null,descendant:null}},e="=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",f=d.util.regex.number,l;l="\"(?:\\\\\"|[^\"])+\"|'(?:\\\\'|[^'])+'|"+f;for(var h=function(a){return a.replace(/\\([\!\"\#\$\%\&\'\(\)\*\+\,\.\/\:\;\<\=\>\?\@\[\]\^\`\{\|\}\~])/g,function(a,
b,c,e){return b})},m=e.split("|"),p=0;p<m.length;p++)var q=m[p],e=e+("|@"+q);m=e.split("|");for(p=0;p<m.length;p++)q=m[p],0<=q.indexOf("!")||"="!==q&&(e+="|\\!"+q);var t={group:{query:!0,regex:"(node|edge|\\*)",populate:function(a){this.group="*"==a?a:a+"s"}},state:{query:!0,regex:"(:selected|:unselected|:locked|:unlocked|:visible|:hidden|:transparent|:grabbed|:free|:removed|:inside|:grabbable|:ungrabbable|:animated|:unanimated|:selectable|:unselectable|:orphan|:nonorphan|:parent|:child|:loop|:simple|:active|:inactive|:touch|:backgrounding|:nonbackgrounding)",
populate:function(a){this.colonSelectors.push(a)}},id:{query:!0,regex:"\\#((?:[\\w-]|(?:\\\\[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]))+)",populate:function(a){this.ids.push(h(a))}},className:{query:!0,regex:"\\.((?:[\\w-]|(?:\\\\[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]))+)",populate:function(a){this.classes.push(h(a))}},dataExists:{query:!0,regex:"\\[\\s*((?:[\\w-]|(?:\\\\[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]))+)\\s*\\]",
populate:function(a){this.data.push({field:h(a)})}},dataCompare:{query:!0,regex:"\\[\\s*((?:[\\w-]|(?:\\\\[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]))+)\\s*("+e+")\\s*("+l+")\\s*\\]",populate:function(a,b,c){c=null!=/^"(?:\\"|[^"])+"|'(?:\\'|[^'])+'$/.exec(c)?c.substring(1,c.length-1):parseFloat(c);this.data.push({field:h(a),operator:b,value:c})}},dataBool:{query:!0,regex:"\\[\\s*(\\?|\\!|\\^)\\s*((?:[\\w-]|(?:\\\\[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]))+)\\s*\\]",
populate:function(a,b){this.data.push({field:h(b),operator:a})}},metaCompare:{query:!0,regex:"\\[\\[\\s*(degree|indegree|outdegree)\\s*("+e+")\\s*("+f+")\\s*\\]\\]",populate:function(a,b,c){this.meta.push({field:h(a),operator:b,value:parseFloat(c)})}},nextQuery:{separator:!0,regex:"\\s*,\\s*",populate:function(){c[++p]=g();k=null}},child:{separator:!0,regex:"\\s+>\\s+",populate:function(){var a=g();a.parent=this;a.subject=k;c[p]=a}},descendant:{separator:!0,regex:"\\s+",populate:function(){var a=
g();a.ancestor=this;a.subject=k;c[p]=a}},subject:{modifier:!0,regex:"\\$",populate:function(){if(null!=k&&this.subject!=this)return d.util.error("Redefinition of subject in selector `"+a+"`"),!1;k=this;this.subject=this}}},e=0,r;for(r in t)t[e]=t[r],t[e].name=r,e++;t.length=e;var u=c._private.selectorText=a,p=0;r=function(a){for(var b,c,e,n=0;n<t.length;n++){var k=t[n],g=k.name;if(!d.is.fn(a)||a(g,k)){var f=u.match(new RegExp("^"+k.regex));if(null!=f){c=f;b=k;e=g;u=u.substring(f[0].length);break}}}return{expr:b,
match:c,name:e}};c[0]=g();for(function(){var a=u.match(/^\s+/);a&&(u=u.substring(a[0].length))}();;){f=r();if(null==f.expr){d.util.error("The selector `"+a+"`is invalid");return}l=[];for(e=1;e<f.match.length;e++)l.push(f.match[e]);if(!1===f.expr.populate.apply(c[p],l))return;if(u.match(/^\s*$/))break}c.length=p+1;for(e=0;e<c.length;e++)if(r=c[e],null!=r.subject){for(;r.subject!=r;)if(null!=r.parent)f=r.parent,r.parent=null,f.child=r,r=f;else if(null!=r.ancestor)f=r.ancestor,r.ancestor=null,f.descendant=
r,r=f;else{d.util.error("When adjusting references for the selector `"+r+"`, neither parent nor ancestor was found");break}c[e]=r.subject}if(null!=b)for(e=0;e<c.length;e++){if(null!=c[e].group&&c[e].group!=b){d.util.error("Group `"+c[e].group+"` conflicts with implicit group `"+b+"` in selector `"+a+"`");return}c[e].group=b}}else{d.util.error("A selector must be created from a string; found "+a);return}c._private.invalid=!1};d.selfn=d.Selector.prototype;d.selfn.size=function(){return this.length};
d.selfn.eq=function(b){return this[b]};d.selfn.find=function(){};var c=function(b,a){if(null!=b.group&&"*"!=b.group&&b.group!=a._private.group)return!1;for(var n=a.cy(),e=!0,k=0;k<b.colonSelectors.length;k++){switch(b.colonSelectors[k]){case ":selected":e=a.selected();break;case ":unselected":e=!a.selected();break;case ":selectable":e=a.selectable();break;case ":unselectable":e=!a.selectable();break;case ":locked":e=a.locked();break;case ":unlocked":e=!a.locked();break;case ":visible":e=a.visible();
break;case ":hidden":e=!a.visible();break;case ":transparent":e=a.transparent();break;case ":grabbed":e=a.grabbed();break;case ":free":e=!a.grabbed();break;case ":removed":e=a.removed();break;case ":inside":e=!a.removed();break;case ":grabbable":e=a.grabbable();break;case ":ungrabbable":e=!a.grabbable();break;case ":animated":e=a.animated();break;case ":unanimated":e=!a.animated();break;case ":parent":e=a.isNode()&&a.children().nonempty();break;case ":child":case ":nonorphan":e=a.isNode()&&a.parent().nonempty();
break;case ":orphan":e=a.isNode()&&a.parent().empty();break;case ":loop":e=a.isEdge()&&a.data("source")===a.data("target");break;case ":simple":e=a.isEdge()&&a.data("source")!==a.data("target");break;case ":active":e=a.active();break;case ":inactive":e=!a.active();break;case ":touch":e=d.is.touch();break;case ":backgrounding":e=a.backgrounding();break;case ":nonbackgrounding":e=!a.backgrounding()}if(!e)break}if(!e)return!1;e=!0;for(k=0;k<b.ids.length;k++){var g=b.ids[k],f=a._private.data.id,e=e&&
g==f;if(!e)break}if(!e)return!1;e=!0;for(k=0;k<b.classes.length&&(g=b.classes[k],e=e&&a.hasClass(g),e);k++);if(!e)return!1;k=function(a){for(var c=!0,e=0;e<b[a.name].length;e++){var n=b[a.name][e],k=n.operator,g=n.value,n=n.field,f;if(null!=k&&null!=g){f=a.fieldValue(n);var n=d.is.string(f)||d.is.number(f)?""+f:"",u=""+g,v=!1;0<=k.indexOf("@")&&(n=n.toLowerCase(),u=u.toLowerCase(),k=k.replace("@",""),v=!0);var x=!1,w=!1;0<=k.indexOf("!")&&(k=k.replace("!",""),x=!0);v&&(g=u.toLowerCase(),f=n.toLowerCase());
switch(k){case "*=":f=0<=n.search(u);break;case "$=":f=null!=(new RegExp(u+"$")).exec(n);break;case "^=":f=null!=(new RegExp("^"+u)).exec(n);break;case "=":f=f===g;break;case "!=":f=f!==g;break;case ">":f=x?f<=g:f>g;w=!0;break;case ">=":f=x?f<g:f>=g;w=!0;break;case "<":f=x?f>=g:f<g;w=!0;break;case "<=":f=x?f>g:f<=g;w=!0;break;default:f=!1}}else if(null!=k)switch(k){case "?":f=a.fieldTruthy(n);break;case "!":f=!a.fieldTruthy(n);break;case "^":f=a.fieldUndefined(n)}else f=!a.fieldUndefined(n);x&&!w&&
(f=!f,w=!0);if(!f){c=!1;break}}return c};if(!k({name:"data",fieldValue:function(b){return a._private.data[b]},fieldRef:function(a){return"element._private.data."+a},fieldUndefined:function(b){return void 0===a._private.data[b]},fieldTruthy:function(b){return a._private.data[b]?!0:!1}})||!k({name:"meta",fieldValue:function(b){return a[b]()},fieldRef:function(a){return"element."+a+"()"},fieldUndefined:function(b){return null==a[b]()},fieldTruthy:function(b){return a[b]()?!0:!1}})||null!=b.collection&&
null==b.collection._private.ids[a.id()]||null!=b.filter&&0===a.collection().filter(b.filter).size())return!1;k=function(a,b){if(null!=a){var e=!1;if(!n.hasCompoundNodes())return!1;b=b();for(var d=0;d<b.length;d++)if(c(a,b[d])){e=!0;break}return e}return!0};return k(b.parent,function(){return a.parent()})&&k(b.ancestor,function(){return a.parents()})&&k(b.child,function(){return a.children()})&&k(b.descendant,function(){return a.descendants()})?!0:!1};d.selfn.filter=function(b){var a=this,n=b.cy();
if(a._private.invalid)return new d.Collection(n);n=function(b,n){for(var d=0;d<a.length;d++)if(c(a[d],n))return!0;return!1};null==a._private.selectorText&&(n=function(){return!0});return b.filter(n)};d.selfn.matches=function(b){if(this._private.invalid)return!1;for(var a=0;a<this.length;a++)if(c(this[a],b))return!0;return!1};d.selfn.toString=d.selfn.selector=function(){for(var b="",a=function(a,b){return d.is.string(a)?b?'"'+a+'"':a:""},c=function(b){var d="";b.subject===b&&(d+="$");for(var f=a(b.group),
d=d+f.substring(0,f.length-1),f=0;f<b.data.length;f++)var l=b.data[f],d=l.value?d+("["+l.field+a(l.operator)+a(l.value,!0)+"]"):d+("["+a(l.operator)+l.field+"]");for(f=0;f<b.meta.length;f++)l=b.meta[f],d+="[["+l.field+a(l.operator)+a(l.value,!0)+"]]";for(f=0;f<b.colonSelectors.length;f++)l=b.colonSelectors[e],d+=l;for(f=0;f<b.ids.length;f++)l="#"+b.ids[e],d+=l;for(f=0;f<b.classes.length;f++)l="."+b.classes[e],d+=l;null!=b.parent&&(d=c(b.parent)+" > "+d);null!=b.ancestor&&(d=c(b.ancestor)+" "+d);null!=
b.child&&(d+=" > "+c(b.child));null!=b.descendant&&(d+=" "+c(b.descendant));return d},e=0;e<this.length;e++)b+=c(this[e]),1<this.length&&e<this.length-1&&(b+=", ");return b}})(cytoscape);
(function(d){d.Style=function(c){if(!(this instanceof d.Style))return new d.Style(c);d.is.core(c)?(this._private={cy:c,coreStyle:{},newStyle:!0},this.length=0,this.addDefaultStylesheet()):d.util.error("A style must have a core reference")};d.style=d.Style;d.styfn=d.Style.prototype;d.fn.style=function(c,b){for(var a in c)d.Style.prototype=c[a]};(function(){var c=d.util.regex.number,b=d.util.regex.rgbaNoBackRefs,a=d.util.regex.hslaNoBackRefs,n=d.util.regex.hex3,e=d.util.regex.hex6,k=function(a){return"^"+
a+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},g=function(d){return"^"+d+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+c+")\\s*\\,\\s*("+c+")\\s*,\\s*("+c+"|\\w+|"+b+"|"+a+"|"+n+"|"+e+")\\s*\\,\\s*("+c+"|\\w+|"+b+"|"+a+"|"+n+"|"+e+")\\)$"};d.style.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%"},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent",
"origin"]},autoSize:{number:!0,min:0,enums:["auto"]},number:{number:!0},size:{number:!0,min:0},bgSize:{number:!0,min:0,allowPercent:!0},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"]},bgPos:{number:!0,allowPercent:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"]},bgFit:{enums:["none","contain","cover"]},bgClip:{enums:["none","node"]},color:{color:!0},lineStyle:{enums:["solid","dotted","dashed"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier",
"unbundled-bezier","haystack"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontVariant:{enums:["small-caps","normal"]},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap"]},textBackgroundShape:{enums:["rectangle",
"roundrectangle"]},nodeShape:{enums:"rectangle roundrectangle ellipse triangle square pentagon hexagon heptagon octagon star diamond vee rhomboid".split(" ")},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:"tee triangle triangle-tee triangle-backcurve half-triangle-overshot square circle diamond none".split(" ")},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left",
"center","right"]},text:{string:!0},data:{mapping:!0,regex:k("data")},layoutData:{mapping:!0,regex:k("layoutData")},scratch:{mapping:!0,regex:k("scratch")},mapData:{mapping:!0,regex:g("mapData")},mapLayoutData:{mapping:!0,regex:g("mapLayoutData")},mapScratch:{mapping:!0,regex:g("mapScratch")},fn:{mapping:!0,fn:!0},url:{regex:"^url\\s*\\(\\s*([^\\s]+)\\s*\\s*\\)|none|(.+)$"},propList:{propList:!0},angle:{number:!0,units:"deg|rad"},textRotation:{enums:["none","autorotate"]}};var f=d.style.types,k=d.style.properties=
[{name:"text-valign",type:f.valign},{name:"text-halign",type:f.halign},{name:"color",type:f.color},{name:"content",type:f.text},{name:"text-outline-color",type:f.color},{name:"text-outline-width",type:f.size},{name:"text-outline-opacity",type:f.zeroOneNumber},{name:"text-opacity",type:f.zeroOneNumber},{name:"text-background-color",type:f.color},{name:"text-background-opacity",type:f.zeroOneNumber},{name:"text-border-color",type:f.color},{name:"text-border-width",type:f.size},{name:"text-border-style",
type:f.borderStyle},{name:"text-background-shape",type:f.textBackgroundShape},{name:"text-transform",type:f.textTransform},{name:"text-wrap",type:f.textWrap},{name:"text-max-width",type:f.size},{name:"font-family",type:f.fontFamily},{name:"font-style",type:f.fontStyle},{name:"font-weight",type:f.fontWeight},{name:"font-size",type:f.size},{name:"min-zoomed-font-size",type:f.size},{name:"edge-text-rotation",type:f.textRotation},{name:"display",type:f.display},{name:"visibility",type:f.visibility},{name:"opacity",
type:f.zeroOneNumber},{name:"z-index",type:f.nonNegativeInt},{name:"overlay-padding",type:f.size},{name:"overlay-color",type:f.color},{name:"overlay-opacity",type:f.zeroOneNumber},{name:"shadow-blur",type:f.size},{name:"shadow-color",type:f.color},{name:"shadow-opacity",type:f.zeroOneNumber},{name:"shadow-offset-x",type:f.number},{name:"shadow-offset-y",type:f.number},{name:"text-shadow-blur",type:f.size},{name:"text-shadow-color",type:f.color},{name:"text-shadow-opacity",type:f.zeroOneNumber},{name:"text-shadow-offset-x",
type:f.number},{name:"text-shadow-offset-y",type:f.number},{name:"transition-property",type:f.propList},{name:"transition-duration",type:f.time},{name:"transition-delay",type:f.time},{name:"height",type:f.autoSize},{name:"width",type:f.autoSize},{name:"shape",type:f.nodeShape},{name:"background-color",type:f.color},{name:"background-opacity",type:f.zeroOneNumber},{name:"background-blacken",type:f.nOneOneNumber},{name:"border-color",type:f.color},{name:"border-opacity",type:f.zeroOneNumber},{name:"border-width",
type:f.size},{name:"border-style",type:f.borderStyle},{name:"background-image",type:f.url},{name:"background-image-opacity",type:f.zeroOneNumber},{name:"background-position-x",type:f.bgPos},{name:"background-position-y",type:f.bgPos},{name:"background-repeat",type:f.bgRepeat},{name:"background-fit",type:f.bgFit},{name:"background-clip",type:f.bgClip},{name:"background-width",type:f.bgWH},{name:"background-height",type:f.bgWH},{name:"padding-left",type:f.size},{name:"padding-right",type:f.size},{name:"padding-top",
type:f.size},{name:"padding-bottom",type:f.size},{name:"position",type:f.position},{name:"compound-sizing-wrt-labels",type:f.compoundIncludeLabels},{name:"line-style",type:f.lineStyle},{name:"line-color",type:f.color},{name:"control-point-step-size",type:f.size},{name:"control-point-distance",type:f.number},{name:"control-point-weight",type:f.zeroOneNumber},{name:"curve-style",type:f.curveStyle},{name:"haystack-radius",type:f.zeroOneNumber},{name:"source-arrow-shape",type:f.arrowShape},{name:"target-arrow-shape",
type:f.arrowShape},{name:"mid-source-arrow-shape",type:f.arrowShape},{name:"mid-target-arrow-shape",type:f.arrowShape},{name:"source-arrow-color",type:f.color},{name:"target-arrow-color",type:f.color},{name:"mid-source-arrow-color",type:f.color},{name:"mid-target-arrow-color",type:f.color},{name:"source-arrow-fill",type:f.arrowFill},{name:"target-arrow-fill",type:f.arrowFill},{name:"mid-source-arrow-fill",type:f.arrowFill},{name:"mid-target-arrow-fill",type:f.arrowFill},{name:"selection-box-color",
type:f.color},{name:"selection-box-opacity",type:f.zeroOneNumber},{name:"selection-box-border-color",type:f.color},{name:"selection-box-border-width",type:f.size},{name:"active-bg-color",type:f.color},{name:"active-bg-opacity",type:f.zeroOneNumber},{name:"active-bg-size",type:f.size},{name:"outside-texture-bg-color",type:f.color},{name:"outside-texture-bg-opacity",type:f.zeroOneNumber}];d.style.pieBackgroundN=16;k.push({name:"pie-size",type:f.bgSize});for(g=1;g<=d.style.pieBackgroundN;g++)k.push({name:"pie-"+
g+"-background-color",type:f.color}),k.push({name:"pie-"+g+"-background-size",type:f.percent}),k.push({name:"pie-"+g+"-background-opacity",type:f.zeroOneNumber});for(g=0;g<k.length;g++)f=k[g],k[f.name]=f})();d.styfn.addDefaultStylesheet=function(){this.selector("node, edge").css({"text-valign":"top","text-halign":"center",color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-max-width":9999,
"text-background-color":"#000","text-background-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","text-background-shape":"rectangle","font-family":"Helvetica","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"edge-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-index":0,content:"","overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"shadow-opacity":0,"shadow-color":"#000","shadow-blur":10,
"shadow-offset-x":0,"shadow-offset-y":0,"text-shadow-opacity":0,"text-shadow-color":"#000","text-shadow-blur":5,"text-shadow-offset-x":0,"text-shadow-offset-y":0,"transition-property":"none","transition-duration":0,"transition-delay":0,"background-blacken":0,"background-color":"#888","background-opacity":1,"background-image":"none","background-image-opacity":1,"background-position-x":"50%","background-position-y":"50%","background-repeat":"no-repeat","background-fit":"none","background-clip":"node",
"background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","padding-top":0,"padding-bottom":0,"padding-left":0,"padding-right":0,position:"origin","compound-sizing-wrt-labels":"include","pie-size":"100%","pie-1-background-color":"black","pie-2-background-color":"black","pie-3-background-color":"black","pie-4-background-color":"black","pie-5-background-color":"black","pie-6-background-color":"black",
"pie-7-background-color":"black","pie-8-background-color":"black","pie-9-background-color":"black","pie-10-background-color":"black","pie-11-background-color":"black","pie-12-background-color":"black","pie-13-background-color":"black","pie-14-background-color":"black","pie-15-background-color":"black","pie-16-background-color":"black","pie-1-background-size":"0%","pie-2-background-size":"0%","pie-3-background-size":"0%","pie-4-background-size":"0%","pie-5-background-size":"0%","pie-6-background-size":"0%",
"pie-7-background-size":"0%","pie-8-background-size":"0%","pie-9-background-size":"0%","pie-10-background-size":"0%","pie-11-background-size":"0%","pie-12-background-size":"0%","pie-13-background-size":"0%","pie-14-background-size":"0%","pie-15-background-size":"0%","pie-16-background-size":"0%","pie-1-background-opacity":1,"pie-2-background-opacity":1,"pie-3-background-opacity":1,"pie-4-background-opacity":1,"pie-5-background-opacity":1,"pie-6-background-opacity":1,"pie-7-background-opacity":1,"pie-8-background-opacity":1,
"pie-9-background-opacity":1,"pie-10-background-opacity":1,"pie-11-background-opacity":1,"pie-12-background-opacity":1,"pie-13-background-opacity":1,"pie-14-background-opacity":1,"pie-15-background-opacity":1,"pie-16-background-opacity":1,"source-arrow-shape":"none","mid-source-arrow-shape":"none","target-arrow-shape":"none","mid-target-arrow-shape":"none","source-arrow-color":"#ddd","mid-source-arrow-color":"#ddd","target-arrow-color":"#ddd","mid-target-arrow-color":"#ddd","source-arrow-fill":"filled",
"mid-source-arrow-fill":"filled","target-arrow-fill":"filled","mid-target-arrow-fill":"filled","line-style":"solid","line-color":"#ddd","control-point-step-size":40,"control-point-weight":.5,"curve-style":"bezier","haystack-radius":.8}).selector("$node > node").css({width:"auto",height:"auto",shape:"rectangle","background-opacity":.5,"padding-top":10,"padding-right":10,"padding-left":10,"padding-bottom":10}).selector("edge").css({width:1}).selector(":active").css({"overlay-color":"black","overlay-padding":10,
"overlay-opacity":.25}).selector("core").css({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":d.is.touch()?40:15,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125});this.defaultLength=this.length};d.styfn.clear=function(){for(var c=0;c<this.length;c++)this[c]=void 0;this.length=0;this._private.newStyle=!0;return this};d.styfn.resetToDefault=
function(){this.clear();this.addDefaultStylesheet();return this};d.styfn.core=function(){return this._private.coreStyle};d.styfn.parse=function(c,b,a,n){c=d.util.camel2dash(c);var e=d.style.properties[c],k=b,g=d.style.types;if(!e||void 0===b||null===b)return null;var f=d.is.string(b);f&&(b=d.util.trim(b));e=e.type;if(!e)return null;if(a&&(""===b||null===b))return{name:c,value:b,bypass:!0,deleteBypass:!0};var l=c.match(/pie-(\d+)-background-size/);if(d.is.fn(b))return{name:c,value:b,strValue:"fn",
mapped:g.fn,bypass:a,hasPie:l};var h,m,p,q;if(f&&!n){if((n=(new RegExp(g.data.regex)).exec(b))||(h=(new RegExp(g.layoutData.regex)).exec(b))||(p=(new RegExp(g.scratch.regex)).exec(b))){if(a)return!1;var t;t=n?g.data:h?g.layoutData:g.scratch;n=n||h||p;return{name:c,value:n,strValue:""+b,mapped:t,field:n[1],bypass:a,hasPie:l}}if((h=(new RegExp(g.mapData.regex)).exec(b))||(m=(new RegExp(g.mapLayoutData.regex)).exec(b))||(q=(new RegExp(g.mapScratch.regex)).exec(b))){if(a)return!1;t=h?g.mapData:m?g.mapLayoutData:
g.mapScratch;h=h||m||q;if(!e.color&&!e.number)return!1;k=this.parse(c,h[4]);if(!k||k.mapped)return!1;f=this.parse(c,h[5]);return!f||f.mapped||k.value===f.value||e.color&&(e=k.value,m=f.value,e[0]===m[0]&&e[1]===m[1]&&e[2]===m[2]&&(e[3]===m[3]||!(null!=e[3]&&1!==e[3]||null!=m[3]&&1!==m[3])))?!1:{name:c,value:h,strValue:""+b,mapped:t,field:h[1],fieldMin:parseFloat(h[2]),fieldMax:parseFloat(h[3]),valueMin:k.value,valueMax:f.value,bypass:a,hasPie:l}}}if(e.number){m="px";e.units&&(t=e.units);e.implicitUnits&&
(m=e.implicitUnits);if(!e.unitless)if(f){if(f="px|em"+(e.allowPercent?"|\\%":""),t&&(f=t),f=b.match("^("+d.util.regex.number+")("+f+")?$"))b=f[1],t=f[2]||m}else if(!t||e.implicitUnits)t=m;b=parseFloat(b);if(isNaN(b)&&void 0===e.enums)return null;if(isNaN(b)&&void 0!==e.enums){b=k;for(l=0;l<e.enums.length;l++)if(t=e.enums[l],t===b)return{name:c,value:b,strValue:""+b,bypass:a};return null}if(e.integer&&!d.is.integer(b)||void 0!==e.min&&b<e.min||void 0!==e.max&&b>e.max)return null;c={name:c,value:b,
strValue:""+b+(t?t:""),units:t,bypass:a,hasPie:l&&null!=b&&0!==b&&""!==b};e.unitless||"px"!==t&&"em"!==t||(c.pxValue="px"!==t&&t?this.getEmSizeInPixels()*b:b);if("ms"===t||"s"===t)c.msValue="ms"===t?b:1E3*b;return c}if(e.propList){e=[];b=""+b;if("none"!==b){b=b.split(",");for(l=0;l<b.length;l++)t=d.util.trim(b[l]),d.style.properties[t]&&e.push(t);if(0===e.length)return null}return{name:c,value:e,strValue:0===e.length?"none":e.join(", "),bypass:a}}if(e.color)return(e=d.util.color2tuple(b))?{name:c,
value:e,strValue:""+b,bypass:a}:null;if(e.enums){for(l=0;l<e.enums.length;l++)if(t=e.enums[l],t===b)return{name:c,value:b,strValue:""+b,bypass:a};return null}return e.regex?(e=(new RegExp(e.regex)).exec(b))?{name:c,value:e,strValue:""+b,bypass:a}:null:e.string?{name:c,value:b,strValue:""+b,bypass:a}:null};d.styfn.selector=function(c){c="core"===c?null:new d.Selector(c);var b=this.length++;this[b]={selector:c,properties:[],mappedProperties:[],index:b};return this};d.styfn.css=function(){var c=arguments;
switch(c.length){case 1:for(var c=c[0],b=0;b<d.style.properties.length;b++){var a=d.style.properties[b],n=c[a.name];void 0===n&&(n=c[d.util.dash2camel(a.name)]);void 0!==n&&this.cssRule(a.name,n)}break;case 2:this.cssRule(c[0],c[1])}return this};d.styfn.style=d.styfn.css;d.styfn.cssRule=function(c,b){var a=this.parse(c,b);if(a){var n=this.length-1;this[n].properties.push(a);this[n].properties[a.name]=a;a.hasPie&&(this._private.hasPie=!0);a.mapped&&this[n].mappedProperties.push(a);this[n].selector||
(this._private.coreStyle[a.name]=a)}return this}})(cytoscape);
(function(d){d.styfn.apply=function(c){this._private.newStyle&&(this._private.contextStyles={},this._private.propDiffs={});for(var b=0;b<c.length;b++){var a=c[b],n=this.getContextMeta(a),e=this.getContextStyle(n),n=this.applyContextStyle(n,e,a);this.updateTransitions(a,n.diffProps);this.updateStyleHints(a)}this._private.newStyle=!1};d.styfn.getPropertiesDiff=function(c,b){var a=this._private.propDiffs=this._private.propDiffs||{},n=c+"-"+b,e=a[n];if(e)return e;for(var e=[],d={},g=0;g<this.length;g++){var f=
this[g],l="t"===c[g]!==("t"===b[g]),h=0<f.mappedProperties.length;if(l||h){var m;l&&h?m=f.properties:l?m=f.properties:h&&(m=f.mappedProperties);for(f=0;f<m.length;f++){for(var l=m[f],h=l.name,p=!1,q=g+1;q<this.length;q++){var t=this[q];if("t"===b[q]&&(p=null!=t.properties[l.name]))break}d[h]||p||(d[h]=!0,e.push(h))}}}return a[n]=e};d.styfn.getContextMeta=function(c){var b="",a;a=c._private.styleCxtKey||"";this._private.newStyle&&(a="");for(var n=0;n<this.length;n++)var e=this[n],b=e.selector&&e.selector.matches(c)?
b+"t":b+"f";a=this.getPropertiesDiff(a,b);c._private.styleCxtKey=b;return{key:b,diffPropNames:a}};d.styfn.getContextStyle=function(c){c=c.key;var b=this._private.contextStyles=this._private.contextStyles||{};if(b[c])return b[c];for(var a={_private:{key:c}},n=0;n<this.length;n++){var e=this[n];if("t"===c[n])for(var d=0;d<e.properties.length;d++){var g=e.properties[d];(a[g.name]=g).context=e}}return b[c]=a};d.styfn.applyContextStyle=function(c,b,a){c=c.diffPropNames;for(var n={},e=0;e<c.length;e++){var d=
c[e],g=b[d],f=a._private.style[d];g&&f!==g&&(f=n[d]={prev:f},this.applyParsedProperty(a,g),f.next=a._private.style[d],f.next&&f.next.bypass&&(f.next=f.next.bypassed))}return{diffProps:n}};d.styfn.updateStyleHints=function(c){var b=c._private,a=b.style,n=!1;if("nodes"===b.group&&this._private.hasPie)for(var e=1;e<=d.style.pieBackgroundN;e++){var k=b.style["pie-"+e+"-background-size"].value;if(0<k){n=!0;break}}b.hasPie=n;var n=a["text-transform"].strValue,e=a.content.strValue,g=a["font-style"].strValue,
k=a["font-size"].pxValue+"px",f=a["font-family"].strValue,l=a["font-weight"].strValue;b.labelKey=g+"$"+k+"$"+f+"$"+l+"$"+e+"$"+n+"$"+a["text-valign"].strValue+"$"+a["text-valign"].strValue+"$"+a["text-outline-width"].pxValue+"$"+a["text-wrap"].strValue+"$"+a["text-max-width"].pxValue;b.fontKey=g+"$"+l+"$"+k+"$"+f;b.boundingBoxKey=a.width.pxValue+"$"+a.height.pxValue+"$"+a["border-width"].pxValue;"edges"===c._private.group&&(b.boundingBoxKey+="$"+a["control-point-step-size"].pxValue+"$"+(a["control-point-distance"]?
a["control-point-distance"].pxValue:void 0)+"$"+a["control-point-weight"].value+"$"+a["curve-style"].strValue);b.styleKey=Date.now()};d.styfn.applyParsedProperty=function(c,b){var a=b,n=c._private.style,e,k,g=d.style.types;k=d.style.properties[a.name].type;var f=a.bypass,l=n[a.name],h=l&&l.bypass;e=c._private;if(("height"===b.name||"width"===b.name)&&c.isNode())if("auto"!==b.value||c.isParent())"auto"!==b.value&&c.isParent()&&(a=b=this.parse(b.name,"auto",f));else return!1;if(f&&a.deleteBypass)return(f=
n[a.name])?f.bypass&&f.bypassed?(n[a.name]=f.bypassed,!0):!1:!0;var m=function(){d.util.error("Do not assign mappings to elements without corresponding data (e.g. ele `"+c.id()+"` for property `"+a.name+"` with data field `"+a.field+"`); try a `["+a.field+"]` selector to limit scope to elements with `"+a.field+"` defined")};switch(a.mapped){case g.mapData:case g.mapLayoutData:case g.mapScratch:var p=a.mapped===g.mapLayoutData,q=a.mapped===g.mapScratch,g=a.field.split(".");e=q||p?e.scratch:e.data;
for(p=0;p<g.length&&e;p++)q=g[p],e=e[q];g=d.is.number(e)?(e-a.fieldMin)/(a.fieldMax-a.fieldMin):0;0>g?g=0:1<g&&(g=1);if(k.color){k=a.valueMin[0];e=a.valueMin[1];var p=a.valueMax[1],q=a.valueMin[2],t=a.valueMax[2],r=null==a.valueMin[3]?1:a.valueMin[3],u=null==a.valueMax[3]?1:a.valueMax[3];k=[Math.round(k+(a.valueMax[0]-k)*g),Math.round(e+(p-e)*g),Math.round(q+(t-q)*g),Math.round(r+(u-r)*g)];k={bypass:a.bypass,name:a.name,value:k,strValue:"rgb("+k[0]+", "+k[1]+", "+k[2]+")"}}else if(k.number)k=this.parse(a.name,
a.valueMin+(a.valueMax-a.valueMin)*g,a.bypass,!0);else return!1;k||(k=this.parse(a.name,l.strValue,a.bypass,!0));k||m();k.mapping=a;a=k;break;case g.data:case g.layoutData:case g.scratch:p=a.mapped===g.layoutData;q=a.mapped===g.scratch;g=a.field.split(".");if(e=q||p?e.scratch:e.data)for(p=0;p<g.length;p++)q=g[p],e=e[q];(k=this.parse(a.name,e,a.bypass,!0))||(k=this.parse(a.name,l?l.strValue:"",a.bypass,!0));k||m();k.mapping=a;a=k;break;case g.fn:m=a.value;m=m(c);k=this.parse(a.name,m,a.bypass,!0);
k.mapping=a;a=k;break;case void 0:break;default:return!1}f?(a.bypassed=h?l.bypassed:l,n[a.name]=a):h?l.bypassed=a:n[a.name]=a;return!0};d.styfn.update=function(){this._private.cy.elements().updateStyle()};d.styfn.updateMappers=function(c){for(var b=0;b<c.length;b++){for(var a=c[b],n=a._private.style,e=0;e<d.style.properties.length;e++){var k=n[d.style.properties[e].name];k&&k.mapping&&this.applyParsedProperty(a,k.mapping)}this.updateStyleHints(a)}};d.styfn.updateTransitions=function(c,b,a){var n=
this,e=c._private.style,k=e["transition-property"].value,g=e["transition-duration"].msValue,f=e["transition-delay"].msValue,l={};if(0<k.length&&0<g){for(var h=!1,m=0;m<k.length;m++){var p=k[m],q=e[p],t=b[p];if(t){var r=t.prev,q=null!=t.next?t.next:q,t=!1;r&&(d.is.number(r.pxValue)&&d.is.number(q.pxValue)?t=r.pxValue!==q.pxValue:d.is.number(r.value)&&d.is.number(q.value)?t=r.value!==q.value:d.is.array(r.value)&&d.is.array(q.value)&&(t=r.value[0]!==q.value[0]||r.value[1]!==q.value[1]||r.value[2]!==
q.value[2]),t&&(l[p]=q.strValue,this.applyBypass(c,p,r.strValue),h=!0))}}h&&(c._private.transitioning=!0,c.stop(),0<f&&c.delay(f),c.animate({css:l},{duration:g,queue:!1,complete:function(){a||n.removeBypasses(c,k);c._private.transitioning=!1}}))}else c._private.transitioning&&(c.stop(),this.removeBypasses(c,k),c._private.transitioning=!1)}})(cytoscape);
(function(d){d.styfn.applyBypass=function(c,b,a,n){var e=[];if("*"===b||"**"===b){if(void 0!==a)for(var k=0;k<d.style.properties.length;k++)b=d.style.properties[k],b=b.name,(b=this.parse(b,a,!0))&&e.push(b)}else if(d.is.string(b))(b=this.parse(b,a,!0))&&e.push(b);else if(d.is.plainObject(b)){var g=b;n=a;for(k=0;k<d.style.properties.length;k++)b=d.style.properties[k],b=b.name,a=g[b],void 0===a&&(a=g[d.util.dash2camel(b)]),void 0!==a&&(b=this.parse(b,a,!0))&&e.push(b)}else return!1;if(0===e.length)return!1;
a=!1;for(k=0;k<c.length;k++){for(var g=c[k],f=g._private.style,l={},h,m=0;m<e.length;m++)b=e[m],n&&(h=l[b.name]={prev:f[b.name]}),a=this.applyParsedProperty(g,b)||a,n&&(h.next=f[b.name]);n&&this.updateTransitions(g,l,!0)}return a};d.styfn.overrideBypass=function(c,b,a){for(var n=0;n<c.length;n++){var e=c[n],k=e._private.style[d.util.camel2dash(b)];k.bypass?(k.value=a,k.pxValue=a):this.applyBypass(e,b,a)}};d.styfn.removeAllBypasses=function(c,b){for(var a=0;a<c.length;a++){for(var n=c[a],e={},k=n._private.style,
g=0;g<d.style.properties.length;g++){var f=d.style.properties[g],l=this.parse(f.name,"",!0),h=e[f.name]={prev:k[f.name]};this.applyParsedProperty(n,l);h.next=k[f.name]}b&&this.updateTransitions(n,e,!0)}};d.styfn.removeBypasses=function(c,b,a){for(var n=0;n<c.length;n++){for(var e=c[n],k={},g=e._private.style,f=0;f<b.length;f++){var l=b[f],h=d.style.properties[l],l=this.parse(l,"",!0),m=k[h.name]={prev:g[h.name]};this.applyParsedProperty(e,l);m.next=g[h.name]}a&&this.updateTransitions(e,k,!0)}}})(cytoscape);
(function(d,c){d.styfn.getEmSizeInPixels=function(){var b=this._private.cy.container();return c&&b&&c.getComputedStyle?(b=c.getComputedStyle(b).getPropertyValue("font-size"),parseFloat(b)):1};d.styfn.containerCss=function(b){var a=this._private.cy.container();if(c&&a&&c.getComputedStyle)return c.getComputedStyle(a).getPropertyValue(b)};d.styfn.containerProperty=function(b){var a=this.containerCss(b);return this.parse(b,a)};d.styfn.containerPropertyAsString=function(b){if(b=this.containerProperty(b))return b.strValue}})(cytoscape,
"undefined"===typeof window?null:window);
(function(d){d.styfn.getRenderedStyle=function(c){if(c=c[0]){var b={};c=c._private.style;for(var a=this._private.cy.zoom(),n=0;n<d.style.properties.length;n++){var e=d.style.properties[n],k=c[e.name];k&&(k=k.unitless?k.strValue:k.pxValue*a+"px",b[e.name]=k,b[d.util.dash2camel(e.name)]=k)}return b}};d.styfn.getRawStyle=function(c){if(c=c[0]){var b={};c=c._private.style;for(var a=0;a<d.style.properties.length;a++){var n=d.style.properties[a],e=c[n.name];e&&(b[n.name]=e.strValue,b[d.util.dash2camel(n.name)]=
e.strValue)}return b}};d.styfn.getValueStyle=function(c,b){b=b||{};var a=b.array?[]:{},n;if(n=d.is.element(c)?c._private.style:c)for(var e=0;e<d.style.properties.length;e++){var k=d.style.properties[e],g=n[k.name]||n[d.util.dash2camel(k.name)];void 0===g||d.is.plainObject(g)||(g=this.parse(k.name,g));g&&(b.array?a.push(g):(a[k.name]=g,a[d.util.dash2camel(k.name)]=g))}return a}})(cytoscape);
(function(d){d.style.applyFromJson=function(c,b){for(var a=0;a<b.length;a++){var n=b[a],e=n.style||n.css;c.selector(n.selector);for(var d in e)c.css(d,e[d])}return c};d.style.fromJson=function(c,b){var a=new d.Style(c);d.style.applyFromJson(a,b);return a};d.styfn.fromJson=function(c){this.resetToDefault();d.style.applyFromJson(this,c);return this};d.styfn.json=function(){for(var c=[],b=this.defaultLength;b<this.length;b++){for(var a=this[b],n=a.selector,a=a.properties,e={},d=0;d<a.length;d++){var g=
a[d];e[g.name]=g.strValue}c.push({selector:n?n.toString():"core",style:e})}return c}})(cytoscape);
(function(d){d.style.applyFromString=function(c,b){function a(){n=n.length>e.length?n.substr(e.length):""}for(var n=""+b,e,k,g,n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");!(g=n.match(/^\s*$/));){var f=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!f){d.util.error("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}e=f[0];var l=f[1];if("core"!==l&&(new d.Selector(l))._private.invalid)d.util.error("Skipping parsing of block: Invalid selector found in string stylesheet: "+
l);else{var h=f[2],m=!1;k=h;for(f=[];!(g=k.match(/^\s*$/));){var p=k.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!p){d.util.error("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+h);m=!0;break}g=p[0];var q=p[1],t=p[2];(p=d.style.properties[q])?c.parse(q,t)?f.push({name:q,val:t}):d.util.error("Skipping property: Invalid property definition in: "+g):d.util.error("Skipping property: Invalid property name in: "+g);k=k.length>g.length?k.substr(g.length):""}if(m){a();
break}c.selector(l);for(l=0;l<f.length;l++)p=f[l],c.css(p.name,p.val)}a()}return c};d.style.fromString=function(c,b){var a=new d.Style(c);d.style.applyFromString(a,b);return a};d.styfn.fromString=function(c){this.resetToDefault();d.style.applyFromString(this,c);return this}})(cytoscape);
(function(d){d.stylesheet=d.Stylesheet=function(){if(!(this instanceof d.Stylesheet))return new d.Stylesheet;this.length=0};d.sheetfn=d.Stylesheet.prototype;d.sheetfn.selector=function(c){this[this.length++]={selector:c,properties:[]};return this};d.sheetfn.css=function(c,b){var a=this.length-1;if(d.is.string(c))this[a].properties.push({name:c,value:b});else if(d.is.plainObject(c))for(var n=c,e=0;e<d.style.properties.length;e++){var k=d.style.properties[e],g=n[k.name];void 0===g&&(g=n[d.util.dash2camel(k.name)]);
void 0!==g&&(c=k.name,b=g,this[a].properties.push({name:c,value:b}))}return this};d.sheetfn.style=d.sheetfn.css;d.sheetfn.generateStyle=function(c){c=new d.Style(c);for(var b=0;b<this.length;b++){var a=this[b],n=a.properties;c.selector(a.selector);for(a=0;a<n.length;a++){var e=n[a];c.css(e.name,e.value)}}return c}})(cytoscape);
(function(d,c){d.Thread=function(a){if(!(this instanceof d.Thread))return new d.Thread(a);this._private={requires:[],files:[],queue:null,pass:[]};a&&this.run(a)};d.thread=d.Thread;d.thdfn=d.Thread.prototype;d.fn.thread=function(a,b){for(var c in a)d.Thread.prototype[c]=a[c]};var b=function(a){return d.is.fn(a)?a.toString():'JSON.parse("'+JSON.stringify(a)+'")'},a=function(c){var e,f;d.is.object(c)&&c.fn?(e=n(c.fn,c.name),f=c.name,c=c.fn):d.is.fn(c)?(e=c.toString(),f=c.name):d.is.string(c)?e=c:d.is.object(c)&&
(e=c.proto?"":c.name+" = {};",f=c.name,c=c.obj);e+="\n";var l=function(b,c){if(b.prototype){var d=!1,n;for(n in b.prototype){d=!0;break}d&&(e+=a({name:c,obj:b,proto:!0},b))}};if(c.prototype&&null!=f)for(var h in c.prototype){var m="",p=c.prototype[h],q=b(p),t=f+".prototype."+h;(m+=t+" = "+q+";\n")&&(e+=m);l(p,t)}if(!d.is.string(c))for(h in c)m="",c.hasOwnProperty(h)&&(p=c[h],q=b(p),t=f+'["'+h+'"]',m+=t+" = "+q+";\n"),m&&(e+=m),l(p,t);return e};d.fn.thread({require:function(a,b){var c=a;if(d.is.string(c)&&
c.match(/\.js$/))return this._private.files.push(a),this;b&&(d.is.fn(a)?(b=b||a.name,a={name:b,fn:a}):a={name:b,obj:a});this._private.requires.push(a);return this},pass:function(a){this._private.pass.push(a);return this},run:function(b,e){var n=this,l=this._private;e=e||l.pass.shift();if(l.stopped)d.util.error("Attempted to run a stopped thread!  Start a new thread or do not stop the existing thread and reuse it.");else{if(l.running)return l.queue=l.queue.then(function(){return n.run(b,e)});var h=
null!=c,m="undefined"!==typeof module;n.trigger("run");var p=(new d.Promise(function(p,t){l.running=!0;var r=l.ran,u=d.is.string(b)?b:b.toString(),u="\n"+l.requires.map(function(b){return a(b)}).concat(l.files.map(function(a){if(h)return a=a.match(/^\.\//)||a.match(/^\.\./)?c.location.origin+c.location.pathname+a:a.match(/^\//)?c.location.origin+"/"+a:a,'importScripts("'+a+'");';if(m)return'eval( require("fs").readFileSync("'+a+'", { encoding: "utf8" }) );'})).concat(["( function(){","var ret = ("+
u+")("+JSON.stringify(e)+");","if( ret !== undefined ){ resolve(ret); }","} )()\n"]).join("\n");l.requires=[];l.files=[];if(h){var v;r||(u+="",u='function broadcast(m){ return message(m); };\nfunction message(m){ postMessage(m); };\nfunction listen(fn){\n  self.addEventListener("message", function(m){ \n    if( typeof m === "object" && (m.data.$$eval || m.data === "$$start") ){\n    } else { \n      fn( m.data );\n    }\n  });\n};\nself.addEventListener("message", function(m){  if( m.data.$$eval ){ eval( m.data.$$eval ); }  });\nfunction resolve(v){ postMessage({ $$resolve: v }); };\nfunction reject(v){ postMessage({ $$reject: v }); };'+
u,v=new Blob([u],{type:"application/javascript"}),v=c.URL.createObjectURL(v));var x=l.webworker=l.webworker||new Worker(v);r&&x.postMessage({$$eval:u});var w;x.addEventListener("message",w=function(a){var b=d.is.object(a)&&d.is.object(a.data);b&&"$$resolve"in a.data?(x.removeEventListener("message",w),p(a.data.$$resolve)):b&&"$$reject"in a.data?(x.removeEventListener("message",w),t(a.data.$$reject)):n.trigger(new d.Event(a,{type:"message",message:a.data}))},!1);r||x.postMessage("$$start")}else if(m){r=
require("path");v=require("child_process");var y=l.child=l.child||v.fork(r.join(__dirname,"thread-node-fork"));y.on("message",w=function(a){d.is.object(a)&&"$$resolve"in a?(y.removeListener("message",w),p(a.$$resolve)):d.is.object(a)&&"$$reject"in a?(y.removeListener("message",w),t(a.$$reject)):n.trigger(new d.Event({},{type:"message",message:a}))});y.send({$$eval:u})}else d.error("Tried to create thread but no underlying tech found!")})).then(function(a){l.running=!1;l.ran=!0;n.trigger("ran");return a});
null==l.queue&&(l.queue=p);return p}},message:function(a){var b=this._private;b.webworker&&b.webworker.postMessage(a);b.child&&b.child.send(a);return this},stop:function(){var a=this._private;a.webworker&&a.webworker.terminate();a.child&&a.child.kill();a.stopped=!0;return this.trigger("stop")},stopped:function(){return this._private.stopped}});var n=function(a,b){var c=a.toString();return c=c.replace(/function.*\(/,"function "+b+"(")},e=function(a){a=a||{};return function(b,c){var e=n(b,"_$_$_"+a.name);
this.require(e);return this.run(["function( data ){\n  var origResolve = resolve;\n  var res = [];\n  \n  resolve = function( val ){\n    res.push( val );\n  };\n  ","  var ret = data."+a.name+"( _$_$_"+a.name+(1<arguments.length?", "+JSON.stringify(c):"")+" );","  \n  resolve = origResolve;\n  resolve( res.length > 0 ? res : ret );\n}"].join("\n"))}};d.fn.thread({reduce:e({name:"reduce"}),reduceRight:e({name:"reduceRight"}),map:e({name:"map"})});e=d.thdfn;e.promise=e.run;e.terminate=e.halt=e.stop;
e.include=e.require;d.worker=d.Worker=d.Thread;d.fn.thread({on:d.define.on(),one:d.define.on({unbindSelfOnTrigger:!0}),off:d.define.off(),trigger:d.define.trigger()});d.define.eventAliasesOn(d.thdfn)})(cytoscape,"undefined"===typeof window?null:window);
(function(d,c){d.Fabric=function(a){if(!(this instanceof d.Fabric))return new d.Fabric(a);this._private={pass:[]};d.is.number(a);a="undefined"!==typeof navigator&&null!=navigator.hardwareConcurrency?navigator.hardwareConcurrency:"undefined"!==typeof module?require("os").cpus().length:4;for(var b=0;b<a;b++)this[b]=d.Thread();this.length=a};d.fabric=d.Fabric;d.fabfn=d.Fabric.prototype;d.fn.fabric=function(a,b){for(var c in a)d.Fabric.prototype[c]=a[c]};d.fn.fabric({require:function(a,b){for(var c=0;c<
this.length;c++)this[c].require(a,b);return this},random:function(){return this[Math.round((this.length-1)*Math.random())]},run:function(a){var b=this._private.pass.shift();return this.random().pass(b).run(a)},message:function(a){return this.random().message(a)},broadcast:function(a){for(var b=0;b<this.length;b++)this[b].message(a);return this},stop:function(){for(var a=0;a<this.length;a++)this[a].stop();return this},pass:function(a){var b=this._private.pass;d.is.array(a)?b.push(a):d.util.error("Only arrays or collections may be used with fabric.pass()");
return this},spreadSize:function(){var a=Math.ceil(this._private.pass[0].length/this.length);return a=Math.max(1,a)},spread:function(a){for(var b=this._private,c=this.spreadSize(),b=b.pass.shift().concat([]),k=[],g=0;g<this.length;g++){var f=this[g],l=b.splice(0,c),f=f.pass(l).run(a);k.push(f);if(0===b.length)break}return d.Promise.all(k).then(function(a){for(var b=[],c=0,e=0;e<a.length;e++)for(var d=a[e],n=0;n<d.length;n++){var k=d[n];b[c++]=k}return b})},map:function(a){this.require(a,"_$_$_fabmap");
return this.spread(function(a){var b=[],c=resolve;resolve=function(a){b.push(a)};for(var d=0;d<a.length;d++){var f=b.length,l=_$_$_fabmap(a[d]);f===b.length&&b.push(l)}resolve=c;return b})},filter:function(a){var b=this._private.pass[0];return this.map(a).then(function(a){for(var c=[],d=0;d<b.length;d++){var f=b[d];a[d]&&c.push(f)}return c})},sort:function(a){var b=this._private.pass[0].length,c=this.spreadSize();a=a||function(a,b){return a<b?-1:a>b?1:0};this.require(a,"_$_$_cmp");return this.spread(function(a){a=
a.sort(_$_$_cmp);resolve(a)}).then(function(d){for(var g=c;g<b;g*=2)for(var f=0;f<b;f+=2*g){for(var l=f,h=f+g,m=f+2*g,h=Math.min(h,b),m=Math.min(m,b),p=l,q=h,t=[],r=p;r<m;r++){var u=d[l],v=d[h];l<q&&(h>=m||0>=a(u,v))?(t.push(u),l++):(t.push(v),h++)}for(r=0;r<t.length;r++)d[p+r]=t[r]}return d})}});var b=function(a){a=a||{};return function(b,c){var d=this._private.pass.shift();return this.random().pass(d)[a.threadFn](b,c)}};d.fn.fabric({randomMap:b({threadFn:"map"}),reduce:b({threadFn:"reduce"}),reduceRight:b({threadFn:"reduceRight"})});
b=d.fabfn;b.promise=b.run;b.terminate=b.halt=b.stop;b.include=b.require;d.fn.fabric({on:d.define.on(),one:d.define.on({unbindSelfOnTrigger:!0}),off:d.define.off(),trigger:d.define.trigger()});d.define.eventAliasesOn(d.fabfn)})(cytoscape,"undefined"===typeof window?null:window);
(function(d,c){var b=d.is.touch(),a={},n=d.util.copy(a);d.defaults=function(b){a=d.util.extend({},n,b)};d.fn.core=function(a,b){for(var c in a)d.Core.prototype[c]=a[c]};d.Core=function(e){if(!(this instanceof d.Core))return new d.Core(e);var n=this;e=d.util.extend({},a,e);var g=e.container,f=g?g._cyreg:null;if(f=f||{},f.cy){if(g)for(;g.firstChild;)g.removeChild(g.firstChild);f.cy.notify({type:"destroy"});f={}}var l=f.readies=f.readies||[];g&&(g._cyreg=f);f.cy=n;var g=void 0!==c&&void 0!==g&&!e.headless,
h=e;h.layout=d.util.extend({name:g?"grid":"null"},h.layout);h.renderer=d.util.extend({name:g?"canvas":"null"},h.renderer);var m=function(a,b,c){return void 0!==b?b:void 0!==c?c:a},p=this._private={container:h.container,ready:!1,initrender:!1,options:h,elements:[],id2index:{},listeners:[],onRenders:[],aniEles:d.Collection(this),scratch:{},layout:null,renderer:null,notificationsEnabled:!0,minZoom:1E-50,maxZoom:1E50,zoomingEnabled:m(!0,h.zoomingEnabled),userZoomingEnabled:m(!0,h.userZoomingEnabled),
panningEnabled:m(!0,h.panningEnabled),userPanningEnabled:m(!0,h.userPanningEnabled),boxSelectionEnabled:m(!1,h.boxSelectionEnabled),autolock:m(!1,h.autolock,h.autolockNodes),autoungrabify:m(!1,h.autoungrabify,h.autoungrabifyNodes),autounselectify:m(!1,h.autounselectify),styleEnabled:void 0===h.styleEnabled?g:h.styleEnabled,zoom:d.is.number(h.zoom)?h.zoom:1,pan:{x:d.is.plainObject(h.pan)&&d.is.number(h.pan.x)?h.pan.x:0,y:d.is.plainObject(h.pan)&&d.is.number(h.pan.y)?h.pan.y:0},animation:{current:[],
queue:[]},hasCompoundNodes:!1,deferredExecQueue:[]};e=h.selectionType;p.selectionType=void 0===e||"additive"!==e&&"single"!==e?b?"additive":"single":e;d.is.number(h.minZoom)&&d.is.number(h.maxZoom)&&h.minZoom<h.maxZoom?(p.minZoom=h.minZoom,p.maxZoom=h.maxZoom):d.is.number(h.minZoom)&&void 0===h.maxZoom?p.minZoom=h.minZoom:d.is.number(h.maxZoom)&&void 0===h.minZoom&&(p.maxZoom=h.maxZoom);var q=[h.style,h.elements];(function(a){for(var b=!1,c=0;c<q.length;c++)if(d.is.promise(q[c])){b=!0;break}if(b)return d.Promise.all(q).then(a);
a(q)})(function(a){var b=a[0];a=a[1];p.styleEnabled&&n.setStyle(b);n.initRenderer(d.util.extend({hideEdgesOnViewport:h.hideEdgesOnViewport,hideLabelsOnViewport:h.hideLabelsOnViewport,textureOnViewport:h.textureOnViewport,wheelSensitivity:d.is.number(h.wheelSensitivity)&&0<h.wheelSensitivity?h.wheelSensitivity:1,motionBlur:void 0===h.motionBlur?!0:h.motionBlur,motionBlurOpacity:void 0===h.motionBlurOpacity?.05:h.motionBlurOpacity,pixelRatio:d.is.number(h.pixelRatio)&&0<h.pixelRatio?h.pixelRatio:"auto"===
h.pixelRatio?void 0:1,tapThreshold:m(d.is.touch()?8:4,d.is.touch()?h.touchTapThreshold:h.desktopTapThreshold)},h.renderer));h.initrender&&(n.on("initrender",h.initrender),n.on("initrender",function(){n._private.initrender=!0}));n.load(a,function(){n.startAnimationLoop();n._private.ready=!0;if(d.is.fn(h.ready))n.on("ready",h.ready);for(var a=0;a<l.length;a++)n.on("ready",l[a]);f&&(f.readies=[]);n.trigger("ready")},h.done)})};d.corefn=d.Core.prototype;d.fn.core({isReady:function(){return this._private.ready},
ready:function(a){if(this.isReady())this.trigger("ready",[],a);else this.on("ready",a)},initrender:function(){return this._private.initrender},destroy:function(){this.notify({type:"destroy"});var a=this.container(),b=a.parentNode;b&&b.removeChild(a);return this},getElementById:function(a){a=this._private.id2index[a];return void 0!==a?this._private.elements[a]:new d.Collection(this)},selectionType:function(){return this._private.selectionType},hasCompoundNodes:function(){return this._private.hasCompoundNodes},
styleEnabled:function(){return this._private.styleEnabled},addToPool:function(a){for(var b=this._private.elements,c=this._private.id2index,d=0;d<a.length;d++){var n=a[d],h=n._private.data.id,m=c[h];void 0===m&&(m=b.length,b.push(n),c[h]=m,n._private.index=m)}return this},removeFromPool:function(a){for(var b=this._private.elements,c=this._private.id2index,d=0;d<a.length;d++){var n=a[d]._private.data.id,h=c[n];if(void 0!==h)for(this._private.id2index[n]=void 0,b.splice(h,1),n=h;n<b.length;n++)c[b[n]._private.data.id]--,
b[n]._private.index--}},container:function(){return this._private.container},options:function(){return d.util.copy(this._private.options)},json:function(a){var b={elements:{}};this.elements().each(function(a,c){var e=c.group();b.elements[e]||(b.elements[e]=[]);b.elements[e].push(c.json())});this._private.styleEnabled&&(b.style=this.style().json());b.zoomingEnabled=this._private.zoomingEnabled;b.userZoomingEnabled=this._private.userZoomingEnabled;b.zoom=this._private.zoom;b.minZoom=this._private.minZoom;
b.maxZoom=this._private.maxZoom;b.panningEnabled=this._private.panningEnabled;b.userPanningEnabled=this._private.userPanningEnabled;b.pan=this._private.pan;b.boxSelectionEnabled=this._private.boxSelectionEnabled;b.layout=this._private.options.layout;b.renderer=this._private.options.renderer;b.hideEdgesOnViewport=this._private.options.hideEdgesOnViewport;b.hideLabelsOnViewport=this._private.options.hideLabelsOnViewport;b.textureOnViewport=this._private.options.textureOnViewport;b.wheelSensitivity=
this._private.options.wheelSensitivity;b.motionBlur=this._private.options.motionBlur;return b},defer:function(a){var b=this._private,c=b.deferredExecQueue;c.push(a);b.deferredTimeout||(b.deferredTimeout=setTimeout(function(){for(;0<c.length;)c.shift()();b.deferredTimeout=null},0))}})})(cytoscape,"undefined"===typeof window?null:window);
(function(d,c){function b(a){setTimeout(!document||"interactive"!==document.readyState&&"complete"!==document.readyState?b:a,9,a)}d.fn.core({add:function(a){if(d.is.elementOrCollection(a))if(a._private.cy===this)a=a.restore();else{for(var b=[],c=0;c<a.length;c++)b.push(a[c].json());a=new d.Collection(this,b)}else if(d.is.array(a))a=new d.Collection(this,a);else if(d.is.plainObject(a)&&(d.is.array(a.nodes)||d.is.array(a.edges))){for(var b=[],k=["nodes","edges"],c=0,g=k.length;c<g;c++){var f=k[c],l=
a[f];if(d.is.array(l))for(var h=0,m=l.length;h<m;h++){var p=l[h];p.group=f;b.push(p)}}a=new d.Collection(this,b)}else a=(new d.Element(this,a)).collection();return a},remove:function(a){d.is.elementOrCollection(a)||d.is.string(a)&&(a=this.$(a));return a.remove()},load:function(a,n,e){function k(){g.one("layoutready",function(a){g.notifications(!0);g.trigger(a);g.notify({type:"load",collection:g.elements()});g.one("load",n);g.trigger("load")}).one("layoutstop",function(){g.one("done",e);g.trigger("done")});
var a=d.util.extend({},g._private.options.layout);a.eles=g.$();g.layout(a)}var g=this;g.notifications(!1);var f=g.elements();0<f.length&&f.remove();null!=a&&(d.is.plainObject(a)||d.is.array(a))&&g.add(a);c?b(k):k();return this}})})(cytoscape,"undefined"===typeof window?null:window);
(function(d,c){d.fn.core({animated:d.define.animated(),clearQueue:d.define.clearQueue(),delay:d.define.delay(),animate:d.define.animate(),stop:d.define.stop(),addToAnimationPool:function(b){this.styleEnabled()&&this._private.aniEles.merge(b)},startAnimationLoop:function(){function b(){d.util.requestAnimationFrame(function(c){a(c);b()})}function a(a){function b(c,f){var l=c._private.animation.current,m=c._private.animation.queue,p=!1;if(0===l.length){var x=0<m.length?m.shift():null;x&&(x.callTime=
a,l.push(x))}for(var x=[],w=l.length-1;0<=w;w--){var y=l[w];if(!y.started){var z=c,p=y,A=d.is.core(z),J=k._private.style;if(!A)var O=z._private.position,O={x:O.x,y:O.y},R=J.getValueStyle(z);if(A)var U=k._private.pan,U={x:U.x,y:U.y},H=k._private.zoom;p.started=!0;p.startTime=Date.now();p.startPosition=O;p.startStyle=R;p.startPan=U;p.startZoom=H}var p=c,A=y,z=a,E=f,J=k._private.style,F=A.properties,N=A.params,B=A.startTime,P=void 0,D=!E,P=0===A.duration?1:Math.min(1,(z-B)/A.duration);0>P?P=0:1<P&&(P=
1);if(null==F.delay){var B=A.startPosition,I=F.position,S=p._private.position;I&&D&&(n(B.x,I.x)&&(S.x=e(B.x,I.x,P)),n(B.y,I.y)&&(S.y=e(B.y,I.y,P)));var I=A.startPan,S=F.pan,L=p._private.pan;if(B=null!=S&&E)n(I.x,S.x)&&(L.x=e(I.x,S.x,P)),n(I.y,S.y)&&(L.y=e(I.y,S.y,P)),p.trigger("pan");I=A.startZoom;S=F.zoom;if(E=null!=S&&E)n(I,S)&&(p._private.zoom=e(I,S,P)),p.trigger("zoom");(B||E)&&p.trigger("viewport");if((F=F.style||F.css)&&D)for(D=0;D<F.length;D++)E=F[D].name,B=e(A.startStyle[E],F[D],P),J.overrideBypass(p,
E,B)}d.is.fn(N.step)&&N.step.apply(p,[z]);1<=P&&(A.done=!0);y.done&&(x.push(y),l.splice(w,1));p=!0}for(w=0;w<x.length;w++)y=x[w],y=y.params.complete,d.is.fn(y)&&y.apply(c,[a]);f||0!==l.length||0!==m.length||h.push(c);return p}a=+new Date;for(var c=k._private.aniEles,h=[],m=0;m<c.length;m++)b(c[m]);m=b(k,!0);if(0<c.length||m){var p;0<c.length&&(p=c.updateCompoundBounds(),p=0<p.length?c.add(p):c);k.notify({type:"draw",collection:p})}c.unmerge(h)}function n(a,b){return null==a||null==b?!1:d.is.number(a)&&
d.is.number(b)||a&&b?!0:!1}function e(a,b,c){0>c?c=0:1<c&&(c=1);var e;a=null!=a.pxValue||null!=a.value?null!=a.pxValue?a.pxValue:a.value:a;e=null!=b.pxValue||null!=b.value?null!=b.pxValue?b.pxValue:b.value:b;if(d.is.number(a)&&d.is.number(e))return a+(e-a)*c;if(d.is.number(a[0])&&d.is.number(e[0])){var n=function(a,b){return Math.round(c*(b-a)+a)};b=n(a[0],e[0]);var k=n(a[1],e[1]);a=n(a[2],e[2]);return[b,k,a]}}var k=this;k.styleEnabled()&&c&&b()}})})(cytoscape,"undefined"===typeof window?null:window);
(function(d){d.fn.core({data:d.define.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeData:d.define.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0}),scratch:d.define.data({field:"scratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeScratch:d.define.removeData({field:"scratch",triggerEvent:!1})})})(cytoscape);
(function(d){d.fn.core({on:d.define.on(),one:d.define.on({unbindSelfOnTrigger:!0}),once:d.define.on({unbindAllBindersOnTrigger:!0}),off:d.define.off(),trigger:d.define.trigger()});d.define.eventAliasesOn(d.corefn)})(cytoscape);(function(d){d.fn.core({png:function(c){var b=this._private.renderer;c=c||{};return b.png(c)},jpg:function(c){var b=this._private.renderer;c=c||{};c.bg=c.bg||"#fff";return b.jpg(c)}});d.corefn.jpeg=d.corefn.jpg})(cytoscape);
(function(d){d.fn.core({layout:function(c){null==c&&(c=d.util.extend({},this._private.options.layout),c.eles=this.$());this.initLayout(c).run();return this},makeLayout:function(c){return this.initLayout(c)},initLayout:function(c){if(null==c)d.util.error("Layout options must be specified to make a layout");else if(null==c.name)d.util.error("A `name` must be specified to make a layout");else{var b=c.name,a=d.extension("layout",b);if(null==a)d.util.error("Can not apply layout: No such layout `"+b+"` found; did you include its JS file?");
else return c.eles=null!=c.eles?c.eles:this.$(),d.is.string(c.eles)&&(c.eles=this.$(c.eles)),c=new a(d.util.extend({},c,{cy:this})),d.is.plainObject(c._private)||(c._private={}),c._private.cy=this,c._private.listeners=[],c}}});d.corefn.createLayout=d.corefn.makeLayout})(cytoscape);
(function(d){d.fn.core({notify:function(c){if(this._private.batchingNotify){var b=this._private.batchNotifyEles,a=this._private.batchNotifyTypes;if(c.collection)for(var d=0;d<c.collection.length;d++){var e=c.collection[d];b.ids[e._private.id]||b.push(e)}a.ids[c.type]||a.push(c.type)}else this._private.notificationsEnabled&&this.renderer().notify(c)},notifications:function(c){var b=this._private;if(void 0===c)return b.notificationsEnabled;b.notificationsEnabled=c?!0:!1},noNotifications:function(c){this.notifications(!1);
c();this.notifications(!0)},startBatch:function(){var c=this._private;c.batchingStyle=c.batchingNotify=!0;c.batchStyleEles=[];c.batchNotifyEles=[];c.batchNotifyTypes=[];c.batchStyleEles.ids={};c.batchNotifyEles.ids={};c.batchNotifyTypes.ids={};return this},endBatch:function(){var c=this._private;c.batchingStyle=!1;(new d.Collection(this,c.batchStyleEles)).updateStyle();c.batchingNotify=!1;this.notify({type:c.batchNotifyTypes,collection:c.batchNotifyEles});return this},batch:function(c){this.startBatch();
c();this.endBatch();return this},batchData:function(c){var b=this;return this.batch(function(){for(var a in c){var d=c[a];b.getElementById(a).data(d)}})}})})(cytoscape);
(function(d){d.fn.core({renderTo:function(c,b,a,d){this._private.renderer.renderTo(c,b,a,d);return this},renderer:function(){return this._private.renderer},forceRender:function(){this.notify({type:"draw"});return this},resize:function(){this.notify({type:"resize"});this.trigger("resize");return this},initRenderer:function(c){var b=d.extension("renderer",c.name);null==b?d.util.error("Can not initialise: No such renderer `%s` found; did you include its JS file?",c.name):this._private.renderer=new b(d.util.extend({},
c,{cy:this,style:this._private.style}))},triggerOnRender:function(){for(var c=this._private.onRenders,b=0;b<c.length;b++)(0,c[b])();return this},onRender:function(c){this._private.onRenders.push(c);return this},offRender:function(c){var b=this._private.onRenders;if(null==c)return this._private.onRenders=[],this;for(var a=0;a<b.length;a++)if(c===b[a]){b.splice(a,1);break}return this}})})(cytoscape);
(function(d){d.fn.core({collection:function(c){return d.is.string(c)?this.$(c):d.is.elementOrCollection(c)?c.collection():d.is.array(c)?new d.Collection(this,c):new d.Collection(this)},nodes:function(c){var b=this.$(function(){return this.isNode()});return c?b.filter(c):b},edges:function(c){var b=this.$(function(){return this.isEdge()});return c?b.filter(c):b},$:function(c){var b=new d.Collection(this,this._private.elements);return c?b.filter(c):b}});d.corefn.elements=d.corefn.filter=d.corefn.$})(cytoscape);
(function(d){d.fn.core({style:function(c){c&&this.setStyle(c).update();return this._private.style},setStyle:function(c){var b=this._private;d.is.stylesheet(c)?b.style=c.generateStyle(this):d.is.array(c)?b.style=d.style.fromJson(this,c):d.is.string(c)?b.style=d.style.fromString(this,c):b.style=new d.Style(this);return b.style}})})(cytoscape);
(function(d){d.fn.core({autolock:function(c){if(void 0!==c)this._private.autolock=c?!0:!1;else return this._private.autolock;return this},autoungrabify:function(c){if(void 0!==c)this._private.autoungrabify=c?!0:!1;else return this._private.autoungrabify;return this},autounselectify:function(c){if(void 0!==c)this._private.autounselectify=c?!0:!1;else return this._private.autounselectify;return this},panningEnabled:function(c){if(void 0!==c)this._private.panningEnabled=c?!0:!1;else return this._private.panningEnabled;
return this},userPanningEnabled:function(c){if(void 0!==c)this._private.userPanningEnabled=c?!0:!1;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(c){if(void 0!==c)this._private.zoomingEnabled=c?!0:!1;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(c){if(void 0!==c)this._private.userZoomingEnabled=c?!0:!1;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(c){if(void 0!==c)this._private.boxSelectionEnabled=
c?!0:!1;else return this._private.boxSelectionEnabled;return this},pan:function(){var c=arguments,b=this._private.pan,a;switch(c.length){case 0:return b;case 1:if(d.is.string(c[0]))return a=c[0],b[a];if(d.is.plainObject(c[0])){if(!this._private.panningEnabled)return this;c=c[0];a=c.x;c=c.y;d.is.number(a)&&(b.x=a);d.is.number(c)&&(b.y=c);this.trigger("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;a=c[0];c=c[1];"x"!==a&&"y"!==a||!d.is.number(c)||(b[a]=c);this.trigger("pan viewport")}this.notify({type:"viewport"});
return this},panBy:function(c){var b=arguments,a=this._private.pan,n;if(!this._private.panningEnabled)return this;switch(b.length){case 1:d.is.plainObject(b[0])&&(b=b[0],n=b.x,b=b.y,d.is.number(n)&&(a.x+=n),d.is.number(b)&&(a.y+=b),this.trigger("pan viewport"));break;case 2:n=b[0],b=b[1],"x"!==n&&"y"!==n||!d.is.number(b)||(a[n]+=b),this.trigger("pan viewport")}this.notify({type:"viewport"});return this},fit:function(c,b){var a=this.getFitViewport(c,b);if(a){var d=this._private;d.zoom=a.zoom;d.pan=
a.pan;this.trigger("pan zoom viewport");this.notify({type:"viewport"})}return this},getFitViewport:function(c,b){d.is.number(c)&&void 0===b&&(b=c,c=void 0);if(this._private.panningEnabled&&this._private.zoomingEnabled){var a;d.is.string(c)?c=this.$(c):d.is.boundingBox(c)?(a=c,a={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},a.w=a.x2-a.x1,a.h=a.y2-a.y1):d.is.elementOrCollection(c)||(c=this.elements());a=a||c.boundingBox();var n=this.width(),e=this.height(),k;b=d.is.number(b)?b:0;if(!isNaN(n)&&!isNaN(e)&&0<n&&0<
e&&!isNaN(a.w)&&!isNaN(a.h)&&0<a.w&&0<a.h)return k=Math.min((n-2*b)/a.w,(e-2*b)/a.h),k=k>this._private.maxZoom?this._private.maxZoom:k,k=k<this._private.minZoom?this._private.minZoom:k,{zoom:k,pan:{x:(n-k*(a.x1+a.x2))/2,y:(e-k*(a.y1+a.y2))/2}}}},minZoom:function(c){if(void 0===c)return this._private.minZoom;d.is.number(c)&&(this._private.minZoom=c);return this},maxZoom:function(c){if(void 0===c)return this._private.maxZoom;d.is.number(c)&&(this._private.maxZoom=c);return this},zoom:function(c){var b,
a;if(void 0===c)return this._private.zoom;if(d.is.number(c))a=c;else if(d.is.plainObject(c)){a=c.level;if(c.position){b=c.position;c=this._private.pan;var n=this._private.zoom;b={x:b.x*n+c.x,y:b.y*n+c.y}}else c.renderedPosition&&(b=c.renderedPosition);if(b&&!this._private.panningEnabled)return this}if(!this._private.zoomingEnabled||!d.is.number(a)||b&&(!d.is.number(b.x)||!d.is.number(b.y)))return this;a=a>this._private.maxZoom?this._private.maxZoom:a;a=a<this._private.minZoom?this._private.minZoom:
a;if(b){c=this._private.pan;var n=this._private.zoom,e=a;b={x:-e/n*(b.x-c.x)+b.x,y:-e/n*(b.y-c.y)+b.y};this._private.zoom=a;this._private.pan=b;this.trigger(" zoom "+(c.x!==b.x||c.y!==b.y?" pan ":"")+" viewport ")}else this._private.zoom=a,this.trigger("zoom viewport");this.notify({type:"viewport"});return this},viewport:function(c){var b=this._private,a=!0,n=!0,e=[],k=!1,g=!1;if(!c)return this;d.is.number(c.zoom)||(a=!1);d.is.plainObject(c.pan)||(n=!1);if(!a&&!n)return this;a&&(a=c.zoom,a<b.minZoom||
a>b.maxZoom||!b.zoomingEnabled?k=!0:(b.zoom=a,e.push("zoom")));!n||k&&c.cancelOnFailedZoom||!b.panningEnabled||(c=c.pan,d.is.number(c.x)&&(b.pan.x=c.x,g=!1),d.is.number(c.y)&&(b.pan.y=c.y,g=!1),g||e.push("pan"));0<e.length&&(e.push("viewport"),this.trigger(e.join(" ")),this.notify({type:"viewport"}));return this},center:function(c){if(c=this.getCenterPan(c))this._private.pan=c,this.trigger("pan viewport"),this.notify({type:"viewport"});return this},getCenterPan:function(c,b){if(this._private.panningEnabled){d.is.string(c)?
c=this.elements(c):d.is.elementOrCollection(c)||(c=this.elements());var a=c.boundingBox(),n=this.width(),e=this.height();b=void 0===b?this._private.zoom:b;return{x:(n-b*(a.x1+a.x2))/2,y:(e-b*(a.y1+a.y2))/2}}},reset:function(){if(!this._private.panningEnabled||!this._private.zoomingEnabled)return this;this.viewport({pan:{x:0,y:0},zoom:1});return this},width:function(){var c=this._private.container;return c?c.clientWidth:1},height:function(){var c=this._private.container;return c?c.clientHeight:1},
extent:function(){var c=this._private.pan,b=this._private.zoom,a=this.renderedExtent(),c={x1:(a.x1-c.x)/b,x2:(a.x2-c.x)/b,y1:(a.y1-c.y)/b,y2:(a.y2-c.y)/b};c.w=c.x2-c.x1;c.h=c.y2-c.y1;return c},renderedExtent:function(){var c=this.width(),b=this.height();return{x1:0,y1:0,x2:c,y2:b,w:c,h:b}}});d.corefn.centre=d.corefn.center;d.corefn.autolockNodes=d.corefn.autolock;d.corefn.autoungrabifyNodes=d.corefn.autoungrabify})(cytoscape);
(function(d){d.fn.collection=d.fn.eles=function(b,a){for(var c in b)d.Collection.prototype[c]=b[c]};var c={prefix:{nodes:"n",edges:"e"},id:{nodes:0,edges:0},generate:function(b,a,c){a=(d.is.element(a)?a._private:a).group;c=null!=c?c:this.prefix[a]+this.id[a];if(b.getElementById(c).empty())this.id[a]++;else for(;!b.getElementById(c).empty();)c=this.prefix[a]+ ++this.id[a];return c}};d.Element=function(b,a,c){if(!(this instanceof d.Element))return new d.Element(b,a,c);c=void 0===c||c?!0:!1;if(void 0!==
b&&void 0!==a&&d.is.core(b))if("nodes"!==a.group&&"edges"!==a.group)d.util.error("An element must be of type `nodes` or `edges`; you specified `"+a.group+"`");else{this.length=1;this[0]=this;this._private={cy:b,single:!0,data:a.data||{},position:a.position||{},autoWidth:void 0,autoHeight:void 0,listeners:[],group:a.group,style:{},rstyle:{},styleCxts:[],removed:!0,selected:a.selected?!0:!1,selectable:void 0===a.selectable?!0:a.selectable?!0:!1,locked:a.locked?!0:!1,grabbed:!1,grabbable:void 0===a.grabbable?
!0:a.grabbable?!0:!1,active:!1,classes:{},animation:{current:[],queue:[]},rscratch:{},scratch:a.scratch||{},edges:[],children:[]};if(a.renderedPosition){var e=a.renderedPosition,k=b.pan(),g=b.zoom();this._private.position={x:(e.x-k.x)/g,y:(e.y-k.y)/g}}if(d.is.string(a.classes))for(e=a.classes.split(/\s+/),k=0,g=e.length;k<g;k++){var f=e[k];f&&""!==f&&(this._private.classes[f]=!0)}a.css&&b.style().applyBypass(this,a.css);(void 0===c||c)&&this.restore()}else d.util.error("An element must have a core reference and parameters set")};
d.Collection=function(b,a,n){if(!(this instanceof d.Collection))return new d.Collection(b,a);if(void 0!==b&&d.is.core(b)){var e={},k={},g=!1;if(!a)a=[];else if(0<a.length&&d.is.plainObject(a[0])&&!d.is.element(a[0])){for(var g=!0,f=[],l={},h=0,m=a.length;h<m;h++){var p=a[h];null==p.data&&(p.data={});var q=p.data;if(null==q.id)q.id=c.generate(b,p);else if(0!==b.getElementById(q.id).length||l[q.id])continue;p=new d.Element(b,p,!1);f.push(p);l[q.id]=!0}a=f}h=this.length=0;for(m=a.length;h<m;h++)if(f=
a[h])if(l=f._private.data.id,!n||n.unique&&!e[l])e[l]=f,k[l]=this.length,this[this.length]=f,this.length++;this._private={cy:b,ids:e,indexes:k};g&&this.restore()}else d.util.error("A collection must have a reference to the core")};d.elefn=d.elesfn=d.Element.prototype=d.Collection.prototype;d.elesfn.cy=function(){return this._private.cy};d.elesfn.element=function(){return this[0]};d.elesfn.collection=function(){return d.is.collection(this)?this:new d.Collection(this._private.cy,[this])};d.elesfn.unique=
function(){return new d.Collection(this._private.cy,this,{unique:!0})};d.elesfn.getElementById=function(b){var a=this._private.cy;return(b=this._private.ids[b])?b:d.Collection(a)};d.elesfn.json=function(){var b=this.element();if(null!=b){var a=b._private,b=d.util.copy({data:a.data,position:a.position,group:a.group,bypass:a.bypass,removed:a.removed,selected:a.selected,selectable:a.selectable,locked:a.locked,grabbed:a.grabbed,grabbable:a.grabbable,classes:""}),c=[],e;for(e in a.classes)a.classes[e]&&
c.push(e);for(a=0;a<c.length;a++)e=c[a],b.classes+=e+(a<c.length-1?" ":"");return b}};d.elesfn.jsons=function(){for(var b=[],a=0;a<this.length;a++){var c=this[a].json();b.push(c)}return b};d.elesfn.clone=function(){for(var b=this.cy(),a=[],c=0;c<this.length;c++){var e=this[c].json(),e=new d.Element(b,e,!1);a.push(e)}return new d.Collection(b,a)};d.elesfn.copy=d.elesfn.clone;d.elesfn.restore=function(b){var a=[],n=this.cy();void 0===b&&(b=!0);for(var e=[],e=[],k=[],g=0,f=0,l=0,h=this.length;l<h;l++){var m=
this[l];m.isNode()?(e.push(m),g++):(k.push(m),f++)}e=e.concat(k);l=0;for(h=e.length;l<h;l++)if(m=e[l],m.removed()){f=m._private;k=f.data;if(void 0===k.id)k.id=c.generate(n,m);else if(d.is.emptyString(k.id)||!d.is.string(k.id)){d.util.error("Can not create element with invalid string ID `"+k.id+"`");continue}else if(0!==n.getElementById(k.id).length){d.util.error("Can not create second element with ID `"+k.id+"`");continue}var p=k.id;if(m.isEdge()){for(var q=m,t=["source","target"],r=t.length,u=!1,
v=0;v<r;v++){var x=t[v],w=k[x];null==w||""===w?(d.util.error("Can not create edge `"+p+"` with unspecified "+x),u=!0):n.getElementById(w).empty()&&(d.util.error("Can not create edge `"+p+"` with nonexistant "+x+" `"+w+"`"),u=!0)}if(u)continue;t=n.getElementById(k.source);k=n.getElementById(k.target);t._private.edges.push(q);k._private.edges.push(q);q._private.source=t;q._private.target=k}f.ids={};f.ids[p]=m;f.removed=!1;n.addToPool(m);a.push(m)}for(l=0;l<g;l++)if(h=e[l],k=h._private.data,m=h._private.data.parent,
null!=m)if(m=n.getElementById(m),m.empty())k.parent=void 0;else{f=!1;for(p=m;!p.empty();){if(h.same(p)){f=!0;k.parent=void 0;break}p=p.parent()}f||(m[0]._private.children.push(h),h._private.parent=m[0],n._private.hasCompoundNodes=!0)}a=new d.Collection(n,a);0<a.length&&(a.add(a.connectedNodes()).add(a.parent()).updateStyle(b),b?a.rtrigger("add"):a.trigger("add"));return this};d.elesfn.removed=function(){var b=this[0];return b&&b._private.removed};d.elesfn.inside=function(){var b=this[0];return b&&
!b._private.removed};d.elesfn.remove=function(b){function a(b){if(!f[b.id()])if(f[b.id()]=!0,b.isNode()){g.push(b);for(var c=b._private.edges,e=0;e<c.length;e++)a(c[e]);b=b._private.children;for(c=0;c<b.length;c++)a(b[c])}else g.unshift(b)}function c(a,b){for(var e=a._private.edges,d=0;d<e.length;d++)if(b===e[d]){e.splice(d,1);break}}function e(a,b){b=b[0];a=a[0];for(var c=a._private.children,e=0;e<c.length;e++)if(c[e][0]===b[0]){c.splice(e,1);break}}var k=[],g=[],f={},l=this._private.cy;void 0===
b&&(b=!0);for(var h=0,m=this.length;h<m;h++){var p=this[h];a(p)}for(h=0;h<g.length;h++)if(p=g[h],p._private.removed=!0,l.removeFromPool(p),k.push(p),p.isEdge()){var m=p.source()[0],q=p.target()[0];c(m,p);c(q,p)}else m=p.parent(),0!==m.length&&e(m,p);m=l._private.elements;l._private.hasCompoundNodes=!1;for(h=0;h<m.length;h++)if(p=m[h],p.isParent()){l._private.hasCompoundNodes=!0;break}h=new d.Collection(this.cy(),k);0<h.size()&&(b&&this.cy().notify({type:"remove",collection:h}),h.trigger("remove"));
b={};for(h=0;h<g.length;h++)p=g[h],k=p._private.data.parent,"nodes"!==p._private.group||void 0===k||b[k]||(b[k]=!0,(m=l.getElementById(k))&&0!==m.length&&!m._private.removed&&0===m.children().length&&m.updateStyle());return this};d.elesfn.move=function(b){var a=this._private.cy;if(void 0!==b.source||void 0!==b.target){var c=b.source,e=b.target,d=0<a.getElementById(c).length,g=0<a.getElementById(e).length;if(d||g){var f=this.jsons();this.remove();for(b=0;b<f.length;b++){var l=f[b];"edges"===l.group&&
(d&&(l.data.source=c),g&&(l.data.target=e))}return a.add(f)}}else if(void 0!==b.parent){c=b.parent;if(null===c||0<a.getElementById(c).length)for(f=this.jsons(),b=this.descendants(),e=b.merge(b.add(this).connectedEdges()),this.remove(),b=0;b<this.length;b++)l=f[b],"nodes"===l.group&&(l.data.parent=null===c?void 0:c);return a.add(f).merge(e.restore())}return this}})(cytoscape);
(function(d){d.fn.eles({stdBreadthFirstSearch:function(c){c=d.util.extend({},c,{std:!0});return this.breadthFirstSearch(c)},breadthFirstSearch:function(c,b,a){var n,e,k;d.is.plainObject(c)&&!d.is.elementOrCollection(c)&&(n=c,c=n.roots,b=n.visit,a=n.directed,e=n.std,k=n.thisArg);a=2!==arguments.length||d.is.fn(b)?a:b;b=d.is.fn(b)?b:function(){};n=this._private.cy;for(var g=d.is.string(c)?this.filter(c):c,f=[],l=[],h={},m={},p={},q=0,t,r=this.nodes(),u=this.edges(),v=0;v<g.length;v++)g[v].isNode()&&
(f.unshift(g[v]),p[g[v].id()]=!0,l.push(g[v]),m[g[v].id()]=0);for(;0!==f.length;){var g=f.shift(),v=m[g.id()],x=h[g.id()],w=null==x?void 0:x.connectedNodes().not(g)[0],v=e?b.call(k,g,x,w,q++,v):b.call(g,q++,v,g,x,w);if(!0===v){t=g;break}if(!1===v)break;x=g.connectedEdges(a?function(){return this.data("source")===g.id()}:void 0).intersect(u);for(v=0;v<x.length;v++){var w=x[v],y=w.connectedNodes(function(){return this.id()!==g.id()}).intersect(r);0===y.length||p[y.id()]||(y=y[0],f.push(y),p[y.id()]=
!0,m[y.id()]=m[g.id()]+1,l.push(y),h[y.id()]=w)}}e=[];for(v=0;v<l.length;v++)k=l[v],(f=h[k.id()])&&e.push(f),e.push(k);return{path:new d.Collection(n,e,{unique:!0}),found:new d.Collection(n,t,{unique:!0})}},stdDepthFirstSearch:function(c){c=d.util.extend({},c,{std:!0});return this.depthFirstSearch(c)},depthFirstSearch:function(c,b,a){var n,e,k;d.is.plainObject(c)&&!d.is.elementOrCollection(c)&&(n=c,c=n.roots,b=n.visit,a=n.directed,e=n.std,k=n.thisArg);a=2!==arguments.length||d.is.fn(b)?a:b;b=d.is.fn(b)?
b:function(){};n=this._private.cy;for(var g=d.is.string(c)?this.filter(c):c,f=[],l=[],h={},m={},p={},q=0,t,r=this.edges(),u=this.nodes(),v=0;v<g.length;v++)g[v].isNode()&&(f.push(g[v]),l.push(g[v]),m[g[v].id()]=0);for(;0!==f.length;)if(g=f.pop(),!p[g.id()]){p[g.id()]=!0;var v=m[g.id()],x=h[g.id()],w=null==x?void 0:x.connectedNodes().not(g)[0],v=e?b.call(k,g,x,w,q++,v):b.call(g,q++,v,g,x,w);if(!0===v){t=g;break}if(!1===v)break;x=g.connectedEdges(a?function(){return this.data("source")===g.id()}:void 0).intersect(r);
for(v=0;v<x.length;v++){var w=x[v],y=w.connectedNodes(function(){return this.id()!==g.id()}).intersect(u);0===y.length||p[y.id()]||(y=y[0],f.push(y),m[y.id()]=m[g.id()]+1,l.push(y),h[y.id()]=w)}}e=[];for(v=0;v<l.length;v++)k=l[v],(f=h[k.id()])&&e.push(f),e.push(k);return{path:new d.Collection(n,e,{unique:!0}),found:new d.Collection(n,t,{unique:!0})}},kruskal:function(c){function b(a){for(var b=0;b<n.length;b++){var c=n[b];if(c.anySame(a))return{eles:c,index:b}}}c=d.is.fn(c)?c:function(){return 1};
for(var a=new d.Collection(this._private.cy,[]),n=[],e=this.nodes(),k=0;k<e.length;k++)n.push(e[k].collection());for(var g=this.edges().toArray().sort(function(a,b){var e=c.call(a,a),d=c.call(b,b);return e-d}),k=0;k<g.length;k++){var f=g[k],l=f.source()[0],h=f.target()[0],l=b(l),h=b(h);l.index!==h.index&&(a=a.add(f),n[l.index]=l.eles.add(h.eles),n.splice(h.index,1))}return e.add(a)},dijkstra:function(c,b,a){var n;d.is.plainObject(c)&&!d.is.elementOrCollection(c)&&(n=c,c=n.root,b=n.weight,a=n.directed);
var e=this._private.cy;a=d.is.fn(b)?a:b;b=d.is.fn(b)?b:function(){return 1};n=d.is.string(c)?this.filter(c).eq(0):c.eq(0);var k={},g={},f={},l=this.edges().filter(function(){return!this.isLoop()}),h=this.nodes(),m=[];for(c=0;c<h.length;c++)k[h[c].id()]=h[c].same(n)?0:Infinity,m.push(h[c]);m=new d.Collection(e,m);n=d.Minheap(e,m,function(a){return k[a.id()]});for(m=function(c,e){for(var d=(a?c.edgesTo(e):c.edgesWith(e)).intersect(l),n=Infinity,k,f=0;f<d.length;f++){var g=d[f],h=b.apply(g,[g]);if(h<
n||!k)n=h,k=g}return{edge:k,dist:n}};0<n.size();){c=n.pop();var p=c.value;c=c.id;var q=e.getElementById(c);f[c]=p;if(p===Math.Infinite)break;var t=q.neighborhood().intersect(h);for(c=0;c<t.length;c++){var r=t[c],u=r.id(),r=m(q,r),v=p+r.dist;v<n.getValueById(u)&&(n.edit(u,v),g[u]={node:q,edge:r.edge})}}return{distanceTo:function(a){a=d.is.string(a)?h.filter(a).eq(0):a.eq(0);return f[a.id()]},pathTo:function(a){var b=d.is.string(a)?h.filter(a).eq(0):a.eq(0);a=[];var c=b;if(0<b.length)for(a.unshift(b);g[c.id()];)b=
g[c.id()],a.unshift(b.edge),a.unshift(b.node),c=b.node;return new d.Collection(e,a)}}}});d.elesfn.bfs=d.elesfn.breadthFirstSearch;d.elesfn.dfs=d.elesfn.depthFirstSearch;d.elesfn.stdBfs=d.elesfn.stdBreadthFirstSearch;d.elesfn.stdDfs=d.elesfn.stdDepthFirstSearch})(cytoscape);
(function(d){d.fn.eles({aStar:function(c){c=c||{};var b=function(a,c,e,d){if(a==c)return d.push(n.getElementById(c)),d;if(c in e){var k=e[c],f=q[c];d.push(n.getElementById(c));d.push(n.getElementById(f));return b(a,k,e,d)}},a=function(a,b){if(0!==a.length){for(var c=0,e=b[a[0]],d=1;d<a.length;d++){var n=b[a[d]];n<e&&(e=n,c=d)}return c}},n=this._private.cy;if(null!=c&&null!=c.root){var e=d.is.string(c.root)?this.filter(c.root)[0]:c.root[0];if(null!=c.goal){var k=d.is.string(c.goal)?this.filter(c.goal)[0]:
c.goal[0],g=null!=c.heuristic&&d.is.fn(c.heuristic)?c.heuristic:function(){return 0},f=null!=c.weight&&d.is.fn(c.weight)?c.weight:function(a){return 1},l=null!=c.directed?c.directed:!1,h=[],m=[e.id()],p={},q={};c={};var t={};c[e.id()]=0;t[e.id()]=g(e);for(var r=this.edges().stdFilter(function(a){return!a.isLoop()}),u=this.nodes(),v=0;0<m.length;){var x=a(m,t),w=n.getElementById(m[x]);v++;if(w.id()==k.id())return a=b(e.id(),k.id(),p,[]),a.reverse(),{found:!0,distance:c[w.id()],path:new d.Collection(n,
a),steps:v};h.push(w.id());m.splice(x,1);x=w.connectedEdges();l&&(x=x.stdFilter(function(a){return a.data("source")===w.id()}));for(var x=x.intersect(r),y=0;y<x.length;y++){var z=x[y],A=z.connectedNodes().stdFilter(function(a){return a.id()!==w.id()}).intersect(u);if(-1==h.indexOf(A.id())){var J=c[w.id()]+f.apply(z,[z]);-1==m.indexOf(A.id())?(c[A.id()]=J,t[A.id()]=J+g(A),m.push(A.id()),p[A.id()]=w.id(),q[A.id()]=z.id()):J<c[A.id()]&&(c[A.id()]=J,t[A.id()]=J+g(A),p[A.id()]=w.id())}}}return{found:!1,
distance:void 0,path:void 0,steps:v}}}},floydWarshall:function(c){c=c||{};var b=this._private.cy,a=null!=c.weight&&d.is.fn(c.weight)?c.weight:function(a){return 1},n=null!=c.directed?c.directed:!1,e=this.edges().stdFilter(function(a){return!a.isLoop()});c=this.nodes();for(var k=c.length,g={},f=0;f<k;f++)g[c[f].id()]=f;for(var l=[],f=0;f<k;f++){for(var h=Array(k),m=0;m<k;m++)h[m]=f==m?0:Infinity;l.push(h)}var p=[],q=[],f=function(a){for(var b=0;b<k;b++){for(var c=Array(k),e=0;e<k;e++)c[e]=void 0;a.push(c)}};
f(p);f(q);for(f=0;f<e.length;f++){var m=g[e[f].source().id()],h=g[e[f].target().id()],t=a.apply(e[f],[e[f]]);l[m][h]>t&&(l[m][h]=t,p[m][h]=h,q[m][h]=e[f])}if(!n)for(f=0;f<e.length;f++)m=g[e[f].target().id()],h=g[e[f].source().id()],t=a.apply(e[f],[e[f]]),l[m][h]>t&&(l[m][h]=t,p[m][h]=h,q[m][h]=e[f]);for(a=0;a<k;a++)for(f=0;f<k;f++)for(m=0;m<k;m++)l[f][a]+l[a][m]<l[f][m]&&(l[f][m]=l[f][a]+l[a][m],p[f][m]=p[f][a]);for(var r=[],f=0;f<k;f++)r.push(c[f].id());return{distance:function(a,c){var e=d.is.string(a)?
b.filter(a)[0].id():a.id(),n=d.is.string(c)?b.filter(c)[0].id():c.id();return l[g[e]][g[n]]},path:function(a,c){var e=d.is.string(a)?b.filter(a)[0].id():a.id(),n=d.is.string(c)?b.filter(c)[0].id():c.id();e=g[e];n=g[n];if(e===n)e=b.getElementById(r[e]);else if(void 0===p[e][n])e=void 0;else{for(var k=[b.getElementById(r[e])],f=e;e!==n;)f=e,e=p[e][n],k.push(q[f][e]),k.push(b.getElementById(r[e]));e=k}return new d.Collection(b,e)}}},bellmanFord:function(c){c=c||{};var b=null!=c.weight&&d.is.fn(c.weight)?
c.weight:function(a){return 1},a=null!=c.directed?c.directed:!1;if(null!=c.root){var n=d.is.string(c.root)?this.filter(c.root)[0]:c.root[0],e=this._private.cy;c=this.edges().stdFilter(function(a){return!a.isLoop()});for(var k=this.nodes(),g=k.length,f={},l=0;l<g;l++)f[k[l].id()]=l;for(var h=[],m=[],p=[],l=0;l<g;l++)k[l].id()===n.id()?h[l]=0:h[l]=Infinity,m[l]=void 0;for(var q=!1,l=1;l<g;l++){for(var q=!1,t=0;t<c.length;t++){var r=f[c[t].source().id()],u=f[c[t].target().id()],v=b.apply(c[t],[c[t]]),
x=h[r]+v;x<h[u]&&(h[u]=x,m[u]=r,p[u]=c[t],q=!0);a||(x=h[u]+v,x<h[r]&&(h[r]=x,m[r]=u,p[r]=c[t],q=!0))}if(!q)break}if(q)for(t=0;t<c.length;t++)if(r=f[c[t].source().id()],u=f[c[t].target().id()],v=b.apply(c[t],[c[t]]),h[r]+v<h[u])return d.util.error("Error: graph contains a negative weigth cycle!"),{pathTo:void 0,distanceTo:void 0,hasNegativeWeightCycle:!0};for(var w=[],l=0;l<g;l++)w.push(k[l].id());return{distanceTo:function(a){a=d.is.string(a)?e.filter(a)[0].id():a.id();return h[f[a]]},pathTo:function(a){var b=
d.is.string(a)?e.filter(a)[0].id():a.id();a:{a=f[n.id()];for(var c=f[b],b=[];;){b.push(e.getElementById(w[c]));b.push(p[c]);if(a===c){a=b;break a}c=m[c];if("undefined"===typeof c){a=void 0;break a}}}null!=a&&a.reverse();return new d.Collection(e,a)},hasNegativeWeightCycle:!1}}d.util.error("options.root required")},kargerStein:function(c){var b=function(a,b,c){a=c[a];var e=b[a[1]],d=b[a[2]];c=c.filter(function(a){return b[a[1]]===e&&b[a[2]]===d||b[a[1]]===d&&b[a[2]]===e?!1:!0});for(a=0;a<c.length;a++){var n=
c[a];n[1]===d?(c[a]=n.slice(0),c[a][1]=e):n[2]===d&&(c[a]=n.slice(0),c[a][2]=e)}for(a=0;a<b.length;a++)b[a]===d&&(b[a]=e);return c},a=function(c,e,d,n){if(d<=n)return e;var k=Math.floor(Math.random()*e.length);e=b(k,c,e);return a(c,e,d-1,n)};c=this._private.cy;var n=this.edges().stdFilter(function(a){return!a.isLoop()}),e=this.nodes(),k=e.length,g=n.length,f=Math.ceil(Math.pow(Math.log(k)/Math.LN2,2)),l=Math.floor(k/Math.sqrt(2));if(2>k)d.util.error("At least 2 nodes are required for KargerSteing algorithm!");
else{for(var h={},m=0;m<k;m++)h[e[m].id()]=m;for(var p=[],m=0;m<g;m++){var q=n[m];p.push([m,h[q.source().id()],h[q.target().id()]])}for(var g=Infinity,t,h=[],m=0;m<k;m++)h.push(m);for(m=0;m<=f;m++){var q=h.slice(0),r=a(q,p,k,l),u=q.slice(0),v=a(q,r,l,2),r=a(u,r,l,2);v.length<=r.length&&v.length<g?(g=v.length,t=[v,q]):r.length<=v.length&&r.length<g&&(g=r.length,t=[r,u])}k=t[0].map(function(a){return n[a[0]]});f=[];l=[];p=t[1][0];for(m=0;m<t[1].length;m++)t[1][m]===p?f.push(e[m]):l.push(e[m]);return{cut:new d.Collection(c,
k),partition1:new d.Collection(c,f),partition2:new d.Collection(c,l)}}},pageRank:function(c){c=c||{};var b=function(a){for(var b=a.length,c=0,e=0;e<b;e++)c+=a[e];for(e=0;e<b;e++)a[e]/=c},a=null!=c&&null!=c.dampingfactor?c.dampingFactor:.8,n=null!=c&&null!=c.precision?c.precision:1E-6,e=null!=c&&null!=c.iterations?c.iterations:200,k=null!=c&&null!=c.weight&&d.is.fn(c.weight)?c.weight:function(a){return 1},g=this._private.cy,f=this.edges().stdFilter(function(a){return!a.isLoop()}),l=this.nodes();c=
l.length;for(var h=f.length,m={},p=0;p<c;p++)m[l[p].id()]=p;for(var l=[],q=[],a=(1-a)/c,p=0;p<c;p++){for(var t=[],r=0;r<c;r++)t.push(0);l.push(t);q.push(0)}for(p=0;p<h;p++){var u=f[p],r=m[u.source().id()],t=m[u.target().id()],u=k.apply(u,[u]);l[t][r]+=u;q[r]+=u}k=1/c+a;for(r=0;r<c;r++)if(0===q[r])for(p=0;p<c;p++)l[p][r]=k;else for(p=0;p<c;p++)l[p][r]=l[p][r]/q[r]+a;for(var v=[],k=[],p=0;p<c;p++)v.push(1),k.push(0);for(f=0;f<e;f++){q=k.slice(0);for(p=0;p<c;p++)for(r=0;r<c;r++)q[p]+=l[p][r]*v[r];b(q);
h=v;v=q;for(p=q=0;p<c;p++)q+=Math.pow(h[p]-v[p],2);if(q<n)break}return{rank:function(a){a=d.is.string(a)?g.filter(a)[0].id():a.id();return v[m[a]]}}},degreeCentralityNormalized:function(c){c=c||{};var b=null!=c.directed?c.directed:!1,a=this.nodes(),n=a.length;if(b){for(var e={},k={},g=0,f=0,b=0;b<n;b++)m=a[b],p=this.degreeCentrality(d.util.extend({},c,{root:m})),g<p.indegree&&(g=p.indegree),f<p.outdegree&&(f=p.outdegree),e[m.id()]=p.indegree,k[m.id()]=p.outdegree;return{indegree:function(a){a=d.is.string(a)?
cy.filter(a)[0].id():a.id();return e[a]/g},outdegree:function(a){a=d.is.string(a)?cy.filter(a)[0].id():a.id();return k[a]/f}}}for(var l={},h=0,b=0;b<n;b++){var m=a[b],p=this.degreeCentrality(d.util.extend({},c,{root:m}));h<p.degree&&(h=p.degree);l[m.id()]=p.degree}return{degree:function(a){a=d.is.string(a)?cy.filter(a)[0].id():a.id();return l[a]/h}}},degreeCentrality:function(c){c=c||{};if(null!=c&&null!=c.root){var b=d.is.string(c.root)?this.filter(c.root)[0]:c.root[0],a=null!=c.weight&&d.is.fn(c.weight)?
c.weight:function(a){return 1},n=null!=c.directed?c.directed:!1;c=null!=c.alpha&&d.is.number(c.alpha)?c.alpha:0;if(n){for(var e=b.connectedEdges('edge[target = "'+b.id()+'"]').intersection(this),k=b.connectedEdges('edge[source = "'+b.id()+'"]').intersection(this),g=e.length,f=k.length,l=0,h=0,b=0;b<e.length;b++)n=e[b],l+=a.apply(n,[n]);for(b=0;b<k.length;b++)n=k[b],h+=a.apply(n,[n]);return{indegree:Math.pow(g,1-c)*Math.pow(l,c),outdegree:Math.pow(f,1-c)*Math.pow(h,c)}}e=b.connectedEdges().intersection(this);
k=e.length;for(b=g=0;b<e.length;b++)n=e[b],g+=a.apply(n,[n]);return{degree:Math.pow(k,1-c)*Math.pow(g,c)}}},closenessCentralityNormalized:function(c){c=c||{};var b={},a=0,n=this.nodes();c=this.floydWarshall({weight:c.weight,directed:c.directed});for(var e=0;e<n.length;e++){for(var k=0,g=0;g<n.length;g++)e!=g&&(k+=1/c.distance(n[e],n[g]));a<k&&(a=k);b[n[e].id()]=k}return{closeness:function(c){c=d.is.string(c)?cy.filter(c)[0].id():c.id();return b[c]/a}}},closenessCentrality:function(c){c=c||{};if(null!=
c.root){var b=d.is.string(c.root)?this.filter(c.root)[0]:c.root[0],a=null!=c.weight&&d.is.fn(c.weight)?c.weight:function(){return 1};c=null!=c.directed&&d.is.bool(c.directed)?c.directed:!1;a=this.dijkstra({root:b,weight:a,directed:c});c=0;for(var n=this.nodes(),e=0;e<n.length;e++)n[e].id()!=b.id()&&(c+=1/a.distanceTo(n[e]));return c}d.util.error("options.root required")},betweennessCentrality:function(c){c=c||{};if(null!=c.weight&&d.is.fn(c.weight))var b=c.weight,a=!0;else a=!1;var n=null!=c.directed&&
d.is.bool(c.directed)?c.directed:!1,e=this._private.cy,k=this.nodes();c={};for(var g={},f=0;f<k.length;f++)n?c[k[f].id()]=k[f].outgoers("node"):c[k[f].id()]=k[f].openNeighborhood("node");for(f=0;f<k.length;f++)g[k[f].id()]=0;for(var l=0;l<k.length;l++){for(var n=[],h={},m={},p={},q=[],f=0;f<k.length;f++)h[k[f].id()]=[],m[k[f].id()]=0,p[k[f].id()]=Number.POSITIVE_INFINITY;m[k[l].id()]=1;p[k[l].id()]=0;for(q.unshift(k[l].id());0<q.length;){var t=q.pop();n.push(t);a?c[t].forEach(function(a){var c=0<
e.$("#"+t).edgesTo(a).length?e.$("#"+t).edgesTo(a)[0]:a.edgesTo("#"+t)[0],c=b.apply(c,[c]);if(p[a.id()]>p[t]+c){p[a.id()]=p[t]+c;0>q.indexOf(a.id())||q.splice(q.indexOf(a.id()),1);var d=q,n=a.id();d.unshift(n);for(n=0;p[d[n]]<p[d[n+1]]&&n<d.length-1;n++){var k=d[n];d[n]=d[n+1];d[n+1]=k}m[a.id()]=0;h[a.id()]=[]}p[a.id()]==p[t]+c&&(m[a.id()]=m[a.id()]+m[t],h[a.id()].push(t))}):c[t].forEach(function(a){p[a.id()]==Number.POSITIVE_INFINITY&&(q.unshift(a.id()),p[a.id()]=p[t]+1);p[a.id()]==p[t]+1&&(m[a.id()]=
m[a.id()]+m[t],h[a.id()].push(t))})}for(var r={},f=0;f<k.length;f++)r[k[f].id()]=0;for(;0<n.length;){var u=n.pop();h[u].forEach(function(a){r[a]+=m[a]/m[u]*(1+r[u]);u!=k[l].id()&&(g[u]+=r[u])})}}var v=0,x;for(x in g)v<g[x]&&(v=g[x]);a={betweenness:function(a){a=d.is.string(a)?e.filter(a)[0].id():a.id();return g[a]},betweennessNormalized:function(a){a=d.is.string(a)?e.filter(a)[0].id():a.id();return g[a]/v}};a.betweennessNormalised=a.betweennessNormalized;return a}});d.elesfn.dc=d.elesfn.degreeCentrality;
d.elesfn.dcn=d.elesfn.degreeCentralityNormalised=d.elesfn.degreeCentralityNormalized;d.elesfn.cc=d.elesfn.closenessCentrality;d.elesfn.ccn=d.elesfn.closenessCentralityNormalised=d.elesfn.closenessCentralityNormalized;d.elesfn.bc=d.elesfn.betweennessCentrality})(cytoscape);(function(d){d.fn.eles({animated:d.define.animated(),clearQueue:d.define.clearQueue(),delay:d.define.delay(),animate:d.define.animate(),stop:d.define.stop()})})(cytoscape);
(function(d){d.fn.eles({addClass:function(c){c=c.split(/\s+/);for(var b=[],a=0;a<c.length;a++){var n=c[a];if(!d.is.emptyString(n))for(var e=0;e<this.length;e++){var k=this[e],g=k._private.classes[n];k._private.classes[n]=!0;g||b.push(k)}}0<b.length&&(new d.Collection(this._private.cy,b)).updateStyle().trigger("class");return this},hasClass:function(c){var b=this[0];return null!=b&&b._private.classes[c]?!0:!1},toggleClass:function(c,b){for(var a=c.split(/\s+/),n=[],e=0,k=this.length;e<k;e++)for(var g=
this[e],f=0;f<a.length;f++){var l=a[f];if(!d.is.emptyString(l)){var h=g._private.classes[l];b||void 0===b&&!h?(g._private.classes[l]=!0,h||n.push(g)):(g._private.classes[l]=!1,h&&n.push(g))}}0<n.length&&(new d.Collection(this._private.cy,n)).updateStyle().trigger("class");return this},removeClass:function(c){c=c.split(/\s+/);for(var b=[],a=0;a<this.length;a++)for(var n=this[a],e=0;e<c.length;e++){var k=c[e];if(k&&""!==k){var g=n._private.classes[k];n._private.classes[k]=void 0;g&&b.push(n)}}0<b.length&&
(new d.Collection(this._private.cy,b)).updateStyle();this.trigger("class");return this},flashClass:function(c,b){var a=this;if(null==b)b=250;else if(0===b)return a;a.addClass(c);setTimeout(function(){a.removeClass(c)},b);return a}})})(cytoscape);
(function(d){d.fn.eles({allAre:function(c){return this.filter(c).length===this.length},is:function(c){return 0<this.filter(c).length},some:function(c,b){for(var a=0;a<this.length;a++)if(b?c.apply(b,[this[a],a,this]):c(this[a],a,this))return!0;return!1},every:function(c,b){for(var a=0;a<this.length;a++)if(b?!c.apply(b,[this[a],a,this]):!c(this[a],a,this))return!1;return!0},same:function(c){c=this.cy().collection(c);return this.length!==c.length?!1:this.intersect(c).length===this.length},anySame:function(c){c=
this.cy().collection(c);return 0<this.intersect(c).length},allAreNeighbors:function(c){c=this.cy().collection(c);return this.neighborhood().intersect(c).length===c.length}});d.elesfn.allAreNeighbours=d.elesfn.allAreNeighbors})(cytoscape);
(function(d){d.fn.eles({parent:function(c){for(var b=[],a=this._private.cy,n=0;n<this.length;n++){var e=a.getElementById(this[n]._private.data.parent);0<e.size()&&b.push(e)}return(new d.Collection(a,b,{unique:!0})).filter(c)},parents:function(c){for(var b=[],a=this.parent();a.nonempty();){for(var n=0;n<a.length;n++)b.push(a[n]);a=a.parent()}return(new d.Collection(this.cy(),b,{unique:!0})).filter(c)},commonAncestors:function(c){for(var b,a=0;a<this.length;a++){var d=this[a].parents();b=b||d;b=b.intersect(d)}return b.filter(c)},
orphans:function(c){return this.stdFilter(function(b){return b.isNode()&&b.parent().empty()}).filter(c)},nonorphans:function(c){return this.stdFilter(function(b){return b.isNode()&&b.parent().nonempty()}).filter(c)},children:function(c){for(var b=[],a=0;a<this.length;a++)b=b.concat(this[a]._private.children);return(new d.Collection(this.cy(),b,{unique:!0})).filter(c)},siblings:function(c){return this.parent().children().not(this).filter(c)},isParent:function(){var c=this[0];if(c)return 0!==c._private.children.length},
isChild:function(){var c=this[0];if(c)return void 0!==c._private.data.parent&&0!==c.parent().length},descendants:function(c){function b(c){for(var e=0;e<c.length;e++){var d=c[e];a.push(d);d.children().nonempty()&&b(d.children())}}var a=[];b(this.children());return(new d.Collection(this.cy(),a,{unique:!0})).filter(c)}});d.elesfn.ancestors=d.elesfn.parents})(cytoscape);
(function(d){d.fn.eles({data:d.define.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:d.define.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:d.define.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,
allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:d.define.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:d.define.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:d.define.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var b=this[0];if(b)return b._private.data.id},position:d.define.data({field:"position",
bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"rtrigger",allowGetting:!0,validKeys:["x","y"],onSet:function(b){b.updateCompoundBounds().rtrigger("position")},canSet:function(b){return!b.locked()}}),silentPosition:d.define.data({field:"position",bindingEvent:"position",allowBinding:!1,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!1,triggerFnName:"trigger",allowGetting:!0,validKeys:["x","y"],onSet:function(b){b.updateCompoundBounds()},
canSet:function(b){return!b.locked()}}),positions:function(b,a){if(d.is.plainObject(b))this.position(b);else if(d.is.fn(b)){for(var c=b,e=0;e<this.length;e++){var k=this[e];(b=c.apply(k,[e,k]))&&!k.locked()&&(k=k._private.position,k.x=b.x,k.y=b.y)}c=this.updateCompoundBounds();c=0<c.length?this.add(c):this;a?c.trigger("position"):c.rtrigger("position")}return this},silentPositions:function(b){return this.positions(b,!0)},updateCompoundBounds:function(){var b=this.cy();if(!b.styleEnabled()||!b.hasCompoundNodes())return b.collection();
for(var a=[],c=this.parent();c.nonempty();){for(var e=0;e<c.length;e++){var k=c[e],g=k.children(),f=k._private.style,g=g.boundingBox({includeLabels:"include"===f["compound-sizing-wrt-labels"].value,includeEdges:!0}),l=f["padding-top"].pxValue,h=f["padding-bottom"].pxValue,m=f["padding-left"].pxValue,p=f["padding-right"].pxValue,q=k._private.position,t=!1;"auto"===f.width.value&&(k._private.autoWidth=g.w+m+p,q.x=(g.x1+g.x2-m+p)/2,t=!0);"auto"===f.height.value&&(k._private.autoHeight=g.h+l+h,q.y=(g.y1+
g.y2-l+h)/2,t=!0);t&&a.push(k)}c=c.parent()}return new d.Collection(b,a)},renderedPosition:function(b,a){var c=this[0],e=this.cy(),k=e.zoom(),e=e.pan(),g=d.is.plainObject(b)?b:void 0,f=void 0!==g||void 0!==a&&d.is.string(b);if(c&&c.isNode())if(f){for(f=0;f<this.length;f++)c=this[f],void 0!==a?c._private.position[b]=(a-e[b])/k:void 0!==g&&(c._private.position={x:(g.x-e.x)/k,y:(g.y-e.y)/k});this.rtrigger("position")}else return c=c._private.position,g={x:c.x*k+e.x,y:c.y*k+e.y},void 0===b?g:g[b];else if(!f)return;
return this},relativePosition:function(b,a){var c=this[0],e=this.cy(),k=d.is.plainObject(b)?b:void 0,g=void 0!==k||void 0!==a&&d.is.string(b),e=e.hasCompoundNodes();if(c&&c.isNode())if(g){for(g=0;g<this.length;g++){var c=this[g],f=e?c.parent():null,l=f&&0<f.length,h=l;l&&(f=f[0]);f=h?f._private.position:{x:0,y:0};void 0!==a?c._private.position[b]=a+f[b]:void 0!==k&&(c._private.position={x:k.x+f.x,y:k.y+f.y})}this.rtrigger("position")}else return k=c._private.position,(l=(f=e?c.parent():null)&&0<f.length)&&
(f=f[0]),f=l?f._private.position:{x:0,y:0},k={x:k.x-f.x,y:k.y-f.y},void 0===b?k:k[b];else if(!g)return;return this},width:function(){var b=this[0],a=b._private.cy._private.styleEnabled;if(b)return a?(a=b._private.style.width,"auto"===a.strValue?b._private.autoWidth:a.pxValue):1},outerWidth:function(){var b=this[0],a=b._private.cy._private.styleEnabled;if(b)return a?(a=b._private.style,("auto"===a.width.strValue?b._private.autoWidth:a.width.pxValue)+(a["border-width"]?1*a["border-width"].pxValue+0:
0)):1},renderedWidth:function(){var b=this[0];if(b)return b.width()*this.cy().zoom()},renderedOuterWidth:function(){var b=this[0];if(b)return b.outerWidth()*this.cy().zoom()},height:function(){var b=this[0],a=b._private.cy._private.styleEnabled;if(b&&"nodes"===b._private.group)return a?(a=b._private.style.height,"auto"===a.strValue?b._private.autoHeight:a.pxValue):1},outerHeight:function(){var b=this[0],a=b._private.cy._private.styleEnabled;if(b&&"nodes"===b._private.group){if(a)a=b._private.style,
b="auto"===a.height.strValue?b._private.autoHeight:a.height.pxValue,a=a["border-width"]?1*a["border-width"].pxValue+0:0;else return 1;return b+a}},renderedHeight:function(){var b=this[0];if(b&&"nodes"===b._private.group)return b.height()*this.cy().zoom()},renderedOuterHeight:function(){var b=this[0];if(b&&"nodes"===b._private.group)return b.outerHeight()*this.cy().zoom()},renderedBoundingBox:function(b){b=this.boundingBox(b);var a=this.cy(),c=a.zoom(),e=a.pan(),a=b.x1*c+e.x,d=b.x2*c+e.x,g=b.y1*c+
e.y;b=b.y2*c+e.y;return{x1:a,x2:d,y1:g,y2:b,w:d-a,h:b-g}},boundingBox:function(b){var a=this._private.cy._private,c=a.styleEnabled;b=b||{};var e=void 0===b.includeNodes?!0:b.includeNodes,d=void 0===b.includeEdges?!0:b.includeEdges;b=void 0===b.includeLabels?!0:b.includeLabels;c&&a.renderer.recalculateRenderedStyle(this);for(var a=Infinity,g=-Infinity,f=Infinity,l=-Infinity,h=0;h<this.length;h++){var m=this[h],p=m._private,q=p.style,t="nodes"===p.group,r,u,v,x=!1;if("none"!==(c?p.style.display.value:
"element")){if(t&&e){x=!0;q=p.position;r=q.x;var q=q.y,t=m.outerWidth(),p=t/2,w=m.outerHeight()/2,t=r-p;r+=p;u=q-w;v=q+w;a=t<a?t:a;g=r>g?r:g;f=u<f?u:f;l=v>l?v:l}else if(m.isEdge()&&d){x=!0;u=p.source._private.position;v=p.target._private.position;w=p.rstyle||{};t=u.x;r=v.x;u=u.y;v=v.y;if(t>r){var y=t,t=r;r=y}u>v&&(y=u,u=v,v=y);a=t<a?t:a;g=r>g?r:g;f=u<f?u:f;l=v>l?v:l;if(c)for(var w=w.bezierPts||[],t=q.width.pxValue,y=t/2,z=0;z<w.length;z++)v=w[z],t=v.x-y,r=v.x+y,u=v.y-y,v=v.y+y,a=t<a?t:a,g=r>g?r:g,
f=u<f?u:f,l=v>l?v:l;c&&"haystack"===q["curve-style"].strValue&&(q=p.rscratch.haystackPts,t=q[0],u=q[1],r=q[2],v=q[3],t>r&&(y=t,t=r,r=y),u>v&&(y=u,u=v,v=y),a=t<a?t:a,g=r>g?r:g,f=u<f?u:f,l=v>l?v:l)}if(c&&(q=m._private.style,w=m._private.rstyle,p=q.content.strValue,u=q["font-size"],t=q["text-halign"],q=q["text-valign"],v=w.labelWidth,y=w.labelHeight,r=w.labelX,w=w.labelY,x&&b&&p&&u&&null!=y&&null!=v&&null!=r&&null!=w&&t&&q)){var x=y,p=v,A,J,O,R;if(m.isEdge())A=r-p/2,J=r+p/2,O=w-x/2,R=w+x/2;else{switch(t.value){case "left":A=
r-p;J=r;break;case "center":A=r-p/2;J=r+p/2;break;case "right":A=r,J=r+p}switch(q.value){case "top":O=w-x;R=w;break;case "center":O=w-x/2;R=w+x/2;break;case "bottom":O=w,R=w+x}}a=A<a?A:a;g=J>g?J:g;f=O<f?O:f;l=R>l?R:l}}}return{x1:a,x2:g,y1:f,y2:l,w:g-a,h:l-f}}});var c=d.elesfn;c.attr=c.data;c.removeAttr=c.removeData;c.modelPosition=c.point=c.position;c.modelPositions=c.points=c.positions;c.renderedPoint=c.renderedPosition;c.relativePoint=c.relativePosition;c.boundingbox=c.boundingBox;c.renderedBoundingbox=
c.renderedBoundingBox})(cytoscape);
(function(d){function c(a){return function(b){void 0===b&&(b=!0);if(0!==this.length&&this.isNode()&&!this.removed()){for(var c=0,d=this[0],g=d._private.edges,f=0;f<g.length;f++){var l=g[f];if(b||!l.isLoop())c+=a(d,l)}return c}}}function b(a,b){return function(c){for(var d,g=this.nodes(),f=0;f<g.length;f++){var l=g[f][a](c);void 0===l||void 0!==d&&!b(l,d)||(d=l)}return d}}d.fn.eles({degree:c(function(a,b){return b.source().same(b.target())?2:1}),indegree:c(function(a,b){return b.target().same(a)?1:
0}),outdegree:c(function(a,b){return b.source().same(a)?1:0})});d.fn.eles({minDegree:b("degree",function(a,b){return a<b}),maxDegree:b("degree",function(a,b){return a>b}),minIndegree:b("indegree",function(a,b){return a<b}),maxIndegree:b("indegree",function(a,b){return a>b}),minOutdegree:b("outdegree",function(a,b){return a<b}),maxOutdegree:b("outdegree",function(a,b){return a>b})});d.fn.eles({totalDegree:function(a){for(var b=0,c=this.nodes(),d=0;d<c.length;d++)b+=c[d].degree(a);return b}})})(cytoscape);
(function(d){d.fn.eles({on:d.define.on(),one:d.define.on({unbindSelfOnTrigger:!0}),once:d.define.on({unbindAllBindersOnTrigger:!0}),off:d.define.off(),trigger:d.define.trigger(),rtrigger:function(c,b){if(0!==this.length)return this.cy().notify({type:c,collection:this}),this.trigger(c,b),this}});d.define.eventAliasesOn(d.elesfn)})(cytoscape);
(function(d){d.fn.eles({nodes:function(b){return this.filter(function(a,b){return b.isNode()}).filter(b)},edges:function(b){return this.filter(function(a,b){return b.isEdge()}).filter(b)},filter:function(b){var a=this._private.cy;if(d.is.fn(b)){for(var c=[],e=0;e<this.length;e++){var k=this[e];b.apply(k,[e,k])&&c.push(k)}return new d.Collection(a,c)}return d.is.string(b)||d.is.elementOrCollection(b)?(new d.Selector(b)).filter(this):void 0===b?this:new d.Collection(a)},not:function(b){var a=this._private.cy;
if(b){d.is.string(b)&&(b=this.filter(b));for(var c=[],e=0;e<this.length;e++){var k=this[e];b._private.ids[k.id()]||c.push(k)}return new d.Collection(a,c)}return this},absoluteComplement:function(){return this._private.cy.elements().not(this)},intersect:function(b){var a=this._private.cy;if(d.is.string(b))return this.filter(b);var c=[],e=this.length<b.length,k=e?b._private.ids:this._private.ids;b=e?this:b;for(e=0;e<b.length;e++){var g=k[b[e]._private.data.id];g&&c.push(g)}return new d.Collection(a,
c)},xor:function(b){var a=this._private.cy;d.is.string(b)&&(b=a.$(b));var c=[],e=function(a,b){for(var e=0;e<a.length;e++){var d=a[e];b._private.ids[d._private.data.id]||c.push(d)}};e(this,b);e(b,this);return new d.Collection(a,c)},diff:function(b){var a=this._private.cy;d.is.string(b)&&(b=a.$(b));var c=[],e=[],k=[],g=function(a,b,c){for(var e=0;e<a.length;e++){var d=a[e];b._private.ids[d._private.data.id]?k.push(d):c.push(d)}};g(this,b,c);g(b,this,e);return{left:new d.Collection(a,c,{unique:!0}),
right:new d.Collection(a,e,{unique:!0}),both:new d.Collection(a,k,{unique:!0})}},add:function(b){var a=this._private.cy;if(!b)return this;d.is.string(b)&&(b=a.elements(b));for(var c=[],e=0;e<this.length;e++)c.push(this[e]);for(e=0;e<b.length;e++)this._private.ids[b[e].id()]||c.push(b[e]);return new d.Collection(a,c)},merge:function(b){var a=this._private,c=a.cy;if(!b)return this;d.is.string(b)&&(b=c.elements(b));for(c=0;c<b.length;c++){var e=b[c],k=e.id();if(!a.ids[k]){var g=this.length++;this[g]=
e;a.ids[k]=e;a.indexes[k]=g}}return this},unmergeOne:function(b){b=b[0];var a=this._private,c=b.id();b=a.indexes[c];if(null==b)return this;this[b]=void 0;a.ids[c]=void 0;a.indexes[c]=void 0;c=b===this.length-1;if(1<this.length&&!c){var c=this.length-1,e=this[c];this[c]=void 0;this[b]=e;a.indexes[e.id()]=b}this.length--;return this},unmerge:function(b){var a=this._private.cy;if(!b)return this;d.is.string(b)&&(b=a.elements(b));for(a=0;a<b.length;a++)this.unmergeOne(b[a]);return this},map:function(b,
a){for(var c=[],e=0;e<this.length;e++){var d=this[e],d=a?b.apply(a,[d,e,this]):b(d,e,this);c.push(d)}return c},stdFilter:function(b,a){for(var c=[],e=this._private.cy,k=0;k<this.length;k++){var g=this[k];(a?b.apply(a,[g,k,this]):b(g,k,this))&&c.push(g)}return new d.Collection(e,c)},max:function(c,a){for(var d=-Infinity,e,k=0;k<this.length;k++){var g=this[k],f=a?c.apply(a,[g,k,this]):c(g,k,this);f>d&&(d=f,e=g)}return{value:d,ele:e}},min:function(c,a){for(var d=Infinity,e,k=0;k<this.length;k++){var g=
this[k],f=a?c.apply(a,[g,k,this]):c(g,k,this);f<d&&(d=f,e=g)}return{value:d,ele:e}}});var c=d.elesfn;c.u=c["|"]=c["+"]=c.union=c.or=c.add;c["\\"]=c["!"]=c["-"]=c.difference=c.relativeComplement=c.not;c.n=c["&"]=c["."]=c.and=c.intersection=c.intersect;c["^"]=c["(+)"]=c["(-)"]=c.symmetricDifference=c.symdiff=c.xor;c.fnFilter=c.filterFn=c.stdFilter;c.complement=c.abscomp=c.absoluteComplement})(cytoscape);
(function(d){d.fn.eles({isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source().id()===this.target().id()},isSimple:function(){return this.isEdge()&&this.source().id()!==this.target().id()},group:function(){var c=this[0];if(c)return c._private.group}})})(cytoscape);
(function(d){d.fn.eles({each:function(c){if(d.is.fn(c))for(var b=0;b<this.length;b++){var a=this[b];if(!1===c.apply(a,[b,a]))break}return this},forEach:function(c,b){if(d.is.fn(c))for(var a=0;a<this.length;a++){var n=this[a];if(!1===(b?c.apply(b,[n,a,this]):c(n,a,this)))break}return this},toArray:function(){for(var c=[],b=0;b<this.length;b++)c.push(this[b]);return c},slice:function(c,b){var a=[],n=this.length;null==b&&(b=n);null==c&&(c=0);0>c&&(c=n+c);0>b&&(b=n+b);for(var e=c;0<=e&&e<b&&e<n;e++)a.push(this[e]);
return new d.Collection(this.cy(),a)},size:function(){return this.length},eq:function(c){return this[c]||new d.Collection(this.cy())},first:function(){return this[0]||new d.Collection(this.cy())},last:function(){return this[this.length-1]||new d.Collection(this.cy())},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(c){if(!d.is.fn(c))return this;var b=this.cy();c=this.toArray().sort(c);return new d.Collection(b,c)},sortByZIndex:function(){return this.sort(d.Collection.zIndexSort)},
zDepth:function(){var c=this[0];if(c){var b=c._private;if("nodes"===b.group)return b=b.data.parent?c.parents().size():0,c.isParent()?b:Number.MAX_VALUE;c=b.target;b=b.source.zDepth();c=c.zDepth();return Math.max(b,c,0)}}});d.Collection.zIndexSort=function(c,b){var a=c.cy(),d=c._private,e=b._private,k=d.style["z-index"].value-e.style["z-index"].value,g=0,f=0,l=a.hasCompoundNodes(),a="nodes"===d.group,h="edges"===d.group,m="nodes"===e.group,p="edges"===e.group;l&&(g=c.zDepth(),f=b.zDepth());g-=f;return 0===
g?a&&p?1:h&&m?-1:0===k?d.index-e.index:k:g}})(cytoscape);
(function(d){d.fn.eles({layoutPositions:function(c,b,a){var n=this.nodes(),e=this.cy();c.trigger({type:"layoutstart",layout:c});if(b.animate){for(var k=0;k<n.length;k++){var g=n[k],f=k===n.length-1,l=a.call(g,k,g),h=g.position();d.is.number(h.x)&&d.is.number(h.y)||g.silentPosition({x:0,y:0});g.animate({position:l},{duration:b.animationDuration,step:f?function(){b.fit&&e.fit(b.eles,b.padding)}:void 0,complete:f?function(){null!=b.zoom&&e.zoom(b.zoom);b.pan&&e.pan(b.pan);b.fit&&e.fit(b.eles,b.padding);
c.one("layoutstop",b.stop);c.trigger({type:"layoutstop",layout:c})}:void 0})}c.one("layoutready",b.ready);c.trigger({type:"layoutready",layout:c})}else n.positions(a),b.fit&&e.fit(b.eles,b.padding),null!=b.zoom&&e.zoom(b.zoom),b.pan&&e.pan(b.pan),c.one("layoutready",b.ready),c.trigger({type:"layoutready",layout:c}),c.one("layoutstop",b.stop),c.trigger({type:"layoutstop",layout:c});return this},layout:function(c){this.cy().layout(d.util.extend({},c,{eles:this}));return this},makeLayout:function(c){return this.cy().makeLayout(d.util.extend({},
c,{eles:this}))}});d.elesfn.createLayout=d.elesfn.makeLayout})(cytoscape);
(function(d){d.fn.eles({updateStyle:function(c){var b=this._private.cy;if(!b.styleEnabled())return this;if(b._private.batchingStyle){c=b._private.batchStyleEles;for(b=0;b<this.length;b++){var a=this[b];c.ids[a._private.id]||c.push(a)}return this}b=b.style();c=c||void 0===c?!0:!1;b.apply(this);b=this.updateCompoundBounds();b=0<b.length?this.add(b):this;c?b.rtrigger("style"):b.trigger("style");return this},updateMappers:function(c){var b=this._private.cy,a=b.style();c=c||void 0===c?!0:!1;if(!b.styleEnabled())return this;
a.updateMappers(this);b=this.updateCompoundBounds();b=0<b.length?this.add(b):this;c?b.rtrigger("style"):b.trigger("style");return this},renderedCss:function(c){if(!this.cy().styleEnabled())return this;var b=this[0];if(b)return b=b.cy().style().getRenderedStyle(b),void 0===c?b:b[c]},css:function(c,b){var a=this.cy();if(!a.styleEnabled())return this;a=a.style();if(d.is.plainObject(c))a.applyBypass(this,c,!1),a=this.updateCompoundBounds(),a=0<a.length?this.add(a):this,a.rtrigger("style");else if(d.is.string(c)){if(void 0===
b){var n=this[0];if(n)return n._private.style[c].strValue;return}a.applyBypass(this,c,b,!1);a=this.updateCompoundBounds();a=0<a.length?this.add(a):this;a.rtrigger("style")}else if(void 0===c){if(n=this[0])return a.getRawStyle(n);return}return this},removeCss:function(c){var b=this.cy();if(!b.styleEnabled())return this;b=b.style();if(void 0===c)for(var a=0;a<this.length;a++){var d=this[a];b.removeAllBypasses(d,!1)}else for(c=c.split(/\s+/),a=0;a<this.length;a++)d=this[a],b.removeBypasses(d,c,!1);c=
this.updateCompoundBounds();(0<c.length?this.add(c):this).rtrigger("style");return this},show:function(){this.css("display","element");return this},hide:function(){this.css("display","none");return this},visible:function(){var c=this.cy();if(!c.styleEnabled())return!0;var b=this[0],c=c.hasCompoundNodes();if(b){var a=b._private.style;if("visible"!==a.visibility.value||"element"!==a.display.value)return!1;if("nodes"===b._private.group){if(!c)return!0;if(b=b._private.data.parent?b.parents():null)for(c=
0;c<b.length;c++){var a=b[c]._private.style,d=a.display.value;if("visible"!==a.visibility.value||"element"!==d)return!1}return!0}c=b._private.target;return b._private.source.visible()&&c.visible()}},hidden:function(){var c=this[0];if(c)return!c.visible()},effectiveOpacity:function(){var c=this.cy();if(!c.styleEnabled())return 1;var b=c.hasCompoundNodes(),a=this[0];if(a){var d=a._private,c=d.style.opacity.value;if(!b)return c;if(b=d.data.parent?a.parents():null)for(a=0;a<b.length;a++)c*=b[a]._private.style.opacity.value;
return c}},transparent:function(){if(!this.cy().styleEnabled())return!1;var c=this[0],b=c.cy().hasCompoundNodes();if(c)return b?0===c.effectiveOpacity():0===c._private.style.opacity.value},isFullAutoParent:function(){if(!this.cy().styleEnabled())return!1;var c=this[0];if(c){var b="auto"===c._private.style.width.value,a="auto"===c._private.style.height.value;return c.isParent()&&b&&a}},backgrounding:function(){return this.cy().styleEnabled()?this[0]._private.backgrounding?!0:!1:!1}});d.elesfn.bypass=
d.elesfn.style=d.elesfn.css;d.elesfn.renderedStyle=d.elesfn.renderedCss;d.elesfn.removeBypass=d.elesfn.removeStyle=d.elesfn.removeCss})(cytoscape);
(function(d){function c(a){return function(){var c=arguments,b=[];if(2===c.length)b=c[1],this.bind(a.event,c[0],b);else if(1===c.length)b=c[0],this.bind(a.event,b);else if(0===c.length){for(c=0;c<this.length;c++){var k=this[c],g=!a.ableField||k._private[a.ableField],f=k._private[a.field]!=a.value;if(a.overrideAble){var l=a.overrideAble(k);if(void 0!==l&&(g=l,!l))return this}g&&(k._private[a.field]=a.value,f&&b.push(k))}b=d.Collection(this.cy(),b);b.updateStyle();b.trigger(a.event)}return this}}function b(a){d.elesfn[a.field]=
function(){var c=this[0];if(c){if(a.overrideField){var b=a.overrideField(c);if(void 0!==b)return b}return c._private[a.field]}};d.elesfn[a.on]=c({event:a.on,field:a.field,ableField:a.ableField,overrideAble:a.overrideAble,value:!0});d.elesfn[a.off]=c({event:a.off,field:a.field,ableField:a.ableField,overrideAble:a.overrideAble,value:!1})}b({field:"locked",overrideField:function(a){return a.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});b({field:"grabbable",overrideField:function(a){return a.cy().autoungrabify()?
!1:void 0},on:"grabify",off:"ungrabify"});b({field:"selected",ableField:"selectable",overrideAble:function(a){return a.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});b({field:"selectable",overrideField:function(a){return a.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});d.elesfn.deselect=d.elesfn.unselect;d.elesfn.grabbed=function(){var a=this[0];if(a)return a._private.grabbed};b({field:"active",on:"activate",off:"unactivate"});d.elesfn.inactive=function(){var a=
this[0];if(a)return!a._private.active}})(cytoscape);
(function(d){function c(a){return function(c){for(var b=[],g=this._private.cy,f=0;f<this.length;f++){var l=this[f]._private[a.attr];l&&b.push(l)}return(new d.Collection(g,b,{unique:!0})).filter(c)}}function b(a){return function(c){var b=[],g=this._private.cy,f=a||{};d.is.string(c)&&(c=g.$(c));for(var l=this._private.ids,h=c._private.ids,m=0;m<c.length;m++)for(var p=c[m]._private.edges,q=0;q<p.length;q++){var t=p[q],r=t._private.data,u=l[r.source]&&h[r.target],r=h[r.source]&&l[r.target];if(u||r){if(f.thisIs){if("source"===
f.thisIs&&!u)continue;if("target"===f.thisIs&&!r)continue}b.push(t)}}return new d.Collection(g,b,{unique:!0})}}function a(a){a=d.util.extend({},{codirected:!1},a);return function(c){for(var b=this._private.cy,g=[],f=this.edges(),l=a,h=0;h<f.length;h++)for(var m=f[h],p=m.source()[0],q=p.id(),m=m.target()[0].id(),p=p._private.edges,t=0;t<p.length;t++){var r=p[t],u=r._private.data,v=u.target,x=u.source,u=v===m&&x===q,v=q===v&&m===x;(l.codirected&&u||!l.codirected&&(u||v))&&g.push(r)}return(new d.Collection(b,
g,{unique:!0})).filter(c)}}d.fn.eles({roots:function(a){for(var c=[],b=0;b<this.length;b++){var g=this[b];g.isNode()&&(0<g.connectedEdges(function(){return this.data("target")===g.id()&&this.data("source")!==g.id()}).length||c.push(g))}return(new d.Collection(this._private.cy,c,{unique:!0})).filter(a)},leaves:function(a){for(var c=[],b=0;b<this.length;b++){var g=this[b];g.isNode()&&(0<g.connectedEdges(function(){return this.data("source")===g.id()&&this.data("target")!==g.id()}).length||c.push(g))}return(new d.Collection(this._private.cy,
c,{unique:!0})).filter(a)},outgoers:function(a){for(var c=[],b=0;b<this.length;b++){var g=this[b],f=g.id();if(g.isNode())for(var g=g._private.edges,l=0;l<g.length;l++){var h=g[l],m=h._private.data.target;h._private.data.source===f&&m!==f&&(c.push(h),c.push(h.target()[0]))}}return(new d.Collection(this._private.cy,c,{unique:!0})).filter(a)},successors:function(a){for(var c=this,b=[],g={};;){c=c.outgoers();if(0===c.length)break;for(var f=!1,l=0;l<c.length;l++){var h=c[l],m=h.id();g[m]||(g[m]=!0,b.push(h),
f=!0)}if(!f)break}return(new d.Collection(this._private.cy,b,{unique:!0})).filter(a)},incomers:function(a){for(var c=[],b=0;b<this.length;b++){var g=this[b],f=g.id();if(g.isNode())for(var g=g._private.edges,l=0;l<g.length;l++){var h=g[l],m=h._private.data.source;h._private.data.target===f&&m!==f&&(c.push(h),c.push(h.source()[0]))}}return(new d.Collection(this._private.cy,c,{unique:!0})).filter(a)},predecessors:function(a){for(var c=this,b=[],g={};;){c=c.incomers();if(0===c.length)break;for(var f=
!1,l=0;l<c.length;l++){var h=c[l],m=h.id();g[m]||(g[m]=!0,b.push(h),f=!0)}if(!f)break}return(new d.Collection(this._private.cy,b,{unique:!0})).filter(a)}});d.fn.eles({neighborhood:function(a){for(var c=[],b=this._private.cy,g=this.nodes(),f=0;f<g.length;f++)for(var l=g[f],h=l.connectedEdges(),m=0;m<h.length;m++){var p=h[m],q=p.connectedNodes().not(l);0<q.length&&c.push(q[0]);c.push(p[0])}return(new d.Collection(b,c,{unique:!0})).filter(a)},closedNeighborhood:function(a){return this.neighborhood().add(this).filter(a)},
openNeighborhood:function(a){return this.neighborhood(a)}});d.elesfn.neighbourhood=d.elesfn.neighborhood;d.elesfn.closedNeighbourhood=d.elesfn.closedNeighborhood;d.elesfn.openNeighbourhood=d.elesfn.openNeighborhood;d.fn.eles({source:function(a){var c=this[0],b;c&&(b=c._private.source);return b&&a?b.filter(a):b},target:function(a){var c=this[0],b;c&&(b=c._private.target);return b&&a?b.filter(a):b},sources:c({attr:"source"}),targets:c({attr:"target"})});d.fn.eles({edgesWith:b(),edgesTo:b({thisIs:"source"})});
d.fn.eles({connectedEdges:function(a){for(var c=[],b=this._private.cy,g=0;g<this.length;g++){var f=this[g];if(f.isNode())for(var f=f._private.edges,l=0;l<f.length;l++)c.push(f[l])}return(new d.Collection(b,c,{unique:!0})).filter(a)},connectedNodes:function(a){for(var c=[],b=this._private.cy,g=0;g<this.length;g++){var f=this[g];f.isEdge()&&(c.push(f.source()[0]),c.push(f.target()[0]))}return(new d.Collection(b,c,{unique:!0})).filter(a)},parallelEdges:a(),codirectedEdges:a({codirected:!0})})})(cytoscape);
(function(d){d.fn.eles({fit:function(){},center:function(){}})})(cytoscape);
(function(d){d.Minheap=function(c,b,a){return new d.Heap(c,b,d.Heap.minHeapComparator,a)};d.Maxheap=function(c,b,a){return new d.Heap(c,b,d.Heap.maxHeapComparator,a)};d.Heap=function(c,b,a,n){if("undefined"!==typeof a&&"undefined"!==typeof b){"undefined"===typeof n&&(n=d.Heap.idFn);var e=[],k={},g=[],f=0,l,h,m;b=this.getArgumentAsCollection(b,c);m=b.length;for(f=0;f<m;f+=1){e.push(n.call(c,b[f],f,b));l=b[f].id();if(k.hasOwnProperty(l))throw"ERROR: Multiple items with the same id found: "+l;k[l]=f;
g.push(l)}this._private={cy:c,heap:e,pointers:k,elements:g,comparator:a,extractor:n,length:m};for(f=Math.floor(m/2);0<=f;--f)h=this.heapify(f);return h}};d.Heap.idFn=function(c){return c.id()};d.Heap.minHeapComparator=function(c,b){return c>=b};d.Heap.maxHeapComparator=function(c,b){return c<=b};d.fn.heap=function(c,b){for(var a in c)d.Heap.prototype[a]=c[a]};d.heapfn=d.Heap.prototype;d.heapfn.size=function(){return this._private.length};d.heapfn.getArgumentAsCollection=function(c,b){var a;"undefined"===
typeof b&&(b=this._private.cy);if(d.is.elementOrCollection(c))a=c;else{a=[];for(var n=[].concat.apply([],[c]),e=0;e<n.length;e++){var k=b.getElementById(n[e]);0<k.length&&a.push(k)}a=new d.Collection(b,a)}return a};d.heapfn.isHeap=function(){var c=this._private.heap,b=c.length,a,d,e,k=this._private.comparator;for(a=0;a<b;a+=1)if(d=2*a+1,e=d+1,d=d<b?k(c[d],c[a]):!0,e=e<b?k(c[e],c[a]):!0,!d||!e)return!1;return!0};d.heapfn.heapSwap=function(c,b){var a=this._private.heap,d=this._private.pointers,e=this._private.elements,
k=a[c],g=e[c],f=e[c],l=e[b];a[c]=a[b];e[c]=e[b];d[f]=b;d[l]=c;a[b]=k;e[b]=g};d.heapfn.heapify=function(c,b){var a=0,d=!1,e,k,g,f,l;"undefined"===typeof b&&(b=!0);e=this._private.heap;a=e.length;l=this._private.comparator;for(k=c;!d;)b?(d=2*k+1,g=d+1,f=k,d<a&&!l(e[d],e[f])&&(f=d),g<a&&!l(e[g],e[f])&&(f=g),d=f===k,d||(this.heapSwap(f,k),k=f)):(g=Math.floor((k-1)/2),f=k,d=0>g||l(e[f],e[g]),d||(this.heapSwap(f,g),k=g))};d.heapfn.insert=function(c){c=this.getArgumentAsCollection(c);var b=c.length,a,d,
e,k;for(k=0;k<b;k+=1){a=c[k];d=this._private.heap.length;e=this._private.extractor(a);a=a.id();if(this._private.pointers.hasOwnProperty(a))throw"ERROR: Multiple items with the same id found: "+a;this._private.heap.push(e);this._private.elements.push(a);this._private.pointers[a]=d;this.heapify(d,!1)}this._private.length=this._private.heap.length};d.heapfn.getValueById=function(c){if(this._private.pointers.hasOwnProperty(c))return this._private.heap[this._private.pointers[c]]};d.heapfn.contains=function(c){c=
this.getArgumentAsCollection(c);for(var b=0;b<c.length;b+=1){var a=c[b].id();if(!this._private.pointers.hasOwnProperty(a))return!1}return!0};d.heapfn.top=function(){if(0<this._private.length)return{value:this._private.heap[0],id:this._private.elements[0]}};d.heapfn.pop=function(){if(0<this._private.length){var c=this.top(),b=this._private.length-1;this.heapSwap(0,b);b=this._private.elements[b];this._private.heap.pop();this._private.elements.pop();this._private.length=this._private.heap.length;this._private.pointers[b]=
void 0;this.heapify(0);return c}};d.heapfn.findDirectionHeapify=function(c){var b=Math.floor((c-1)/2),a=this._private.heap,b=0>b||this._private.comparator(a[c],a[b]);this.heapify(c,b)};d.heapfn.edit=function(c,b){for(var a=this.getArgumentAsCollection(c),n=0;n<a.length;n+=1){var e=a[n].id(),e=this._private.pointers[e],k=this._private.heap[e];d.is.number(b)?this._private.heap[e]=b:d.is.fn(b)&&(this._private.heap[e]=b.call(this._private.cy,k,e));this.findDirectionHeapify(e)}};d.heapfn.remove=function(c){c=
this.getArgumentAsCollection(c);for(var b=0;b<c.length;b+=1){var a=c[b].id(),a=this._private.pointers[a],d=this._private.length-1,e;a!==d&&this.heapSwap(a,d);e=this._private.elements[d];d=this._private.heap[d];this._private.heap.pop();this._private.elements.pop();this._private.length=this._private.heap.length;this._private.pointers[e]=void 0;this.findDirectionHeapify(a)}return d}})(cytoscape);
(function(d){function c(a){this.options=a;this.data={select:[void 0,void 0,void 0,void 0,0],renderer:this,cy:a.cy,container:a.cy.container(),canvases:Array(c.CANVAS_LAYERS),contexts:Array(c.CANVAS_LAYERS),canvasNeedsRedraw:Array(c.CANVAS_LAYERS),bufferCanvases:Array(c.BUFFER_COUNT),bufferContexts:Array(c.CANVAS_LAYERS)};this.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1};this.timeoutData={panTimeout:null};this.dragData={possibleDragElements:[]};
this.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]};this.zoomData={freeToZoom:!1,lastPointerX:null};this.redraws=0;this.showFps=a.showFps;this.bindings=[];this.data.canvasContainer=document.createElement("div");var b=this.data.canvasContainer.style;b.position="absolute";b.zIndex="0";b.overflow="hidden";this.data.container.appendChild(this.data.canvasContainer);
for(b=0;b<c.CANVAS_LAYERS;b++)this.data.canvases[b]=document.createElement("canvas"),this.data.contexts[b]=this.data.canvases[b].getContext("2d"),this.data.canvases[b].style.position="absolute",this.data.canvases[b].setAttribute("data-id","layer"+b),this.data.canvases[b].style.zIndex=String(c.CANVAS_LAYERS-b),this.data.canvasContainer.appendChild(this.data.canvases[b]),this.data.canvasNeedsRedraw[b]=!1;this.data.topCanvas=this.data.canvases[0];this.data.canvases[c.NODE].setAttribute("data-id","layer"+
c.NODE+"-node");this.data.canvases[c.SELECT_BOX].setAttribute("data-id","layer"+c.SELECT_BOX+"-selectbox");this.data.canvases[c.DRAG].setAttribute("data-id","layer"+c.DRAG+"-drag");for(b=0;b<c.BUFFER_COUNT;b++)this.data.bufferCanvases[b]=document.createElement("canvas"),this.data.bufferContexts[b]=this.data.bufferCanvases[b].getContext("2d"),this.data.bufferCanvases[b].style.position="absolute",this.data.bufferCanvases[b].setAttribute("data-id","buffer"+b),this.data.bufferCanvases[b].style.zIndex=
String(-b-1),this.data.bufferCanvases[b].style.visibility="hidden";this.hideEdgesOnViewport=a.hideEdgesOnViewport;this.hideLabelsOnViewport=a.hideLabelsOnViewport;this.textureOnViewport=a.textureOnViewport;this.wheelSensitivity=a.wheelSensitivity;this.motionBlurEnabled=a.motionBlur;this.forcedPixelRatio=a.pixelRatio;this.motionBlur=!0;this.motionBlurOpacity=a.motionBlurOpacity;this.motionBlurTransparency=1-this.motionBlurOpacity;this.mbPxRBlurry=this.motionBlurPxRatio=1;this.minMbLowQualFrames=4;
this.fullQualityMb=!1;this.clearedForMotionBlur=[];this.tapThreshold=a.tapThreshold;this.tapThreshold2=a.tapThreshold*a.tapThreshold;this.tapholdDuration=500;this.load()}c.CANVAS_LAYERS=3;c.SELECT_BOX=0;c.DRAG=1;c.NODE=2;c.BUFFER_COUNT=3;c.TEXTURE_BUFFER=0;c.MOTIONBLUR_BUFFER_NODE=1;c.MOTIONBLUR_BUFFER_DRAG=2;c.panOrBoxSelectDelay=400;c.isTouch=d.is.touch();var b="undefined"!==typeof Path2D;c.usePaths=function(){return b};c.prototype.notify=function(a){a=d.is.array(a.type)?a.type:[a.type];for(var b=
0;b<a.length;b++){var k=a[b];switch(k){case "destroy":this.destroy();return;case "add":case "remove":case "load":this.updateNodesCache();this.updateEdgesCache();break;case "viewport":this.data.canvasNeedsRedraw[c.SELECT_BOX]=!0;break;case "style":this.updateCachedZSortedEles()}if("load"===k||"resize"===k)this.invalidateContainerClientCoordsCache(),this.matchCanvasSize(this.data.container)}this.data.canvasNeedsRedraw[c.NODE]=!0;this.data.canvasNeedsRedraw[c.DRAG]=!0;this.redraw()};c.prototype.destroy=
function(){this.destroyed=!0;for(var a=0;a<this.bindings.length;a++){var b=this.bindings[a];b.target.removeEventListener(b.event,b.handler,b.useCapture)}this.removeObserver&&this.removeObserver.disconnect();this.labelCalcDiv&&document.body.removeChild(this.labelCalcDiv)};for(var a in d.math)c.prototype[a]=d.math[a];d("renderer","canvas",c)})(cytoscape);
(function(d){var c=d("renderer","canvas"),b=c.prototype,a=c.arrowShapes={};c.arrowShapeHeight=.3;var c=function(a,b,c,d,n,h,m,p){return c-n/2<=a&&a<=c+n/2&&d-h/2<=b&&b<=d+h/2},n=function(a,b,c,d,n){d=-d;var h=a*Math.cos(d)-b*Math.sin(d);a=a*Math.sin(d)+b*Math.cos(d);return{x:h*c+n.x,y:a*c+n.y}};a.arrow={_points:[-.15,-.3,0,0,.15,-.3],collide:function(b,c,n,f,l,h,m,p){return d.math.pointInsidePolygon(b,c,a.arrow._points,n,f,l,h,m,p)},roughCollide:c,draw:function(b,c,d,f){for(var l=a.arrow._points,
h=0;h<l.length/2;h++){var m=n(l[2*h],l[2*h+1],c,d,f);b.lineTo(m.x,m.y)}},spacing:function(a){return 0},gap:function(a){return 2*a._private.style.width.pxValue}};a.triangle=a.arrow;a["triangle-backcurve"]={_ctrlPt:[0,-.15],collide:function(b,c,n,f,l,h,m,p){return d.math.pointInsidePolygon(b,c,a.triangle._points,n,f,l,h,m,p)},roughCollide:c,draw:function(b,c,d,f){for(var l=a.triangle._points,h,m=0;m<l.length/2;m++){var p=n(l[2*m],l[2*m+1],c,d,f);0===m&&(h=p);b.lineTo(p.x,p.y)}l=this._ctrlPt;c=n(l[0],
l[1],c,d,f);b.quadraticCurveTo(c.x,c.y,h.x,h.y)},spacing:function(a){return 0},gap:function(a){return 2*a._private.style.width.pxValue}};a["triangle-tee"]={_points:[-.15,-.3,0,0,.15,-.3,-.15,-.3],_pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(b,c,n,f,l,h,m,p){var q=a["triangle-tee"]._points;return d.math.pointInsidePolygon(b,c,a["triangle-tee"]._pointsTee,n,f,l,h,m,p)||d.math.pointInsidePolygon(b,c,q,n,f,l,h,m,p)},roughCollide:c,draw:function(b,c,d,f){for(var l=a["triangle-tee"]._points,
h=0;h<l.length/2;h++){var m=n(l[2*h],l[2*h+1],c,d,f);b.lineTo(m.x,m.y)}l=a["triangle-tee"]._pointsTee;h=n(l[0],l[1],c,d,f);b.moveTo(h.x,h.y);for(h=0;h<l.length/2;h++)m=n(l[2*h],l[2*h+1],c,d,f),b.lineTo(m.x,m.y)},spacing:function(a){return 0},gap:function(a){return 2*a._private.style.width.pxValue}};a["half-triangle-overshot"]={_points:[0,-.25,-.5,-.25,.5,.25],leavePathOpen:!0,matchEdgeWidth:!0,collide:function(a,b,c,n,l,h,m,p){return d.math.pointInsidePolygon(a,b,this._points,c,n,l,h,m,p)},roughCollide:c,
draw:function(a,b,c,d){for(var l=this._points,h=0;h<l.length/2;h++){var m=n(l[2*h],l[2*h+1],b,c,d);a.lineTo(m.x,m.y)}},spacing:function(a){return 0},gap:function(a){return 2*a._private.style.width.pxValue}};a.none={collide:function(a,b,c,d,n,h,m,p){return!1},roughCollide:function(a,b,c,d,n,h,m,p){return!1},draw:function(a){},spacing:function(a){return 0},gap:function(a){return 0}};a.circle={_baseRadius:.15,collide:function(b,c,d,n,l,h,m,p){l!=h&&(h=(h+p)/(l+p),c/=h,n/=h);return Math.pow(d-b,2)+Math.pow(n-
c,2)<=Math.pow((l+p)*a.circle._baseRadius,2)},roughCollide:c,draw:function(b,c,d,n){b.arc(n.x,n.y,a.circle._baseRadius*c,0,2*Math.PI,!1)},spacing:function(c){return b.getArrowWidth(c._private.style.width.pxValue)*a.circle._baseRadius},gap:function(a){return 2*a._private.style.width.pxValue}};a.inhibitor={_points:[-.25,0,-.25,-.1,.25,-.1,.25,0],collide:function(b,c,n,f,l,h,m,p){return d.math.pointInsidePolygon(b,c,a.inhibitor._points,n,f,l,h,m,p)},roughCollide:c,draw:function(b,c,d,f){for(var l=a.inhibitor._points,
h=0;h<l.length/2;h++){var m=n(l[2*h],l[2*h+1],c,d,f);b.lineTo(m.x,m.y)}},spacing:function(a){return 1},gap:function(a){return 1}};a.tee=a.inhibitor;a.square={_points:[-.15,0,.15,0,.15,-.3,-.15,-.3],collide:function(b,c,n,f,l,h,m,p){return d.math.pointInsidePolygon(b,c,a.square._points,n,f,l,h,m,p)},roughCollide:c,draw:function(b,c,d,f){for(var l=a.square._points,h=0;h<l.length/2;h++){var m=n(l[2*h],l[2*h+1],c,d,f);b.lineTo(m.x,m.y)}},spacing:function(a){return 0},gap:function(a){return 2*a._private.style.width.pxValue}};
a.diamond={_points:[-.15,-.15,0,-.3,.15,-.15,0,0],collide:function(b,c,n,f,l,h,m,p){return d.math.pointInsidePolygon(b,c,a.diamond._points,n,f,l,h,m,p)},roughCollide:c,draw:function(b,c,d,f){for(var l=a.diamond._points,h=0;h<l.length/2;h++){var m=n(l[2*h],l[2*h+1],c,d,f);b.lineTo(m.x,m.y)}},spacing:function(a){return 0},gap:function(a){return a._private.style.width.pxValue}}})(cytoscape);
(function(d){d=d("renderer","canvas").prototype;d.getCachedNodes=function(){var c=this.data,b=this.data.cy;null==c.cache&&(c.cache={});null==c.cache.cachedNodes&&(c.cache.cachedNodes=b.nodes());return c.cache.cachedNodes};d.updateNodesCache=function(){var c=this.data,b=this.data.cy;null==c.cache&&(c.cache={});c.cache.cachedNodes=b.nodes()};d.getCachedEdges=function(){var c=this.data,b=this.data.cy;null==c.cache&&(c.cache={});null==c.cache.cachedEdges&&(c.cache.cachedEdges=b.edges());return c.cache.cachedEdges};
d.updateEdgesCache=function(){var c=this.data,b=this.data.cy;null==c.cache&&(c.cache={});c.cache.cachedEdges=b.edges()}})(cytoscape);
(function(d){var c=d("renderer","canvas"),b=c.prototype;b.projectIntoViewport=function(a,b){var c=this.findContainerClientCoords(),d=a-c[0],c=b-c[1],d=d-this.data.cy.pan().x,c=c-this.data.cy.pan().y,d=d/this.data.cy.zoom(),c=c/this.data.cy.zoom();return[d,c]};b.findContainerClientCoords=function(){var a=this.data.container,a=this.containerBB=this.containerBB||a.getBoundingClientRect();return[a.left,a.top,a.right-a.left,a.bottom-a.top]};b.invalidateContainerClientCoordsCache=function(){this.containerBB=
null};b.findNearestElement=function(a,b,e){function k(d){var k=d.outerWidth(),g=d.outerHeight(),l=k/2,p=g/2,m=d._private.position;m.x-l<=a&&a<=m.x+l&&m.y-p<=b&&b<=m.y+p&&(l=!e||d.visible()&&!d.transparent(),(!e||l)&&c.nodeShapes[f.getNodeShape(d)].checkPoint(a,b,d._private.style["border-width"].pxValue/2,k+r,g+r,m.x,m.y)&&h.push(d))}function g(g){var l=g._private.rscratch,p=g._private.style,m=p.width.pxValue,r=m*m,z=2*m,m=g._private.source,A=g._private.target,J=!1,O,R=function(){return void 0!==O?
O:!e||g.visible()&&!g.transparent()?O=!0:O=!1};if("self"===l.edgeType||"compound"===l.edgeType)((J=d.math.inBezierVicinity(a,b,l.startX,l.startY,l.cp2ax,l.cp2ay,l.selfEdgeMidX,l.selfEdgeMidY,r))&&R()&&r+t>d.math.sqDistanceToQuadraticBezier(a,b,l.startX,l.startY,l.cp2ax,l.cp2ay,l.selfEdgeMidX,l.selfEdgeMidY)||(J=d.math.inBezierVicinity(a,b,l.selfEdgeMidX,l.selfEdgeMidY,l.cp2cx,l.cp2cy,l.endX,l.endY,r))&&R()&&r+t>d.math.sqDistanceToQuadraticBezier(a,b,l.selfEdgeMidX,l.selfEdgeMidY,l.cp2cx,l.cp2cy,l.endX,
l.endY))&&h.push(g);else if("haystack"===l.edgeType){var U=p["haystack-radius"].value/2,J=A._private.position,H=A.width(),E=A.height(),F=m._private.position,N=m.width(),B=m.height(),N=F.x+l.source.x*N*U,F=F.y+l.source.y*B*U,H=J.x+l.target.x*H*U,U=J.y+l.target.y*E*U;(J=d.math.inLineVicinity(a,b,N,F,H,U,z))&&R()&&r+t>d.math.sqDistanceToFiniteLine(a,b,N,F,H,U)&&h.push(g)}else"straight"===l.edgeType?(J=d.math.inLineVicinity(a,b,l.startX,l.startY,l.endX,l.endY,z))&&R()&&r+t>d.math.sqDistanceToFiniteLine(a,
b,l.startX,l.startY,l.endX,l.endY)&&h.push(g):"bezier"===l.edgeType&&(J=d.math.inBezierVicinity(a,b,l.startX,l.startY,l.cp2x,l.cp2y,l.endX,l.endY,r))&&R()&&r+t>d.math.sqDistanceToQuadraticBezier(a,b,l.startX,l.startY,l.cp2x,l.cp2y,l.endX,l.endY)&&h.push(g);if(J&&R()&&0===h.length||h[h.length-1]!==g)r=c.arrowShapes[p["source-arrow-shape"].value],z=c.arrowShapes[p["target-arrow-shape"].value],m=m||g._private.source,A=A||g._private.target,J=A._private.position,F=m._private.position,R=f.getArrowWidth(p.width.pxValue),
p=f.getArrowHeight(p.width.pxValue),(r.roughCollide(a,b,l.arrowStartX,l.arrowStartY,R,p,[l.arrowStartX-F.x,l.arrowStartY-F.y],0)&&r.collide(a,b,l.arrowStartX,l.arrowStartY,R,p,[l.arrowStartX-F.x,l.arrowStartY-F.y],0)||z.roughCollide(a,b,l.arrowEndX,l.arrowEndY,R,p,[l.arrowEndX-J.x,l.arrowEndY-J.y],0)&&z.collide(a,b,l.arrowEndX,l.arrowEndY,R,p,[l.arrowEndX-J.x,l.arrowEndY-J.y],0))&&h.push(g);q&&0<h.length&&h[h.length-1]===g&&(k(m),k(A))}for(var f=this,l=this.getCachedZSortedEles(),h=[],m=c.isTouch,
p=this.data.cy.zoom(),q=this.data.cy.hasCompoundNodes(),t=(m?256:32)/p,r=(m?16:0)/p,m=l.length-1;0<=m&&!(0<h.length);m--)"nodes"===l[m]._private.group?k(l[m]):g(l[m]);return 0<h.length?h[h.length-1]:null};b.getAllInBox=function(a,b,e,k){var g=this.getCachedNodes(),f=this.getCachedEdges(),l=[],h=Math.min(a,e);e=Math.max(a,e);var m=Math.min(b,k);k=Math.max(b,k);a=h;b=m;for(var p,h=0;h<g.length;h++){var m=g[h]._private.position,q=this.getNodeShape(g[h]),t=this.getNodeWidth(g[h]),r=this.getNodeHeight(g[h]);
c.nodeShapes[q].intersectBox(a,b,e,k,t,r,m.x,m.y,g[h]._private.style["border-width"].pxValue/2)&&l.push(g[h])}for(h=0;h<f.length;h++)q=f[h]._private.rscratch,"self"==f[h]._private.rscratch.edgeType&&((p=d.math.boxInBezierVicinity(a,b,e,k,q.startX,q.startY,q.cp2ax,q.cp2ay,q.endX,q.endY,f[h]._private.style.width.pxValue))&&(2==p||1==p&&d.math.checkBezierInBox(a,b,e,k,q.startX,q.startY,q.cp2ax,q.cp2ay,q.endX,q.endY,f[h]._private.style.width.pxValue))||(p=d.math.boxInBezierVicinity(a,b,e,k,q.startX,q.startY,
q.cp2cx,q.cp2cy,q.endX,q.endY,f[h]._private.style.width.pxValue))&&(2==p||1==p&&d.math.checkBezierInBox(a,b,e,k,q.startX,q.startY,q.cp2cx,q.cp2cy,q.endX,q.endY,f[h]._private.style.width.pxValue)))&&l.push(f[h]),"bezier"==q.edgeType&&(p=d.math.boxInBezierVicinity(a,b,e,k,q.startX,q.startY,q.cp2x,q.cp2y,q.endX,q.endY,f[h]._private.style.width.pxValue))&&(2==p||1==p&&d.math.checkBezierInBox(a,b,e,k,q.startX,q.startY,q.cp2x,q.cp2y,q.endX,q.endY,f[h]._private.style.width.pxValue))&&l.push(f[h]),"straight"==
q.edgeType&&(p=d.math.boxInBezierVicinity(a,b,e,k,q.startX,q.startY,.5*q.startX+.5*q.endX,.5*q.startY+.5*q.endY,q.endX,q.endY,f[h]._private.style.width.pxValue))&&(2==p||1==p&&d.math.checkStraightEdgeInBox(a,b,e,k,q.startX,q.startY,q.endX,q.endY,f[h]._private.style.width.pxValue))&&l.push(f[h]),"haystack"==q.edgeType&&(t=f[h].target()[0].position(),m=f[h].source()[0].position(),g=m.x+q.source.x,m=m.y+q.source.y,r=t.x+q.target.x,q=t.y+q.target.y,q=a<=r&&r<=e&&b<=q&&q<=k,a<=g&&g<=e&&b<=m&&m<=k&&q&&
l.push(f[h]));return l};b.getNodeWidth=function(a){return a.width()};b.getNodeHeight=function(a){return a.height()};b.getNodeShape=function(a){var b=a._private.style.shape.value;return a.isParent()&&"rectangle"!==b&&"roundrectangle"!==b?"rectangle":b};b.getNodePadding=function(a){var b=a._private.style["padding-left"].pxValue,c=a._private.style["padding-right"].pxValue,d=a._private.style["padding-top"].pxValue;a=a._private.style["padding-bottom"].pxValue;isNaN(b)&&(b=0);isNaN(c)&&(c=0);isNaN(d)&&
(d=0);isNaN(a)&&(a=0);return{left:b,right:c,top:d,bottom:a}};b.zOrderSort=d.Collection.zIndexSort;b.updateCachedZSortedEles=function(){this.getCachedZSortedEles(!0)};b.getCachedZSortedEles=function(a){var b=this.lastZOrderCachedNodes,c=this.lastZOrderCachedEdges,d=this.getCachedNodes(),g=this.getCachedEdges(),f=[];if(!a&&b&&c&&b===d&&c===g)f=this.cachedZSortedEles;else{for(a=0;a<d.length;a++)d[a].visible()&&!d[a].transparent()&&f.push(d[a]);for(a=0;a<g.length;a++)g[a].visible()&&!g[a].transparent()&&
f.push(g[a]);f.sort(this.zOrderSort);this.cachedZSortedEles=f}this.lastZOrderCachedNodes=d;this.lastZOrderCachedEdges=g;return f};b.projectBezier=function(a){function b(a){g.push({x:c(a[0],a[2],a[4],.05),y:c(a[1],a[3],a[5],.05)});g.push({x:c(a[0],a[2],a[4],.25),y:c(a[1],a[3],a[5],.25)});g.push({x:c(a[0],a[2],a[4],.4),y:c(a[1],a[3],a[5],.4)});var d={x:c(a[0],a[2],a[4],.5),y:c(a[1],a[3],a[5],.5)};g.push(d);"self"===k.edgeType||"compound"===k.edgeType?(k.midX=k.selfEdgeMidX,k.midY=k.selfEdgeMidY):(k.midX=
d.x,k.midY=d.y);g.push({x:c(a[0],a[2],a[4],.6),y:c(a[1],a[3],a[5],.6)});g.push({x:c(a[0],a[2],a[4],.75),y:c(a[1],a[3],a[5],.75)});g.push({x:c(a[0],a[2],a[4],.95),y:c(a[1],a[3],a[5],.95)})}var c=d.math.qbezierAt,k=a._private.rscratch,g=a._private.rstyle.bezierPts=[];"self"===k.edgeType?(b([k.startX,k.startY,k.cp2ax,k.cp2ay,k.selfEdgeMidX,k.selfEdgeMidY]),b([k.selfEdgeMidX,k.selfEdgeMidY,k.cp2cx,k.cp2cy,k.endX,k.endY])):"bezier"===k.edgeType&&b([k.startX,k.startY,k.cp2x,k.cp2y,k.endX,k.endY])};b.recalculateNodeLabelProjection=
function(a){var b=a._private.style.content.strValue;if(b&&!b.match(/^\s+$/)){var c,d;c=a.outerWidth();d=a.outerHeight();var g=a._private.position,f=a._private.style["text-valign"].strValue,b=a._private.rscratch,l=a._private.rstyle;switch(a._private.style["text-halign"].strValue){case "left":c=g.x-c/2;break;case "right":c=g.x+c/2;break;default:c=g.x}switch(f){case "top":d=g.y-d/2;break;case "bottom":d=g.y+d/2;break;default:d=g.y}b.labelX=c;b.labelY=d;l.labelX=c;l.labelY=d;this.applyLabelDimensions(a)}};
b.recalculateEdgeLabelProjection=function(a){var b=a._private.style.content.strValue;if(b&&!b.match(/^\s+$/)){var c,k,g=a._private,b=g.rscratch,g=g.rstyle;"self"==b.edgeType?(c=b.selfEdgeMidX,k=b.selfEdgeMidY):"straight"==b.edgeType?(c=(b.startX+b.endX)/2,k=(b.startY+b.endY)/2):"bezier"==b.edgeType?(c=d.math.qbezierAt(b.startX,b.cp2x,b.endX,.5),k=d.math.qbezierAt(b.startY,b.cp2y,b.endY,.5)):"haystack"==b.edgeType&&(k=b.haystackPts,c=(k[0]+k[2])/2,k=(k[1]+k[3])/2);b.labelX=c;b.labelY=k;g.labelX=c;
g.labelY=k;this.applyLabelDimensions(a)}};b.applyLabelDimensions=function(a){var b=a._private.rscratch,c=a._private.rstyle,d=this.getLabelText(a);a=this.calculateLabelDimensions(a,d);c.labelWidth=a.width;b.labelWidth=a.width;c.labelHeight=a.height;b.labelHeight=a.height};b.getLabelText=function(a){var b=a._private.style,c=a._private.style.content.strValue,d=b["text-transform"].value,g=a._private.rscratch;"none"!=d&&("uppercase"==d?c=c.toUpperCase():"lowercase"==d&&(c=c.toLowerCase()));if("wrap"===
b["text-wrap"].value){if(g.labelWrapKey===g.labelKey)return g.labelWrapCachedText;for(var c=c.split("\n"),b=b["text-max-width"].pxValue,d=[],f=0;f<c.length;f++){var l=c[f];if(this.calculateLabelDimensions(a,l,"line="+l).width>b){for(var l=l.split(/\s+/),h="",m=0;m<l.length;m++){var p=l[m],q=0===h.length?p:h+" "+p;this.calculateLabelDimensions(a,q,"testLine="+q).width<=b?h+=p+" ":(d.push(h),h=p+" ")}h.match(/^\s+$/)||d.push(h)}else d.push(l)}g.labelWrapCachedLines=d;g.labelWrapCachedText=c=d.join("\n");
g.labelWrapKey=g.labelKey}return c};b.calculateLabelDimensions=function(a,b,c){var d=a._private.style,g=d["font-style"].strValue,f=d["font-size"].pxValue+"px",l=d["font-family"].strValue,h=d["font-weight"].strValue;a=a._private.labelKey;c&&(a+="$@$"+c);c=this.labelDimCache||(this.labelDimCache={});if(c[a])return c[a];var m=this.labelCalcDiv;m||(m=this.labelCalcDiv=document.createElement("div"),document.body.appendChild(m));var p=m.style;p.fontFamily=l;p.fontStyle=g;p.fontSize=f;p.fontWeight=h;p.position=
"absolute";p.left="-9999px";p.top="-9999px";p.zIndex="-1";p.visibility="hidden";p.pointerEvents="none";p.padding="0";p.lineHeight="1";p.whiteSpace="wrap"===d["text-wrap"].value?"pre":"normal";m.textContent=b;c[a]={width:m.clientWidth,height:m.clientHeight};return c[a]};b.recalculateRenderedStyle=function(a){for(var b=[],c=[],d={},g=0;g<a.length;g++){var f=a[g],l=f._private,h=l.style,m=l.rscratch,p=l.rstyle,q=l.data.id,t=null!=m.labelKey&&l.labelKey===m.labelKey,t=null!=m.boundingBoxKey&&l.boundingBoxKey===
m.boundingBoxKey&&t;if("nodes"===f._private.group){var r=l.position,q=null!=p.nodeW&&p.nodeW===h.width.pxValue,u=null!=p.nodeH&&p.nodeH===h.height.pxValue;null!=p.nodeX&&null!=p.nodeY&&r.x===p.nodeX&&r.y===p.nodeY&&t&&q&&u||c.push(f);p.nodeX=r.x;p.nodeY=r.y;p.nodeW=h.width.pxValue;p.nodeH=h.height.pxValue}else{h=f._private.source._private.position;r=f._private.target._private.position;u=null!=p.tgtX&&null!=p.tgtY&&r.x===p.tgtX&&r.y===p.tgtY;if(null==p.srcX||null==p.srcY||h.x!==p.srcX||h.y!==p.srcY||
!u||!t)if("bezier"===l.style["curve-style"].value){if(!d[q])for(b.push(f),d[q]=!0,f=f.parallelEdges(),g=0;g<f.length;g++)t=f[g],q=t._private.data.id,d[q]||(b.push(t),d[q]=!0)}else b.push(f);p.srcX=h.x;p.srcY=h.y;p.tgtX=r.x;p.tgtY=r.y}m.boundingBoxKey=l.boundingBoxKey;m.labelKey=l.labelKey}this.recalculateEdgeProjections(b);this.recalculateLabelProjections(c,b)};b.recalculateLabelProjections=function(a,b){for(var c=0;c<a.length;c++)this.recalculateNodeLabelProjection(a[c]);for(c=0;c<b.length;c++)this.recalculateEdgeLabelProjection(b[c])};
b.recalculateEdgeProjections=function(a){this.findEdgeControlPoints(a)};b.findEdgeControlPoints=function(a){var b,e,k,g,f,l,h,m,p,q,t,r;if(a&&0!==a.length){for(var u=this.data.cy.hasCompoundNodes(),v={},x=[],w=[],y,z=0;z<a.length;z++){var A=a[z],J=A._private.style,O="unbundled-bezier"===J["curve-style"].value;if("none"!==J.display.value)if("haystack"===J["curve-style"].value)w.push(A);else{var R=A._private.data.source,U=A._private.data.target;y=R>U?U+"-"+R:R+"-"+U;O&&(y="unbundled"+A._private.data.id);
null==v[y]&&(v[y]=[],x.push(y));v[y].push(A);O&&(v[y].hasUnbundled=!0)}}for(var H,E,F,N,B,P,D,I,S,L,G,T,K,Q=0;Q<x.length;Q++){y=x[Q];var M=v[y];M.sort(function(a,b){return a._private.index-b._private.index});H=M[0]._private.source;E=M[0]._private.target;if(H._private.data.id>E._private.data.id){var da=H;H=E;E=da}F=H._private.position;N=E._private.position;B=this.getNodeWidth(H);P=this.getNodeHeight(H);D=this.getNodeWidth(E);I=this.getNodeHeight(E);S=c.nodeShapes[this.getNodeShape(H)];L=c.nodeShapes[this.getNodeShape(E)];
G=H._private.style["border-width"].pxValue;T=E._private.style["border-width"].pxValue;K=!1;if(1<M.length&&H!==E||M.hasUnbundled){var W=S.intersectLine(F.x,F.y,B,P,N.x,N.y,G/2),aa=L.intersectLine(N.x,N.y,D,I,F.x,F.y,T/2);h=W[0];m=aa[0];p=W[1];q=aa[1];var ja=aa[1]-W[1],ka=aa[0]-W[0],xa=Math.sqrt(ka*ka+ja*ja),La=ka/xa;t=-(ja/xa);r=La;if(L.checkPoint(W[0],W[1],T/2,D,I,N.x,N.y)||S.checkPoint(aa[0],aa[1],G/2,B,P,F.x,F.y))r=t=void 0,K=!0}for(var C,z=0;z<M.length;z++){A=M[z];C=A._private.rscratch;var Ma=
C.lastEdgeIndex,ya=z,Na=C.lastNumEdges,za=M.length,ba=A._private.style,la=ba["control-point-step-size"].pxValue,ea=void 0!==ba["control-point-distance"]?ba["control-point-distance"].pxValue:void 0,ha=ba["control-point-weight"].value,O="unbundled-bezier"===ba["curve-style"].value,Oa=C.lastSrcCtlPtX,ma=F.x,Pa=C.lastSrcCtlPtY,na=F.y,Qa=C.lastSrcCtlPtW,Aa=H.outerWidth(),Ra=C.lastSrcCtlPtH,Ba=H.outerHeight(),Sa=C.lastTgtCtlPtX,oa=N.x,Ta=C.lastTgtCtlPtY,pa=N.y,Ua=C.lastTgtCtlPtW,Ca=E.outerWidth(),Va=C.lastTgtCtlPtH,
Da=E.outerHeight(),Wa=C.lastW,Ea=ba["control-point-step-size"].pxValue;C.badBezier=K?!0:!1;if(Oa!==ma||Pa!==na||Qa!==Aa||Ra!==Ba||Sa!==oa||Ta!==pa||Ua!==Ca||Va!==Da||Wa!==Ea||!(Ma===ya&&Na===za||O)){C.lastSrcCtlPtX=ma;C.lastSrcCtlPtY=na;C.lastSrcCtlPtW=Aa;C.lastSrcCtlPtH=Ba;C.lastTgtCtlPtX=oa;C.lastTgtCtlPtY=pa;C.lastTgtCtlPtW=Ca;C.lastTgtCtlPtH=Da;C.lastEdgeIndex=ya;C.lastNumEdges=za;C.lastWidth=Ea;if(H===E){C.edgeType="self";var X=z,Y=la;O&&(X=0,Y=ea);C.cp2ax=F.x;C.cp2ay=F.y-(1+Math.pow(P,1.12)/
100)*Y*(X/3+1);C.cp2cx=F.x-(1+Math.pow(B,1.12)/100)*Y*(X/3+1);C.cp2cy=F.y;C.selfEdgeMidX=(C.cp2ax+C.cp2cx)/2;C.selfEdgeMidY=(C.cp2ay+C.cp2cy)/2}else if(u&&(H.isParent()||H.isChild()||E.isParent()||E.isChild())&&(H.parents().anySame(E)||E.parents().anySame(H))){C.edgeType="compound";C.badBezier=!1;X=z;Y=la;O&&(X=0,Y=ea);var Xa=F.y-P/2,Ya=N.x-D/2,Za=N.y-I/2;C.cp2ax=F.x-B/2;C.compoundStretchA=Math.max(1,Math.log(.01*B));C.cp2ay=Xa-(1+Math.pow(50,1.12)/100)*Y*(X/3+1)*C.compoundStretchA;C.compoundStretchB=
Math.max(1,Math.log(.01*D));C.cp2cx=Ya-(1+Math.pow(50,1.12)/100)*Y*(X/3+1)*C.compoundStretchB;C.cp2cy=Za;C.selfEdgeMidX=(C.cp2ax+C.cp2cx)/2;C.selfEdgeMidY=(C.cp2ay+C.cp2cy)/2}else if(1!==M.length%2||z!==Math.floor(M.length/2)||O){var Fa=(.5-M.length/2+z)*la,qa,$a=d.math.signum(Fa);qa=O?ea:void 0!==ea?$a*ea:void 0;var Ga=void 0!==qa?qa:Fa,ra=1-ha,sa=ha;A._private.source!==H&&(ra=ha,sa=1-ha);var ab=h*ra+m*sa,bb=p*ra+q*sa;C.edgeType="bezier";C.cp2x=ab+t*Ga;C.cp2y=bb+r*Ga}else C.edgeType="straight";this.findEndpoints(A);
var cb=!d.is.number(C.startX)||!d.is.number(C.startY),db=!d.is.number(C.arrowStartX)||!d.is.number(C.arrowStartY),eb=!d.is.number(C.endX)||!d.is.number(C.endY),fb=!d.is.number(C.arrowEndX)||!d.is.number(C.arrowEndY),V=3*this.getArrowWidth(A._private.style.width.pxValue)*c.arrowShapeHeight,ta=d.math.distance({x:C.cp2x,y:C.cp2y},{x:C.startX,y:C.startY}),Ha=ta<V,ua=d.math.distance({x:C.cp2x,y:C.cp2y},{x:C.endX,y:C.endY}),Ia=ua<V;if("bezier"===C.edgeType){var va=!1;if(cb||db||Ha){va=!0;f=C.cp2x-F.x;l=
C.cp2y-F.y;var fa=Math.sqrt(f*f+l*l);k=f/fa;g=l/fa;var Z=Math.max(B,P);b=C.cp2x+2*k*Z;e=C.cp2y+2*g*Z;var Ja=S.intersectLine(F.x,F.y,B,P,b,e,G/2);Ha?(C.cp2x+=k*(V-ta),C.cp2y+=g*(V-ta)):(C.cp2x=Ja[0]+k*V,C.cp2y=Ja[1]+g*V)}if(eb||fb||Ia){va=!0;f=C.cp2x-N.x;l=C.cp2y-N.y;fa=Math.sqrt(f*f+l*l);k=f/fa;g=l/fa;Z=Math.max(B,P);b=C.cp2x+2*k*Z;e=C.cp2y+2*g*Z;var Ka=L.intersectLine(N.x,N.y,D,I,b,e,T/2);Ia?(C.cp2x+=k*(V-ua),C.cp2y+=g*(V-ua)):(C.cp2x=Ka[0]+k*V,C.cp2y=Ka[1]+g*V)}va&&this.findEndpoints(A)}else"straight"===
C.edgeType&&(C.midX=(ma+oa)/2,C.midY=(na+pa)/2);this.projectBezier(A);this.recalculateEdgeLabelProjection(A)}}}for(z=0;z<w.length;z++){var A=w[z],wa=A._private,ca=wa.rscratch;C=ca;if(!ca.haystack){var ga=2*Math.random()*Math.PI;ca.source={x:Math.cos(ga),y:Math.sin(ga)};ga=2*Math.random()*Math.PI;ca.target={x:Math.cos(ga),y:Math.sin(ga)}}H=wa.source;E=wa.target;F=H._private.position;N=E._private.position;B=H.width();D=E.width();P=H.height();I=E.height();var Z=J["haystack-radius"].value,ia=Z/2;C.haystackPts=
[C.source.x*B*ia+F.x,C.source.y*P*ia+F.y,C.target.x*D*ia+N.x,C.target.y*I*ia+N.y];ca.edgeType="haystack";ca.haystack=!0;this.recalculateEdgeLabelProjection(A)}return v}};b.findEndpoints=function(a){var b,e=a.source()[0],k=a.target()[0],g=a._private.style["target-arrow-shape"].value,f=a._private.style["source-arrow-shape"].value;b=k._private.style["border-width"].pxValue;var l=e._private.style["border-width"].pxValue,h=a._private.rscratch;if("self"==h.edgeType||"compound"==h.edgeType){var m=[h.cp2cx,
h.cp2cy];b=c.nodeShapes[this.getNodeShape(k)].intersectLine(k._private.position.x,k._private.position.y,this.getNodeWidth(k),this.getNodeHeight(k),m[0],m[1],b/2);var p=d.math.shortenIntersection(b,m,c.arrowShapes[g].spacing(a));b=d.math.shortenIntersection(b,m,c.arrowShapes[g].gap(a));h.endX=b[0];h.endY=b[1];h.arrowEndX=p[0];h.arrowEndY=p[1];m=[h.cp2ax,h.cp2ay];b=c.nodeShapes[this.getNodeShape(e)].intersectLine(e._private.position.x,e._private.position.y,this.getNodeWidth(e),this.getNodeHeight(e),
m[0],m[1],l/2);e=d.math.shortenIntersection(b,m,c.arrowShapes[f].spacing(a));a=d.math.shortenIntersection(b,m,c.arrowShapes[f].gap(a));h.startX=a[0];h.startY=a[1];h.arrowStartX=e[0];h.arrowStartY=e[1]}else"straight"==h.edgeType?(b=c.nodeShapes[this.getNodeShape(k)].intersectLine(k._private.position.x,k._private.position.y,this.getNodeWidth(k),this.getNodeHeight(k),e.position().x,e.position().y,b/2),h.noArrowPlacement=0===b.length?!0:!1,p=d.math.shortenIntersection(b,[e.position().x,e.position().y],
c.arrowShapes[g].spacing(a)),b=d.math.shortenIntersection(b,[e.position().x,e.position().y],c.arrowShapes[g].gap(a)),h.endX=b[0],h.endY=b[1],h.arrowEndX=p[0],h.arrowEndY=p[1],b=c.nodeShapes[this.getNodeShape(e)].intersectLine(e._private.position.x,e._private.position.y,this.getNodeWidth(e),this.getNodeHeight(e),k.position().x,k.position().y,l/2),h.noArrowPlacement=0===b.length?!0:!1,e=d.math.shortenIntersection(b,[k.position().x,k.position().y],c.arrowShapes[f].spacing(a)),a=d.math.shortenIntersection(b,
[k.position().x,k.position().y],c.arrowShapes[f].gap(a)),h.startX=a[0],h.startY=a[1],h.arrowStartX=e[0],h.arrowStartY=e[1],d.is.number(h.startX)&&d.is.number(h.startY)&&d.is.number(h.endX)&&d.is.number(h.endY)?h.badLine=!1:h.badLine=!0):"bezier"==h.edgeType&&(m=[h.cp2x,h.cp2y],b=c.nodeShapes[this.getNodeShape(k)].intersectLine(k._private.position.x,k._private.position.y,this.getNodeWidth(k),this.getNodeHeight(k),m[0],m[1],b/2),p=d.math.shortenIntersection(b,m,c.arrowShapes[g].spacing(a)),b=d.math.shortenIntersection(b,
m,c.arrowShapes[g].gap(a)),h.endX=b[0],h.endY=b[1],h.arrowEndX=p[0],h.arrowEndY=p[1],b=c.nodeShapes[this.getNodeShape(e)].intersectLine(e._private.position.x,e._private.position.y,this.getNodeWidth(e),this.getNodeHeight(e),m[0],m[1],l/2),e=d.math.shortenIntersection(b,m,c.arrowShapes[f].spacing(a)),a=d.math.shortenIntersection(b,m,c.arrowShapes[f].gap(a)),h.startX=a[0],h.startY=a[1],h.arrowStartX=e[0],h.arrowStartY=e[1])};b.findEdges=function(a){for(var b=this.getCachedEdges(),c={},d=[],g=0;g<a.length;g++)c[a[g]._private.data.id]=
a[g];for(g=0;g<b.length;g++)(c[b[g]._private.data.source]||c[b[g]._private.data.target])&&d.push(b[g]);return d};b.getArrowWidth=b.getArrowHeight=function(a){var b=this.arrowWidthCache=this.arrowWidthCache||{},c=b[a];if(c)return c;c=Math.max(Math.pow(13.37*a,.9),29);return b[a]=c}})(cytoscape);
(function(d){var c=d("renderer","canvas");d=c.prototype;d.drawEdge=function(b,a,d){var e=a._private.rscratch,k=c.usePaths();if(!e.badBezier&&("bezier"!==e.edgeType&&"straight"!==e.edgeType||!isNaN(e.startX))){var g=a._private.style;if(!(0>=g.width.pxValue)){var f=g["overlay-padding"].pxValue,l=g["overlay-opacity"].value,h=g["overlay-color"].value;if(d){if(0===l)return;this.strokeStyle(b,h[0],h[1],h[2],l);b.lineCap="round";"self"!=a._private.rscratch.edgeType||k||(b.lineCap="butt")}else k=g["line-color"].value,
this.strokeStyle(b,k[0],k[1],k[2],g.opacity.value),b.lineCap="butt";k=a._private.source;l=a._private.target;f=g.width.pxValue+(d?2*f:0);h=d?"solid":g["line-style"].value;b.lineWidth=f;var m=g["shadow-opacity"].value;this.shadowStyle(b,g["shadow-color"].value,d?0:m,g["shadow-blur"].pxValue,g["shadow-offset-x"].pxValue,g["shadow-offset-y"].pxValue);"haystack"===e.edgeType?this.drawStyledEdge(a,b,e.haystackPts,h,f):"self"===e.edgeType||"compound"===e.edgeType?(g=a._private.rscratch,this.drawStyledEdge(a,
b,[g.startX,g.startY,g.cp2ax,g.cp2ay,g.selfEdgeMidX,g.selfEdgeMidY,g.selfEdgeMidX,g.selfEdgeMidY,g.cp2cx,g.cp2cy,g.endX,g.endY],h,f)):"straight"===e.edgeType?0>(l._private.position.x-k._private.position.x)*(e.endX-e.startX)+(l._private.position.y-k._private.position.y)*(e.endY-e.startY)?e.straightEdgeTooShort=!0:(g=e,this.drawStyledEdge(a,b,[g.startX,g.startY,g.endX,g.endY],h,f),e.straightEdgeTooShort=!1):(g=e,this.drawStyledEdge(a,b,[g.startX,g.startY,g.cp2x,g.cp2y,g.endX,g.endY],h,f));"haystack"===
e.edgeType?this.drawArrowheads(b,a,d):!0!==e.noArrowPlacement&&void 0!==e.startX&&this.drawArrowheads(b,a,d);this.shadowStyle(b,"transparent",0)}}};d.drawStyledEdge=function(b,a,d,e,k){b=b._private.rscratch;k=a;var g,f=!1,l=c.usePaths();if(l){a=b.pathCacheKey&&d.length===b.pathCacheKey.length;for(g=0;a&&g<d.length;g++)b.pathCacheKey[g]!==d[g]&&(a=!1);a?(g=a=b.pathCache,f=!0):(g=a=new Path2D,b.pathCacheKey=d,b.pathCache=g)}if(k.setLineDash)switch(e){case "dotted":k.setLineDash([1,1]);break;case "dashed":k.setLineDash([6,
3]);break;case "solid":k.setLineDash([])}f||(a.beginPath&&a.beginPath(),a.moveTo(d[0],d[1]),6!==d.length||b.badBezier?12!==d.length||b.badBezier?4!==d.length||b.badLine||a.lineTo(d[2],d[3]):(a.quadraticCurveTo(d[2],d[3],d[4],d[5]),a.quadraticCurveTo(d[8],d[9],d[10],d[11])):a.quadraticCurveTo(d[2],d[3],d[4],d[5]));a=k;l?a.stroke(g):a.stroke();a.setLineDash&&a.setLineDash([])};d.drawArrowheads=function(b,a,c){function d(c,e,n,g,f){var h=r[c+"-arrow-shape"].value;if("none"!==h){var l=b.globalCompositeOperation,
p="hollow"===r[c+"-arrow-fill"].value?"both":"filled",m=r[c+"-arrow-fill"].value;"half-triangle-overshot"===h&&(p=m="hollow");if(1!==r.opacity.value||"hollow"===m)b.globalCompositeOperation="destination-out",k.fillStyle(b,255,255,255,1),k.strokeStyle(b,255,255,255,1),k.drawArrowShape(a,c,b,p,r.width.pxValue,r[c+"-arrow-shape"].value,e,n,g,f),b.globalCompositeOperation=l;h=r[c+"-arrow-color"].value;k.fillStyle(b,h[0],h[1],h[2],r.opacity.value);k.strokeStyle(b,h[0],h[1],h[2],r.opacity.value);k.drawArrowShape(a,
c,b,m,r.width.pxValue,r[c+"-arrow-shape"].value,e,n,g,f)}}if(!c){c=a._private.rscratch;var k=this,g="haystack"===c.edgeType,f,l,h,m,p,q;l=a.source().position();var t=a.target().position();g?(h=c.haystackPts[0],m=c.haystackPts[1],p=c.haystackPts[2],q=c.haystackPts[3]):(h=c.arrowStartX,m=c.arrowStartY,p=c.arrowEndX,q=c.arrowEndY);var r=a._private.style;f=h-l.x;l=m-l.y;g||isNaN(h)||isNaN(m)||isNaN(f)||isNaN(l)||d("source",h,m,f,l);var u=c.midX,v=c.midY;g&&(u=(h+p)/2,v=(m+q)/2);f=h-p;l=m-q;"self"===c.edgeType&&
(f=1,l=-1);isNaN(u)||isNaN(v)||d("mid-target",u,v,f,l);f*=-1;l*=-1;isNaN(u)||isNaN(v)||d("mid-source",u,v,f,l);f=p-t.x;l=q-t.y;g||isNaN(p)||isNaN(q)||isNaN(f)||isNaN(l)||d("target",p,q,f,l)}};d.drawArrowShape=function(b,a,d,e,k,g,f,l,h,m){var p=c.usePaths();b=b._private.rscratch;var q=!1,t,r=d,u={x:f,y:l};m=Math.asin(m/Math.sqrt(h*h+m*m));m=0>h?m+Math.PI/2:-(Math.PI/2+m);h=this.getArrowWidth(k);var v=c.arrowShapes[g];p&&(g=h+"$"+g+"$"+m+"$"+f+"$"+l,b.arrowPathCacheKey=b.arrowPathCacheKey||{},b.arrowPathCache=
b.arrowPathCache||{},b.arrowPathCacheKey[a]===g?(t=d=b.arrowPathCache[a],q=!0):(t=d=new Path2D,b.arrowPathCacheKey[a]=g,b.arrowPathCache[a]=t));d.beginPath&&d.beginPath();q||v.draw(d,h,m,u);!v.leavePathOpen&&d.closePath&&d.closePath();d=r;if("filled"===e||"both"===e)p?d.fill(t):d.fill();if("hollow"===e||"both"===e)d.lineWidth=v.matchEdgeWidth?k:1,d.lineJoin="miter",p?d.stroke(t):d.stroke()}})(cytoscape);
(function(d){var c=d("renderer","canvas");d=c.prototype;d.getCachedImage=function(b,a){var c=this.imageCache=this.imageCache||{};if(c[b]&&c[b].image)return c[b].image;c=(c[b]=c[b]||{}).image=new Image;c.addEventListener("load",a);c.src=b;return c};d.drawInscribedImage=function(b,a,d){var e=d._private.position.x,k=d._private.position.y,g=d._private.style,f=g["background-fit"].value,l=g["background-position-x"],h=g["background-position-y"],m=g["background-repeat"].value,p=d.width(),q=d.height(),t=d._private.rscratch,
r="node"===g["background-clip"].value,u=g["background-image-opacity"].value,v=a.width,x=a.height;if(0!==v&&0!==x){var w=g["background-width"];"auto"!==w.value&&(v="%"===w.units?w.value/100*p:w.pxValue);g=g["background-height"];"auto"!==g.value&&(x="%"===g.units?g.value/100*q:g.pxValue);0!==v&&0!==x&&("contain"===f?(f=Math.min(p/v,q/x),v*=f,x*=f):"cover"===f&&(f=Math.max(p/v,q/x),v*=f,x*=f),f=e-p/2,f="%"===l.units?f+(p-v)*l.value/100:f+l.pxValue,l=k-q/2,l="%"===h.units?l+(q-x)*h.value/100:l+h.pxValue,
t.pathCache&&(f-=e,l-=k,k=e=0),h=b.globalAlpha,b.globalAlpha=u,"no-repeat"===m?(r&&(b.save(),t.pathCache?b.clip(t.pathCache):(c.nodeShapes[this.getNodeShape(d)].drawPath(b,e,k,p,q),b.clip())),b.drawImage(a,0,0,a.width,a.height,f,l,v,x),r&&b.restore()):(a=b.createPattern(a,m),b.fillStyle=a,c.nodeShapes[this.getNodeShape(d)].drawPath(b,e,k,p,q),b.translate(f,l),b.fill(),b.translate(-f,-l)),b.globalAlpha=h)}}})(cytoscape);
(function(d){var c=d("renderer","canvas").prototype;c.drawEdgeText=function(b,a){var c=a._private.style.content.strValue;if(!(!c||c.match(/^\s+$/)||this.hideEdgesOnViewport&&(this.dragData.didDrag||this.pinching||this.hoverData.dragging||this.data.wheel||this.swipePanning)||a._private.style["font-size"].pxValue*a.cy().zoom()<a._private.style["min-zoomed-font-size"].pxValue)&&(b.textAlign="center",b.textBaseline="middle",c=a._private.rscratch,d.is.number(c.labelX)&&d.is.number(c.labelY))){var e,k;
if("autorotate"===a._private.style["edge-text-rotation"].strValue){switch(c.edgeType){case "haystack":e=c.haystackPts[2]-c.haystackPts[0];k=c.haystackPts[3]-c.haystackPts[1];break;default:e=c.endX-c.startX,k=c.endY-c.startY}e=Math.atan(k/e);b.translate(c.labelX,c.labelY);b.rotate(e);this.drawText(b,a,0,0);b.rotate(-e);b.translate(-c.labelX,-c.labelY)}else this.drawText(b,a,c.labelX,c.labelY)}};c.drawNodeText=function(b,a){var c=a._private.style.content.strValue;if(c&&!c.match(/^\s+$/)&&!(a._private.style["font-size"].pxValue*
a.cy().zoom()<a._private.style["min-zoomed-font-size"].pxValue)){var c=a._private.style["text-halign"].strValue,e=a._private.style["text-valign"].strValue,k=a._private.rscratch;if(d.is.number(k.labelX)&&d.is.number(k.labelY)){switch(c){case "left":b.textAlign="right";break;case "right":b.textAlign="left";break;default:b.textAlign="center"}switch(e){case "top":b.textBaseline="bottom";break;case "bottom":b.textBaseline="top";break;default:b.textBaseline="middle"}this.drawText(b,a,k.labelX,k.labelY)}}};
c.getFontCache=function(b){var a;this.fontCaches=this.fontCaches||[];for(var c=0;c<this.fontCaches.length;c++)if(a=this.fontCaches[c],a.context===b)return a;a={context:b};this.fontCaches.push(a);return a};c.setupTextStyle=function(b,a){var c=a.effectiveOpacity(),d=a._private.style,k=d["font-style"].strValue,g=d["font-size"].pxValue+"px",f=d["font-family"].strValue,l=d["font-weight"].strValue,c=d["text-opacity"].value*d.opacity.value*c,h=d["text-outline-opacity"].value*c,m=d.color.value,p=d["text-outline-color"].value,
q=d["text-shadow-blur"].pxValue,t=d["text-shadow-opacity"].value,r=d["text-shadow-color"].value,u=d["text-shadow-offset-x"].pxValue,d=d["text-shadow-offset-y"].pxValue,v=a._private.fontKey,x=this.getFontCache(b);x.key!==v&&(b.font=k+" "+l+" "+g+" "+f,x.key=v);k=this.getLabelText(a);b.lineJoin="round";this.fillStyle(b,m[0],m[1],m[2],c);this.strokeStyle(b,p[0],p[1],p[2],h);this.shadowStyle(b,r,t,q,u,d);return k};c.drawText=function(c,a,d,e){var k=a._private,g=k.style,f=k.rstyle,l=k.rscratch,h=a.effectiveOpacity();
if(0!==h&&0!==g["text-opacity"].value){var m=this.setupTextStyle(c,a),p=g["text-halign"].value,k=g["text-valign"].value;a.isEdge()&&(k=p="center");if(null!=m&&!isNaN(d)&&!isNaN(e)){var q=g["text-background-opacity"].value;if((g["text-background-color"]||0<g["text-border-width"].pxValue)&&0<q){var t=g["text-border-width"].pxValue,r=4+t/2;a.isNode()&&("top"==k?e-=r:"bottom"==k&&(e+=r),"left"==p?d-=r:"right"==p&&(d+=r));var u=f.labelWidth,v=f.labelHeight,x=d;p&&("center"==p?x-=u/2:"left"==p&&(x-=u));
p=e;a.isNode()?"top"==k?p-=v:"center"==k&&(p-=v/2):p-=v/2;"autorotate"===g["edge-text-rotation"].strValue?(e=0,u+=4,x=d-u/2,p=e-v/2):(x-=r,p-=r,v+=2*r,u+=2*r);if(g["text-background-color"]){a=c.fillStyle;r=g["text-background-color"].value;c.fillStyle="rgba("+r[0]+","+r[1]+","+r[2]+","+q*h+")";if("roundrectangle"==g["text-background-shape"].strValue){var r=x,w=p,y=u,z=v,A;A=2;c.beginPath();c.moveTo(r+A,w);c.lineTo(r+y-A,w);c.quadraticCurveTo(r+y,w,r+y,w+A);c.lineTo(r+y,w+z-A);c.quadraticCurveTo(r+
y,w+z,r+y-A,w+z);c.lineTo(r+A,w+z);c.quadraticCurveTo(r,w+z,r,w+z-A);c.lineTo(r,w+A);c.quadraticCurveTo(r,w,r+A,w);c.closePath();c.fill()}else c.fillRect(x,p,u,v);c.fillStyle=a}if(0<t){a=c.strokeStyle;r=c.lineWidth;w=g["text-border-color"].value;y=g["text-border-style"].value;c.strokeStyle="rgba("+w[0]+","+w[1]+","+w[2]+","+q*h+")";c.lineWidth=t;if(c.setLineDash)switch(y){case "dotted":c.setLineDash([1,1]);break;case "dashed":c.setLineDash([4,2]);break;case "double":c.lineWidth=t/4;c.setLineDash([]);
break;case "solid":c.setLineDash([])}c.strokeRect(x,p,u,v);"double"===y&&(h=t/2,c.strokeRect(x+h,p+h,u-2*h,v-2*h));c.setLineDash&&c.setLineDash([]);c.lineWidth=r;c.strokeStyle=a}}u=2*g["text-outline-width"].pxValue;0<u&&(c.lineWidth=u);if("wrap"===g["text-wrap"].value){g=l.labelWrapCachedLines;f=f.labelHeight/g.length;switch(k){case "top":e-=(g.length-1)*f;break;case "bottom":break;default:case "center":e-=(g.length-1)*f/2}for(k=0;k<g.length;k++)0<u&&c.strokeText(g[k],d,e),c.fillText(g[k],d,e),e+=
f}else 0<u&&c.strokeText(m,d,e),c.fillText(m,d,e);this.shadowStyle(c,"transparent",0)}}}})(cytoscape);
(function(d){var c=d("renderer","canvas"),b=c.prototype;b.drawNode=function(a,b,d){var k=this,g,f,l=b._private.style,h=b._private.rscratch,m=b._private,p=c.usePaths(),q=a,t,r=!1,u=l["overlay-padding"].pxValue,v=l["overlay-opacity"].value,x=l["overlay-color"].value;if(!d||0!==v){var w=b.effectiveOpacity();if(0!==w)if(g=this.getNodeWidth(b),f=this.getNodeHeight(b),a.lineWidth=l["border-width"].pxValue,void 0!==d&&d)0<v&&(this.fillStyle(a,x[0],x[1],x[2],v),c.nodeShapes.roundrectangle.drawPath(a,b._private.position.x,
b._private.position.y,g+2*u,f+2*u),a.fill());else{d=l["background-image"].value[2]||l["background-image"].value[1];var y;void 0!==d&&(y=this.getCachedImage(d,function(){k.data.canvasNeedsRedraw[c.NODE]=!0;k.data.canvasNeedsRedraw[c.DRAG]=!0;k.drawingImage=!0;k.redraw()}),u=m.backgrounding,m.backgrounding=!y.complete,u!==m.backgrounding&&b.updateStyle(!1));u=l["background-color"].value;v=l["border-color"].value;m=l["border-style"].value;this.fillStyle(a,u[0],u[1],u[2],l["background-opacity"].value*
l.opacity.value*w);this.strokeStyle(a,v[0],v[1],v[2],l["border-opacity"].value*l.opacity.value*w);this.shadowStyle(a,l["shadow-color"].value,l["shadow-opacity"].value,l["shadow-blur"].pxValue,l["shadow-offset-x"].pxValue,l["shadow-offset-y"].pxValue);a.lineJoin="miter";if(a.setLineDash)switch(m){case "dotted":a.setLineDash([1,1]);break;case "dashed":a.setLineDash([4,2]);break;case "solid":case "double":a.setLineDash([])}u=l.shape.strValue;w=b._private.position;p&&(u=u+"$"+g+"$"+f,a.translate(w.x,
w.y),h.pathCacheKey===u?(t=a=h.pathCache,r=!0):(t=a=new Path2D,h.pathCacheKey=u,h.pathCache=t));r||(h=w,p&&(h={x:0,y:0}),c.nodeShapes[this.getNodeShape(b)].drawPath(a,h.x,h.y,g,f));a=q;p?a.fill(t):a.fill();this.shadowStyle(a,"transparent",0);void 0!==d&&y.complete&&this.drawInscribedImage(a,y,b);q=l["background-blacken"].value;y=l["border-width"].pxValue;this.hasPie(b)&&(this.drawPie(a,b),0!==q||0!==y)&&(p||c.nodeShapes[this.getNodeShape(b)].drawPath(a,w.x,w.y,g,f));0<q?(this.fillStyle(a,0,0,0,q),
p?a.fill(t):a.fill()):0>q&&(this.fillStyle(a,255,255,255,-q),p?a.fill(t):a.fill());0<y&&(p?a.stroke(t):a.stroke(),"double"===m&&(a.lineWidth=l["border-width"].pxValue/3,b=a.globalCompositeOperation,a.globalCompositeOperation="destination-out",p?a.stroke(t):a.stroke(),a.globalCompositeOperation=b));p&&a.translate(-w.x,-w.y);a.setLineDash&&a.setLineDash([])}}};b.hasPie=function(a){a=a[0];return a._private.hasPie};b.drawPie=function(a,b){b=b[0];var e=b._private.style["pie-size"],k=this.getNodeWidth(b),
g=this.getNodeHeight(b),f=b._private.position.x,l=b._private.position.y,k=Math.min(k,g)/2,g=0;c.usePaths()&&(l=f=0);"%"===e.units?k=k*e.value/100:void 0!==e.pxValue&&(k=e.pxValue/2);for(e=1;e<=d.style.pieBackgroundN;e++){var h=b._private.style["pie-"+e+"-background-size"].value,m=b._private.style["pie-"+e+"-background-color"].value,p=b._private.style["pie-"+e+"-background-opacity"].value,q=h/100,t=1.5*Math.PI+2*Math.PI*g,r=t+2*Math.PI*q;0===h||1<=g||1<g+q||(a.beginPath(),a.moveTo(f,l),a.arc(f,l,k,
t,r),a.closePath(),this.fillStyle(a,m[0],m[1],m[2],p),a.fill(),g+=q)}}})(cytoscape);
(function(d){var c=d("renderer","canvas"),b=c.prototype;b.getPixelRatio=function(){var a=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(a.backingStorePixelRatio||a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1)};b.paintCache=function(a){for(var c=this.paintCaches=this.paintCaches||[],b=!0,d,g=0;g<c.length;g++)if(d=c[g],d.context===a){b=!1;break}b&&
(d={context:a},c.push(d));return d};b.fillStyle=function(a,c,b,d,g){a.fillStyle="rgba("+c+","+b+","+d+","+g+")"};b.strokeStyle=function(a,c,b,d,g){a.strokeStyle="rgba("+c+","+b+","+d+","+g+")"};b.shadowStyle=function(a,c,b,d,g,f){var l=this.data.cy.zoom();0<b?(a.shadowBlur=d*l,a.shadowColor="rgba("+c[0]+","+c[1]+","+c[2]+","+b+")",a.shadowOffsetX=g*l,a.shadowOffsetY=f*l):(a.shadowBlur=0,a.shadowColor="transparent")};b.matchCanvasSize=function(a){var b=this.data,d=a.clientWidth,k=a.clientHeight,g=
this.getPixelRatio(),f=this.motionBlurPxRatio;if(a===this.data.bufferCanvases[c.MOTIONBLUR_BUFFER_NODE]||a===this.data.bufferCanvases[c.MOTIONBLUR_BUFFER_DRAG])g=f;a=d*g;var f=k*g,l;if(a!==this.canvasWidth||f!==this.canvasHeight){this.fontCaches=null;l=b.canvasContainer;l.style.width=d+"px";l.style.height=k+"px";for(var h=0;h<c.CANVAS_LAYERS;h++)if(l=b.canvases[h],l.width!==a||l.height!==f)l.width=a,l.height=f,l.style.width=d+"px",l.style.height=k+"px";for(h=0;h<c.BUFFER_COUNT;h++)if(l=b.bufferCanvases[h],
l.width!==a||l.height!==f)l.width=a,l.height=f,l.style.width=d+"px",l.style.height=k+"px";this.textureMult=1;1>=g&&(l=b.bufferCanvases[c.TEXTURE_BUFFER],this.textureMult=2,l.width=a*this.textureMult,l.height=f*this.textureMult);this.canvasWidth=a;this.canvasHeight=f}};b.renderTo=function(a,c,b,d){this.redraw({forcedContext:a,forcedZoom:c,forcedPan:b,drawAllLayers:!0,forcedPxRatio:d})};b.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};c.minRedrawLimit=1E3/60;c.maxRedrawLimit=
1E3;c.motionBlurDelay=100;b.redraw=function(a){function b(){function a(c,b,d,e,g){var f=c.globalCompositeOperation;c.globalCompositeOperation="destination-out";h.fillStyle(c,255,255,255,h.motionBlurTransparency);c.fillRect(b,d,e,g);c.globalCompositeOperation=f}function n(b,d){var g,p,m,t;h.clearingMotionBlur||b!==q.bufferContexts[c.MOTIONBLUR_BUFFER_NODE]&&b!==q.bufferContexts[c.MOTIONBLUR_BUFFER_DRAG]?(g=P,p=z,m=h.canvasWidth,t=h.canvasHeight):(g={x:B.x*v,y:B.y*v},p=A*v,m=h.canvasWidth*v,t=h.canvasHeight*
v);b.setTransform(1,0,0,1,0,0);"motionBlur"===d?a(b,0,0,m,t):e||void 0!==d&&!d||b.clearRect(0,0,m,t);k||(b.translate(g.x,g.y),b.scale(p,p));l&&b.translate(l.x,l.y);f&&b.scale(f,f)}function U(a,c){for(var b=a.eles,d=0;d<b.length;d++){var e=b[d];e.isNode()?(h.drawNode(c,e),Q||h.drawNodeText(c,e),h.drawNode(c,e,!0)):K||(h.drawEdge(c,e),Q||h.drawEdgeText(c,e),h.drawEdge(c,e,!0))}}h.textureDrawLastFrame&&!r&&(t[c.NODE]=!0,t[c.SELECT_BOX]=!0);var H=h.getCachedEdges(),E=p.style()._private.coreStyle,A=p.zoom(),
z=void 0!==f?f:A,B=p.pan(),P={x:B.x,y:B.y},D={zoom:A,pan:{x:B.x,y:B.y}},I=h.prevViewport;void 0===I||D.zoom!==I.zoom||D.pan.x!==I.pan.x||D.pan.y!==I.pan.y||w&&!x||(h.motionBlurPxRatio=1);l&&(P=l);z*=m;P.x*=m;P.y*=m;var I={nodes:[],edges:[],eles:[]},S={nodes:[],edges:[],eles:[]};r||(h.textureDrawLastFrame=!1);if(r){h.textureDrawLastFrame=!0;var L;h.textureCache||(h.textureCache={},L=h.textureCache.bb=p.elements().boundingBox(),h.textureCache.texture=h.data.bufferCanvases[c.TEXTURE_BUFFER],D=h.data.bufferContexts[c.TEXTURE_BUFFER],
D.setTransform(1,0,0,1,0,0),D.clearRect(0,0,h.canvasWidth*h.textureMult,h.canvasHeight*h.textureMult),h.redraw({forcedContext:D,drawOnlyNodeLayer:!0,forcedPxRatio:m*h.textureMult}),D=h.textureCache.viewport={zoom:p.zoom(),pan:p.pan(),width:h.canvasWidth,height:h.canvasHeight},D.mpan={x:(0-D.pan.x)/D.zoom,y:(0-D.pan.y)/D.zoom});t[c.DRAG]=!1;t[c.NODE]=!1;var G=q.contexts[c.NODE],T=h.textureCache.texture,D=h.textureCache.viewport;L=h.textureCache.bb;G.setTransform(1,0,0,1,0,0);u?a(G,0,0,D.width,D.height):
G.clearRect(0,0,D.width,D.height);L=E["outside-texture-bg-color"].value;h.fillStyle(G,L[0],L[1],L[2],E["outside-texture-bg-opacity"].value);G.fillRect(0,0,D.width,D.height);A=p.zoom();n(G,!1);G.clearRect(D.mpan.x,D.mpan.y,D.width/D.zoom/m,D.height/D.zoom/m);G.drawImage(T,D.mpan.x,D.mpan.y,D.width/D.zoom/m,D.height/D.zoom/m)}else h.textureOnViewport&&!e&&(h.textureCache=null);var G=h.pinching||h.hoverData.dragging||h.swipePanning||h.data.wheelZooming||h.hoverData.draggingEles,K=h.hideEdgesOnViewport&&
G,Q=h.hideLabelsOnViewport&&G;if(t[c.DRAG]||t[c.NODE]||k||g)for(K||h.findEdgeControlPoints(H),H=h.getCachedZSortedEles(),G=p.extent(),T=0;T<H.length;T++){var M=H[T];L=e?null:M.boundingBox();if(e||d.math.boundingBoxesIntersect(G,L))L=M._private.rscratch.inDragLayer?I:S,L.eles.push(M)}H=[];H[c.NODE]=!t[c.NODE]&&u&&!h.clearedForMotionBlur[c.NODE]||h.clearingMotionBlur;H[c.NODE]&&(h.clearedForMotionBlur[c.NODE]=!0);H[c.DRAG]=!t[c.DRAG]&&u&&!h.clearedForMotionBlur[c.DRAG]||h.clearingMotionBlur;H[c.DRAG]&&
(h.clearedForMotionBlur[c.DRAG]=!0);if(t[c.NODE]||k||g||H[c.NODE])L=u&&!H[c.NODE]&&1!==v,G=e||(L?h.data.bufferContexts[c.MOTIONBLUR_BUFFER_NODE]:q.contexts[c.NODE]),L=u&&!L?"motionBlur":void 0,t[c.DRAG]&&t[c.NODE]&&(L=!0),n(G,L),U(S,G),k||u||(t[c.NODE]=!1);!g&&(t[c.DRAG]||k||H[c.DRAG])&&(L=u&&!H[c.DRAG]&&1!==v,G=e||(L?h.data.bufferContexts[c.MOTIONBLUR_BUFFER_DRAG]:q.contexts[c.DRAG]),n(G,u&&!L?"motionBlur":void 0),U(I,G),k||u||(t[c.DRAG]=!1));if(h.showFps||!g&&t[c.SELECT_BOX]&&!k)G=e||q.contexts[c.SELECT_BOX],
n(G),1==q.select[4]&&(h.hoverData.selecting||h.touchData.selecting)&&(A=q.cy.zoom(),I=E["selection-box-border-width"].value/A,G.lineWidth=I,G.fillStyle="rgba("+E["selection-box-color"].value[0]+","+E["selection-box-color"].value[1]+","+E["selection-box-color"].value[2]+","+E["selection-box-opacity"].value+")",G.fillRect(q.select[0],q.select[1],q.select[2]-q.select[0],q.select[3]-q.select[1]),0<I&&(G.strokeStyle="rgba("+E["selection-box-border-color"].value[0]+","+E["selection-box-border-color"].value[1]+
","+E["selection-box-border-color"].value[2]+","+E["selection-box-opacity"].value+")",G.strokeRect(q.select[0],q.select[1],q.select[2]-q.select[0],q.select[3]-q.select[1]))),q.bgActivePosistion&&!h.hoverData.selecting&&(A=q.cy.zoom(),I=q.bgActivePosistion,G.fillStyle="rgba("+E["active-bg-color"].value[0]+","+E["active-bg-color"].value[1]+","+E["active-bg-color"].value[2]+","+E["active-bg-opacity"].value+")",G.beginPath(),G.arc(I.x,I.y,E["active-bg-size"].pxValue/A,0,2*Math.PI),G.fill()),E=h.averageRedrawTime,
h.showFps&&E&&(E=Math.round(E),I=Math.round(1E3/E),G.setTransform(1,0,0,1,0,0),G.fillStyle="rgba(255, 0, 0, 0.75)",G.strokeStyle="rgba(255, 0, 0, 0.75)",G.lineWidth=1,G.fillText("1 frame = "+E+" ms = "+I+" fps",0,20),G.strokeRect(0,30,250,20),G.fillRect(0,30,250*Math.min(I/60,1),20)),k||(t[c.SELECT_BOX]=!1);if(u&&1!==v){E=q.contexts[c.NODE];I=h.data.bufferCanvases[c.MOTIONBLUR_BUFFER_NODE];S=q.contexts[c.DRAG];G=h.data.bufferCanvases[c.MOTIONBLUR_BUFFER_DRAG];L=function(c,b,d){c.setTransform(1,0,
0,1,0,0);d||!y?c.clearRect(0,0,h.canvasWidth,h.canvasHeight):a(c,0,0,h.canvasWidth,h.canvasHeight);d=v;c.drawImage(b,0,0,h.canvasWidth*d,h.canvasHeight*d,0,0,h.canvasWidth,h.canvasHeight)};if(t[c.NODE]||H[c.NODE])L(E,I,H[c.NODE]),t[c.NODE]=!1;if(t[c.DRAG]||H[c.DRAG])L(S,G,H[c.DRAG]),t[c.DRAG]=!1}E=Date.now();void 0===h.averageRedrawTime&&(h.averageRedrawTime=E-J);void 0===h.redrawCount&&(h.redrawCount=0);h.redrawCount++;void 0===h.redrawTotalTime&&(h.redrawTotalTime=0);h.redrawTotalTime+=E-J;h.lastRedrawTime=
E-J;h.averageRedrawTime=h.averageRedrawTime/2+(E-J)/2;h.currentlyDrawing=!1;h.prevViewport=D;h.clearingMotionBlur&&(h.clearingMotionBlur=!1,h.motionBlurCleared=!0,h.motionBlur=!0);u&&(h.motionBlurTimeout=setTimeout(function(){h.motionBlurTimeout=null;h.clearedForMotionBlur[c.NODE]=!1;h.clearedForMotionBlur[c.DRAG]=!1;h.motionBlur=!1;h.clearingMotionBlur=!r;h.mbFrames=0;t[c.NODE]=!0;t[c.DRAG]=!0;h.redraw()},c.motionBlurDelay));h.drawingImage=!1}a=a||{};var e=a.forcedContext,k=a.drawAllLayers,g=a.drawOnlyNodeLayer,
f=a.forcedZoom,l=a.forcedPan,h=this,m=void 0===a.forcedPxRatio?this.getPixelRatio():a.forcedPxRatio,p=h.data.cy,q=h.data,t=q.canvasNeedsRedraw,r=h.textureOnViewport&&!e&&(h.pinching||h.hoverData.dragging||h.swipePanning||h.data.wheelZooming),u=void 0!==a.motionBlur?a.motionBlur:h.motionBlur,v=h.motionBlurPxRatio,x=p.hasCompoundNodes(),w=h.hoverData.draggingEles;a=h.hoverData.selecting||h.touchData.selecting?!0:!1;var y=u=u&&!e&&h.motionBlurEnabled&&!a;!e&&h.motionBlurTimeout&&clearTimeout(h.motionBlurTimeout);
!e&&this.redrawTimeout&&clearTimeout(this.redrawTimeout);this.redrawTimeout=null;void 0===this.averageRedrawTime&&(this.averageRedrawTime=0);var z=c.minRedrawLimit,A=c.maxRedrawLimit;a=this.averageRedrawTime;a=z>a?z:a;a=a<A?a:A;void 0===this.lastDrawTime&&(this.lastDrawTime=0);z=Date.now();A=z-this.lastDrawTime>=a;if(!e&&!h.clearingMotionBlur){if(!A||this.currentlyDrawing){this.redrawTimeout=setTimeout(function(){h.redraw()},a);return}this.lastDrawTime=z;this.currentlyDrawing=!0}u&&(null==h.mbFrames&&
(h.mbFrames=0),h.drawingImage||h.mbFrames++,3>h.mbFrames&&(y=!1),h.mbFrames>h.minMbLowQualFrames&&(h.motionBlurPxRatio=h.mbPxRBlurry));h.clearingMotionBlur&&(h.motionBlurPxRatio=1);var J=Date.now();e?b():d.util.requestAnimationFrame(b);e||h.initrender||(h.initrender=!0,p.trigger("initrender"));e||p.triggerOnRender()}})(cytoscape);
(function(d){var c=d("renderer","canvas").prototype;c.drawPolygonPath=function(c,a,d,e,k,g){e/=2;k/=2;c.beginPath&&c.beginPath();c.moveTo(a+e*g[0],d+k*g[1]);for(var f=1;f<g.length/2;f++)c.lineTo(a+e*g[2*f],d+k*g[2*f+1]);c.closePath()};c.drawPolygon=function(c,a,d,e,k,g){this.drawPolygonPath(c,a,d,e,k,g);c.fill()};c.drawRoundRectanglePath=function(c,a,n,e,k,g){g=e/2;var f=k/2;e=d.math.getRoundRectangleRadius(e,k);c.beginPath&&c.beginPath();c.moveTo(a,n-f);c.arcTo(a+g,n-f,a+g,n,e);c.arcTo(a+g,n+f,a,
n+f,e);c.arcTo(a-g,n+f,a-g,n,e);c.arcTo(a-g,n-f,a,n-f,e);c.lineTo(a,n-f);c.closePath()};c.drawRoundRectangle=function(c,a,d,e,k,g){this.drawRoundRectanglePath(c,a,d,e,k,g);c.fill()}})(cytoscape);
(function(d){var c=d("renderer","canvas").prototype;c.createBuffer=function(c,a){var d=document.createElement("canvas");d.width=c;d.height=a;return[d,d.getContext("2d")]};c.bufferCanvasImage=function(c){var a=this.data.cy,n=a.elements().boundingBox(),e=c.full?Math.ceil(n.w):this.data.container.clientWidth,k=c.full?Math.ceil(n.h):this.data.container.clientHeight,g=1;if(void 0!==c.scale)e*=c.scale,k*=c.scale,g=c.scale;else if(d.is.number(c.maxWidth)||d.is.number(c.maxHeight)){var f=Infinity,l=Infinity;
d.is.number(c.maxWidth)&&(f=g*c.maxWidth/e);d.is.number(c.maxHeight)&&(l=g*c.maxHeight/k);g=Math.min(f,l);e*=g;k*=g}f=document.createElement("canvas");f.width=e;f.height=k;f.style.width=e+"px";f.style.height=k+"px";l=f.getContext("2d");0<e&&0<k&&(l.clearRect(0,0,e,k),c.bg&&(l.fillStyle=c.bg,l.rect(0,0,e,k),l.fill()),l.globalCompositeOperation="source-over",c.full?this.redraw({forcedContext:l,drawAllLayers:!0,forcedZoom:g,forcedPan:{x:-n.x1*g,y:-n.y1*g},forcedPxRatio:1}):(c=a.pan(),c={x:c.x*g,y:c.y*
g},a=a.zoom()*g,this.redraw({forcedContext:l,drawAllLayers:!0,forcedZoom:a,forcedPan:c,forcedPxRatio:1})));return f};c.png=function(c){return this.bufferCanvasImage(c).toDataURL("image/png")};c.jpg=function(c){return this.bufferCanvasImage(c).toDataURL("image/jpeg")}})(cytoscape);
(function(d){var c=d("renderer","canvas"),b=c.prototype;b.registerBinding=function(a,c,b,d){this.bindings.push({target:a,event:c,handler:b,useCapture:d});a.addEventListener(c,b,d)};b.nodeIsDraggable=function(a){return 0!==a._private.style.opacity.value&&"visible"==a._private.style.visibility.value&&"element"==a._private.style.display.value&&!a.locked()&&a.grabbable()?!0:!1};b.load=function(){var a=this,b=function(c){var b;if(c.addToList&&a.data.cy.hasCompoundNodes()){if(!c.addToList.hasId)for(c.addToList.hasId=
{},b=0;b<c.addToList.length;b++)c.addToList.hasId[c.addToList[b].id()]=!0;b=c.addToList.hasId}return b||{}},e=function(a,c){var d=a._private,e=b(c);c.inDragLayer&&(d.rscratch.inDragLayer=!0);c.addToList&&!e[a.id()]&&(c.addToList.push(a),e[a.id()]=!0,d.grabbed=!0);d=d.edges;for(e=0;c.inDragLayer&&e<d.length;e++)d[e]._private.rscratch.inDragLayer=!0;if(a._private.cy.hasCompoundNodes()&&(null!=c.inDragLayer||null!=c.addToList))for(var d=b(c),e=a.descendants(),f=0;f<e.size();f++){var k=e[f],h=k._private;
c.inDragLayer&&(h.rscratch.inDragLayer=!0);c.addToList&&!d[k.id()]&&(c.addToList.push(k),d[k.id()]=!0,h.grabbed=!0);k=h.edges;for(h=0;c.inDragLayer&&h<k.length;h++)k[h]._private.rscratch.inDragLayer=!0}g(a,{inDragLayer:c.inDragLayer})},k=function(a){if(a)for(var c=0;c<a.length;c++){var b=a[c]._private;if("nodes"===b.group){b.rscratch.inDragLayer=!1;b.grabbed=!1;for(var b=b.edges,d=0;d<b.length;d++)b[d]._private.rscratch.inDragLayer=!1;g(a[c],{inDragLayer:!1})}else"edges"===b.group&&(b.rscratch.inDragLayer=
!1)}},g=function(a,c){if(null!=c.inDragLayer||null!=c.addToList){var d=a;if(a._private.cy.hasCompoundNodes()){for(;d.parent().nonempty();)d=d.parent()[0];if(d!=a){for(var e=d.descendants().merge(d).unmerge(a).unmerge(a.descendants()),d=e.connectedEdges(),g=b(c),f=0;f<e.size();f++)void 0!==c.inDragLayer&&(e[f]._private.rscratch.inDragLayer=c.inDragLayer),c.addToList&&!g[e[f].id()]&&(c.addToList.push(e[f]),g[e[f].id()]=!0,e[f]._private.grabbed=!0);for(e=0;void 0!==c.inDragLayer&&e<d.length;e++)d[e]._private.rscratch.inDragLayer=
c.inDragLayer}}}};"undefined"!==typeof MutationObserver?(a.removeObserver=new MutationObserver(function(c){for(var b=0;b<c.length;b++){var d=c[b].removedNodes;if(d)for(var e=0;e<d.length;e++)if(d[e]===a.data.container){a.destroy();break}}}),a.removeObserver.observe(a.data.container.parentNode,{childList:!0})):a.registerBinding(a.data.container,"DOMNodeRemoved",function(c){a.destroy()});a.registerBinding(window,"resize",d.util.debounce(function(b){a.invalidateContainerClientCoordsCache();a.matchCanvasSize(a.data.container);
a.data.canvasNeedsRedraw[c.NODE]=!0;a.redraw()},100));for(var f=function(c){a.registerBinding(c,"scroll",function(c){a.invalidateContainerClientCoordsCache()})},l=a.data.cy.container();;)if(f(l),l.parentNode)l=l.parentNode;else break;a.registerBinding(a.data.container,"contextmenu",function(a){a.preventDefault()});a.registerBinding(a.data.container,"mousedown",function(b){b.preventDefault();a.hoverData.capture=!0;a.hoverData.which=b.which;var g=a.data.cy,f=a.projectIntoViewport(b.clientX,b.clientY),
k=a.data.select,h=a.findNearestElement(f[0],f[1],!0),l=a.dragData.possibleDragElements;a.hoverData.mdownPos=f;var n=a.data.canvasNeedsRedraw,p=function(){a.hoverData.tapholdCancelled=!1;clearTimeout(a.hoverData.tapholdTimeout);a.hoverData.tapholdTimeout=setTimeout(function(){if(!a.hoverData.tapholdCancelled){var c=a.hoverData.down;c?c.trigger(new d.Event(b,{type:"taphold",cyPosition:{x:f[0],y:f[1]}})):g.trigger(new d.Event(b,{type:"taphold",cyPosition:{x:f[0],y:f[1]}}))}},a.tapholdDuration)};if(3==
b.which)a.hoverData.cxtStarted=!0,p=new d.Event(b,{type:"cxttapstart",cyPosition:{x:f[0],y:f[1]}}),h?(h.activate(),h.trigger(p),a.hoverData.down=h):g.trigger(p),a.hoverData.downTime=(new Date).getTime(),a.hoverData.cxtDragged=!1;else if(1==b.which){h&&h.activate();if(null!=h){if(a.nodeIsDraggable(h)){var m=new d.Event(b,{type:"grab",cyPosition:{x:f[0],y:f[1]}});if(h.isNode()&&!h.selected())l=a.dragData.possibleDragElements=[],e(h,{addToList:l}),h.trigger(m);else if(h.isNode()&&h.selected()){for(var l=
a.dragData.possibleDragElements=[],q=g.$(function(){return this.isNode()&&this.selected()}),t=0;t<q.length;t++)a.nodeIsDraggable(q[t])&&e(q[t],{addToList:l});h.trigger(m)}n[c.NODE]=!0;n[c.DRAG]=!0}h.trigger(new d.Event(b,{type:"mousedown",cyPosition:{x:f[0],y:f[1]}})).trigger(new d.Event(b,{type:"tapstart",cyPosition:{x:f[0],y:f[1]}})).trigger(new d.Event(b,{type:"vmousedown",cyPosition:{x:f[0],y:f[1]}}))}else null==h&&g.trigger(new d.Event(b,{type:"mousedown",cyPosition:{x:f[0],y:f[1]}})).trigger(new d.Event(b,
{type:"tapstart",cyPosition:{x:f[0],y:f[1]}})).trigger(new d.Event(b,{type:"vmousedown",cyPosition:{x:f[0],y:f[1]}}));a.hoverData.down=h;a.hoverData.downTime=(new Date).getTime();if(null==h||h.isEdge())k[4]=1,l=Math.max(0,c.panOrBoxSelectDelay-(+new Date-a.hoverData.downTime)),clearTimeout(a.bgActiveTimeout),g.boxSelectionEnabled()||h&&h.isEdge()?a.bgActiveTimeout=setTimeout(function(){h&&h.unactivate();a.data.bgActivePosistion={x:f[0],y:f[1]};a.hoverData.dragging=!0;n[c.SELECT_BOX]=!0;a.redraw()},
l):(a.data.bgActivePosistion={x:f[0],y:f[1]},n[c.SELECT_BOX]=!0,a.redraw());p()}k[0]=k[2]=f[0];k[1]=k[3]=f[1]},!1);a.registerBinding(window,"mousemove",d.util.throttle(function(b){var f=!1;if(!a.hoverData.capture){var g=a.findContainerClientCoords();if(!(b.clientX>g[0]&&b.clientX<g[0]+a.canvasWidth&&b.clientY>g[1]&&b.clientY<g[1]+a.canvasHeight))return;for(var g=a.data.container,h=b.target.parentNode,k=!1;h;){if(h===g){k=!0;break}h=h.parentNode}if(!k)return}var k=a.data.cy,l=k.zoom(),h=a.projectIntoViewport(b.clientX,
b.clientY),g=a.data.select,n=a.data.canvasNeedsRedraw,p=null;a.hoverData.draggingEles||(p=a.findNearestElement(h[0],h[1],!0));var m=a.hoverData.last,q=a.hoverData.down,t=[h[0]-g[2],h[1]-g[3]],r=a.dragData.possibleDragElements,f=g[2]-g[0],u=g[3]-g[1],u=(f*f+u*u)*l*l,f=a.hoverData.tapholdCancelled=!0;null!=p?p.trigger(new d.Event(b,{type:"mousemove",cyPosition:{x:h[0],y:h[1]}})).trigger(new d.Event(b,{type:"vmousemove",cyPosition:{x:h[0],y:h[1]}})).trigger(new d.Event(b,{type:"tapdrag",cyPosition:{x:h[0],
y:h[1]}})):null==p&&k.trigger(new d.Event(b,{type:"mousemove",cyPosition:{x:h[0],y:h[1]}})).trigger(new d.Event(b,{type:"vmousemove",cyPosition:{x:h[0],y:h[1]}})).trigger(new d.Event(b,{type:"tapdrag",cyPosition:{x:h[0],y:h[1]}}));if(3===a.hoverData.which)n=new d.Event(b,{type:"cxtdrag",cyPosition:{x:h[0],y:h[1]}}),q?q.trigger(n):k.trigger(n),a.hoverData.cxtDragged=!0,a.hoverData.cxtOver&&p===a.hoverData.cxtOver||(a.hoverData.cxtOver&&a.hoverData.cxtOver.trigger(new d.Event(b,{type:"cxtdragout",cyPosition:{x:h[0],
y:h[1]}})),(a.hoverData.cxtOver=p)&&p.trigger(new d.Event(b,{type:"cxtdragover",cyPosition:{x:h[0],y:h[1]}})));else if(a.hoverData.dragging)f=!0,k.panningEnabled()&&k.userPanningEnabled()&&(a.hoverData.justStartedPan?(n=a.hoverData.mdownPos,h={x:(h[0]-n[0])*l,y:(h[1]-n[1])*l},a.hoverData.justStartedPan=!1):h={x:t[0]*l,y:t[1]*l},k.panBy(h),a.hoverData.dragged=!0),h=a.projectIntoViewport(b.clientX,b.clientY);else if(1==g[4]&&(null==q||q.isEdge())&&(!k.boxSelectionEnabled()||+new Date-a.hoverData.downTime>=
c.panOrBoxSelectDelay)&&!a.hoverData.selecting&&u>=a.tapThreshold2&&k.panningEnabled()&&k.userPanningEnabled())a.hoverData.dragging=!0,a.hoverData.selecting=!1,a.hoverData.justStartedPan=!0,g[4]=0;else{k.boxSelectionEnabled()&&!a.hoverData.dragging&&7<Math.pow(g[2]-g[0],2)+Math.pow(g[3]-g[1],2)&&g[4]&&(clearTimeout(a.bgActiveTimeout),a.data.bgActivePosistion=void 0,a.hoverData.selecting=!0,n[c.SELECT_BOX]=!0,a.redraw());q&&q.isEdge()&&q.active()&&q.unactivate();p!=m&&(m&&(m.trigger(new d.Event(b,
{type:"mouseout",cyPosition:{x:h[0],y:h[1]}})),m.trigger(new d.Event(b,{type:"tapdragout",cyPosition:{x:h[0],y:h[1]}}))),p&&(p.trigger(new d.Event(b,{type:"mouseover",cyPosition:{x:h[0],y:h[1]}})),p.trigger(new d.Event(b,{type:"tapdragover",cyPosition:{x:h[0],y:h[1]}}))),a.hoverData.last=p);if(q&&q.isNode()&&a.nodeIsDraggable(q))if(u>=a.tapThreshold2){(f=!a.dragData.didDrag)&&(n[c.NODE]=!0);a.dragData.didDrag=!0;l=[];for(p=0;p<r.length;p++)m=r[p],a.hoverData.draggingEles||e(m,{inDragLayer:!0}),m.isNode()&&
a.nodeIsDraggable(m)&&m.grabbed()&&(q=m._private.position,l.push(m),d.is.number(t[0])&&d.is.number(t[1])&&(q.x+=t[0],q.y+=t[1],f&&(m=a.hoverData.dragDelta,d.is.number(m[0])&&d.is.number(m[1])&&(q.x+=m[0],q.y+=m[1]))));a.hoverData.draggingEles=!0;k=new d.Collection(k,l);k.updateCompoundBounds();k.trigger("position drag");n[c.DRAG]=!0;a.redraw()}else k=a.hoverData.dragDelta=a.hoverData.dragDelta||[],0===k.length?(k.push(t[0]),k.push(t[1])):(k[0]+=t[0],k[1]+=t[1]);f=!0}g[2]=h[0];g[3]=h[1];if(f)return b.stopPropagation&&
b.stopPropagation(),b.preventDefault&&b.preventDefault(),!1},1E3/30,{trailing:!0}),!1);a.registerBinding(window,"mouseup",function(b){if(a.hoverData.capture){a.hoverData.capture=!1;var e=a.data.cy,f=a.projectIntoViewport(b.clientX,b.clientY),g=a.data.select,h=a.findNearestElement(f[0],f[1],!0),l=a.dragData.possibleDragElements,n=a.hoverData.down,p=b.shiftKey,m=a.data.canvasNeedsRedraw;a.data.bgActivePosistion&&(m[c.SELECT_BOX]=!0,a.redraw());a.data.bgActivePosistion=void 0;clearTimeout(a.bgActiveTimeout);
n&&n.unactivate();if(3===a.hoverData.which)l=new d.Event(b,{type:"cxttapend",cyPosition:{x:f[0],y:f[1]}}),n?n.trigger(l):e.trigger(l),a.hoverData.cxtDragged||(l=new d.Event(b,{type:"cxttap",cyPosition:{x:f[0],y:f[1]}}),n?n.trigger(l):e.trigger(l)),a.hoverData.cxtDragged=!1,a.hoverData.which=null;else{null!=n||a.dragData.didDrag||a.hoverData.dragged||(e.$(function(){return this.selected()}).unselect(),0<l.length&&(m[c.NODE]=!0),a.dragData.possibleDragElements=l=[]);null!=h?h.trigger(new d.Event(b,
{type:"mouseup",cyPosition:{x:f[0],y:f[1]}})).trigger(new d.Event(b,{type:"tapend",cyPosition:{x:f[0],y:f[1]}})).trigger(new d.Event(b,{type:"vmouseup",cyPosition:{x:f[0],y:f[1]}})):null==h&&e.trigger(new d.Event(b,{type:"mouseup",cyPosition:{x:f[0],y:f[1]}})).trigger(new d.Event(b,{type:"tapend",cyPosition:{x:f[0],y:f[1]}})).trigger(new d.Event(b,{type:"vmouseup",cyPosition:{x:f[0],y:f[1]}}));a.dragData.didDrag||a.hoverData.dragged||(null!=h?h.trigger(new d.Event(b,{type:"click",cyPosition:{x:f[0],
y:f[1]}})).trigger(new d.Event(b,{type:"tap",cyPosition:{x:f[0],y:f[1]}})).trigger(new d.Event(b,{type:"vclick",cyPosition:{x:f[0],y:f[1]}})):null==h&&e.trigger(new d.Event(b,{type:"click",cyPosition:{x:f[0],y:f[1]}})).trigger(new d.Event(b,{type:"tap",cyPosition:{x:f[0],y:f[1]}})).trigger(new d.Event(b,{type:"vclick",cyPosition:{x:f[0],y:f[1]}})));h==n&&!a.dragData.didDrag&&null!=h&&h._private.selectable&&(a.hoverData.dragging||("additive"===e.selectionType()||p?h.selected()?h.unselect():h.select():
p||(e.$(":selected").unmerge(h).unselect(),h.select())),m[c.NODE]=!0);if(a.hoverData.selecting&&e.boxSelectionEnabled()&&7<Math.pow(g[2]-g[0],2)+Math.pow(g[3]-g[1],2)&&g[4]){b=[];f=a.getAllInBox(g[0],g[1],g[2],g[3]);m[c.SELECT_BOX]=!0;0<f.length&&(m[c.NODE]=!0);for(h=0;h<f.length;h++)f[h]._private.selectable&&b.push(f[h]);b=new d.Collection(e,b);"additive"!==e.selectionType()&&(p||e.$(":selected").unmerge(b).unselect());b.select();a.redraw()}a.hoverData.dragging&&(a.hoverData.dragging=!1,m[c.SELECT_BOX]=
!0,m[c.NODE]=!0,a.redraw());g[4]||(m[c.DRAG]=!0,m[c.NODE]=!0,k(l),n&&n.trigger("free"))}g[4]=0;a.hoverData.down=null;a.hoverData.cxtStarted=!1;a.hoverData.draggingEles=!1;a.hoverData.selecting=!1;a.dragData.didDrag=!1;a.hoverData.dragged=!1;a.hoverData.dragDelta=[]}},!1);a.registerBinding(a.data.container,"wheel",function(b){if(!a.scrollingPage){var d=a.data.cy,e=a.projectIntoViewport(b.clientX,b.clientY),e=[e[0]*d.zoom()+d.pan().x,e[1]*d.zoom()+d.pan().y];if(a.hoverData.draggingEles||a.hoverData.dragging||
a.hoverData.cxtStarted||0!==a.data.select[4])b.preventDefault();else if(d.panningEnabled()&&d.userPanningEnabled()&&d.zoomingEnabled()&&d.userZoomingEnabled()){b.preventDefault();a.data.wheelZooming=!0;clearTimeout(a.data.wheelTimeout);a.data.wheelTimeout=setTimeout(function(){a.data.wheelZooming=!1;a.data.canvasNeedsRedraw[c.NODE]=!0;a.redraw()},150);var f=b.deltaY/-250||b.wheelDeltaY/1E3||b.wheelDelta/1E3,f=f*a.wheelSensitivity;1===b.deltaMode&&(f*=33);d.zoom({level:d.zoom()*Math.pow(10,f),renderedPosition:{x:e[0],
y:e[1]}})}}},!0);a.registerBinding(window,"scroll",function(c){a.scrollingPage=!0;clearTimeout(a.scrollingPageTimeout);a.scrollingPageTimeout=setTimeout(function(){a.scrollingPage=!1},250)},!0);a.registerBinding(a.data.container,"mouseout",function(c){var b=a.projectIntoViewport(c.clientX,c.clientY);a.data.cy.trigger(new d.Event(c,{type:"mouseout",cyPosition:{x:b[0],y:b[1]}}))},!1);a.registerBinding(a.data.container,"mouseover",function(c){var b=a.projectIntoViewport(c.clientX,c.clientY);a.data.cy.trigger(new d.Event(c,
{type:"mouseover",cyPosition:{x:b[0],y:b[1]}}))},!1);var h,m,p,q,t,r,u,v,x,w,y,z,A;a.registerBinding(a.data.container,"touchstart",function(b){clearTimeout(this.threeFingerSelectTimeout);b.target!==a.data.link&&b.preventDefault();a.touchData.capture=!0;a.data.bgActivePosistion=void 0;var f=a.data.cy,g=a.getCachedNodes(),k=a.getCachedEdges(),l=a.touchData.now,n=a.touchData.earlier,F=a.data.canvasNeedsRedraw;if(b.touches[0]){var N=a.projectIntoViewport(b.touches[0].clientX,b.touches[0].clientY);l[0]=
N[0];l[1]=N[1]}b.touches[1]&&(N=a.projectIntoViewport(b.touches[1].clientX,b.touches[1].clientY),l[2]=N[0],l[3]=N[1]);b.touches[2]&&(N=a.projectIntoViewport(b.touches[2].clientX,b.touches[2].clientY),l[4]=N[0],l[5]=N[1]);if(b.touches[1]){var B=function(a){for(var c=0;c<a.length;c++)a[c]._private.grabbed=!1,a[c]._private.rscratch.inDragLayer=!1,a[c].active()&&a[c].unactivate()};B(g);B(k);g=a.findContainerClientCoords();x=g[0];w=g[1];y=g[2];z=g[3];h=b.touches[0].clientX-x;m=b.touches[0].clientY-w;p=
b.touches[1].clientX-x;q=b.touches[1].clientY-w;A=0<=h&&h<=y&&0<=p&&p<=y&&0<=m&&m<=z&&0<=q&&q<=z;g=f.pan();k=f.zoom();t=Math.sqrt((p-h)*(p-h)+(q-m)*(q-m));r=(p-h)*(p-h)+(q-m)*(q-m);u=[(h+p)/2,(m+q)/2];v=[(u[0]-g.x)/k,(u[1]-g.y)/k];if(4E4>r&&!b.touches[2]){n=a.findNearestElement(l[0],l[1],!0);F=a.findNearestElement(l[2],l[3],!0);n&&n.isNode()?(n.activate().trigger(new d.Event(b,{type:"cxttapstart",cyPosition:{x:l[0],y:l[1]}})),a.touchData.start=n):F&&F.isNode()?(F.activate().trigger(new d.Event(b,
{type:"cxttapstart",cyPosition:{x:l[0],y:l[1]}})),a.touchData.start=F):(f.trigger(new d.Event(b,{type:"cxttapstart",cyPosition:{x:l[0],y:l[1]}})),a.touchData.start=null);a.touchData.start&&(a.touchData.start._private.grabbed=!1);a.touchData.cxt=!0;a.touchData.cxtDragged=!1;a.data.bgActivePosistion=void 0;a.redraw();return}}if(!b.touches[2]&&!b.touches[1]&&b.touches[0]){g=a.findNearestElement(l[0],l[1],!0);if(null!=g){g.activate();a.touchData.start=g;if(g.isNode()&&a.nodeIsDraggable(g)){k=a.dragData.touchDragEles=
[];F[c.NODE]=!0;F[c.DRAG]=!0;if(g.selected())for(var B=f.$(function(){return this.isNode()&&this.selected()}),P=0;P<B.length;P++){var D=B[P];a.nodeIsDraggable(D)&&e(D,{addToList:k})}else e(g,{addToList:k});g.trigger(new d.Event(b,{type:"grab",cyPosition:{x:l[0],y:l[1]}}))}g.trigger(new d.Event(b,{type:"touchstart",cyPosition:{x:l[0],y:l[1]}})).trigger(new d.Event(b,{type:"tapstart",cyPosition:{x:l[0],y:l[1]}})).trigger(new d.Event(b,{type:"vmousdown",cyPosition:{x:l[0],y:l[1]}}))}null==g&&(f.trigger(new d.Event(b,
{type:"touchstart",cyPosition:{x:l[0],y:l[1]}})).trigger(new d.Event(b,{type:"tapstart",cyPosition:{x:l[0],y:l[1]}})).trigger(new d.Event(b,{type:"vmousedown",cyPosition:{x:l[0],y:l[1]}})),a.data.bgActivePosistion={x:N[0],y:N[1]},F[c.SELECT_BOX]=!0,a.redraw());for(F=0;F<l.length;F++)n[F]=l[F],a.touchData.startPosition[F]=l[F];a.touchData.singleTouchMoved=!1;a.touchData.singleTouchStartTime=+new Date;clearTimeout(a.touchData.tapholdTimeout);a.touchData.tapholdTimeout=setTimeout(function(){!1!==a.touchData.singleTouchMoved||
a.pinching||(a.touchData.start?a.touchData.start.trigger(new d.Event(b,{type:"taphold",cyPosition:{x:l[0],y:l[1]}})):(a.data.cy.trigger(new d.Event(b,{type:"taphold",cyPosition:{x:l[0],y:l[1]}})),f.$(":selected").unselect()))},a.tapholdDuration)}},!1);a.registerBinding(window,"touchmove",d.util.throttle(function(b){var f=a.data.select,g=a.touchData.capture;g&&b.preventDefault();var k=a.data.cy,l=a.touchData.now,n=a.touchData.earlier,u=k.zoom(),y=a.data.canvasNeedsRedraw;if(b.touches[0]){var B=a.projectIntoViewport(b.touches[0].clientX,
b.touches[0].clientY);l[0]=B[0];l[1]=B[1]}b.touches[1]&&(B=a.projectIntoViewport(b.touches[1].clientX,b.touches[1].clientY),l[2]=B[0],l[3]=B[1]);b.touches[2]&&(B=a.projectIntoViewport(b.touches[2].clientX,b.touches[2].clientY),l[4]=B[0],l[5]=B[1]);for(var z=[],B=0;B<l.length;B++)z[B]=l[B]-n[B];var B=a.touchData.startPosition,D=l[0]-B[0],I=l[1]-B[1],S=(D*D+I*I)*u*u;if(g&&a.touchData.cxt){var B=b.touches[0].clientX-x,L=b.touches[0].clientY-w,G=b.touches[1].clientX-x,T=b.touches[1].clientY-w,B=(G-B)*
(G-B)+(T-L)*(T-L);if(2.25<=B/r||22500<=B)a.touchData.cxt=!1,a.touchData.start&&(a.touchData.start.unactivate(),a.touchData.start=null),a.data.bgActivePosistion=void 0,y[c.SELECT_BOX]=!0,B=new d.Event(b,{type:"cxttapend",cyPosition:{x:l[0],y:l[1]}}),a.touchData.start?a.touchData.start.trigger(B):k.trigger(B)}if(g&&a.touchData.cxt){B=new d.Event(b,{type:"cxtdrag",cyPosition:{x:l[0],y:l[1]}});a.data.bgActivePosistion=void 0;y[c.SELECT_BOX]=!0;a.touchData.start?a.touchData.start.trigger(B):k.trigger(B);
a.touchData.start&&(a.touchData.start._private.grabbed=!1);a.touchData.cxtDragged=!0;var K=a.findNearestElement(l[0],l[1],!0);a.touchData.cxtOver&&K===a.touchData.cxtOver||(a.touchData.cxtOver&&a.touchData.cxtOver.trigger(new d.Event(b,{type:"cxtdragout",cyPosition:{x:l[0],y:l[1]}})),(a.touchData.cxtOver=K)&&K.trigger(new d.Event(b,{type:"cxtdragover",cyPosition:{x:l[0],y:l[1]}})))}else if(g&&b.touches[2]&&k.boxSelectionEnabled())a.data.bgActivePosistion=void 0,clearTimeout(this.threeFingerSelectTimeout),
this.lastThreeTouch=+new Date,a.touchData.selecting=!0,y[c.SELECT_BOX]=!0,f&&0!==f.length&&void 0!==f[0]?(f[2]=(l[0]+l[2]+l[4])/3,f[3]=(l[1]+l[3]+l[5])/3):(f[0]=(l[0]+l[2]+l[4])/3,f[1]=(l[1]+l[3]+l[5])/3,f[2]=(l[0]+l[2]+l[4])/3+1,f[3]=(l[1]+l[3]+l[5])/3+1),f[4]=1,a.touchData.selecting=!0,a.redraw();else if(g&&b.touches[1]&&k.zoomingEnabled()&&k.panningEnabled()&&k.userZoomingEnabled()&&k.userPanningEnabled()){a.data.bgActivePosistion=void 0;y[c.SELECT_BOX]=!0;if(f=a.dragData.touchDragEles)for(y[c.DRAG]=
!0,K=0;K<f.length;K++)f[K]._private.grabbed=!1,f[K]._private.rscratch.inDragLayer=!1;B=b.touches[0].clientX-x;L=b.touches[0].clientY-w;G=b.touches[1].clientX-x;T=b.touches[1].clientY-w;g=Math.sqrt((G-B)*(G-B)+(T-L)*(T-L));u=g/t;if(1!=u&&A){var z=(B-h+(G-p))/2,K=(L-m+(T-q))/2,D=k.zoom(),u=D*u,Q=k.pan(),I=v[0]*D+Q.x,S=v[1]*D+Q.y,z={x:-u/D*(I-Q.x-z)+I,y:-u/D*(S-Q.y-K)+S};if(a.touchData.start){if(f=a.dragData.touchDragEles)for(K=0;K<f.length;K++)D=f[K]._private,D.grabbed=!1,D.rscratch.inDragLayer=!1;
K=a.touchData.start._private;K.active=!1;K.grabbed=!1;K.rscratch.inDragLayer=!1;y[c.DRAG]=!0;a.touchData.start.trigger("free").trigger("unactivate")}k.viewport({zoom:u,pan:z,cancelOnFailedZoom:!0});t=g;h=B;m=L;p=G;q=T;a.pinching=!0}b.touches[0]&&(B=a.projectIntoViewport(b.touches[0].clientX,b.touches[0].clientY),l[0]=B[0],l[1]=B[1]);b.touches[1]&&(B=a.projectIntoViewport(b.touches[1].clientX,b.touches[1].clientY),l[2]=B[0],l[3]=B[1]);b.touches[2]&&(B=a.projectIntoViewport(b.touches[2].clientX,b.touches[2].clientY),
l[4]=B[0],l[5]=B[1])}else if(b.touches[0]){B=a.touchData.start;L=a.touchData.last;K=K||a.findNearestElement(l[0],l[1],!0);if(null!=B&&"nodes"==B._private.group&&a.nodeIsDraggable(B))if(S>=a.tapThreshold2){f=a.dragData.touchDragEles;for(G=0;G<f.length;G++)if(Q=f[G],a.nodeIsDraggable(Q)&&Q.isNode()&&Q.grabbed()){a.dragData.didDrag=!0;var T=Q._private.position,M=!a.hoverData.draggingEles;d.is.number(z[0])&&d.is.number(z[1])&&(T.x+=z[0],T.y+=z[1]);M&&(e(Q,{inDragLayer:!0}),y[c.NODE]=!0,M=a.touchData.dragDelta,
d.is.number(M[0])&&d.is.number(M[1])&&(T.x+=M[0],T.y+=M[1]))}G=new d.Collection(k,Q);G.updateCompoundBounds();G.trigger("position drag");a.hoverData.draggingEles=!0;y[c.DRAG]=!0;a.touchData.startPosition[0]==n[0]&&a.touchData.startPosition[1]==n[1]&&(y[c.NODE]=!0);a.redraw()}else M=a.touchData.dragDelta=a.touchData.dragDelta||[],0===M.length?(M.push(z[0]),M.push(z[1])):(M[0]+=z[0],M[1]+=z[1]);null!=B&&(B.trigger(new d.Event(b,{type:"touchmove",cyPosition:{x:l[0],y:l[1]}})),B.trigger(new d.Event(b,
{type:"tapdrag",cyPosition:{x:l[0],y:l[1]}})),B.trigger(new d.Event(b,{type:"vmousemove",cyPosition:{x:l[0],y:l[1]}})));null==B&&(null!=K&&(K.trigger(new d.Event(b,{type:"touchmove",cyPosition:{x:l[0],y:l[1]}})),K.trigger(new d.Event(b,{type:"tapdrag",cyPosition:{x:l[0],y:l[1]}})),K.trigger(new d.Event(b,{type:"vmousemove",cyPosition:{x:l[0],y:l[1]}}))),null==K&&(k.trigger(new d.Event(b,{type:"touchmove",cyPosition:{x:l[0],y:l[1]}})),k.trigger(new d.Event(b,{type:"tapdrag",cyPosition:{x:l[0],y:l[1]}})),
k.trigger(new d.Event(b,{type:"vmousemove",cyPosition:{x:l[0],y:l[1]}}))));K!=L&&(L&&L.trigger(new d.Event(b,{type:"tapdragout",cyPosition:{x:l[0],y:l[1]}})),K&&K.trigger(new d.Event(b,{type:"tapdragover",cyPosition:{x:l[0],y:l[1]}})));a.touchData.last=K;for(K=0;K<l.length;K++)l[K]&&a.touchData.startPosition[K]&&4<Math.abs(l[K]-a.touchData.startPosition[K])&&(a.touchData.singleTouchMoved=!0);g&&(null==B||B.isEdge())&&k.panningEnabled()&&k.userPanningEnabled()&&(a.swipePanning?k.panBy({x:z[0]*u,y:z[1]*
u}):S>=a.tapThreshold2&&(a.swipePanning=!0,k.panBy({x:D*u,y:I*u})),B&&(B.unactivate(),a.data.bgActivePosistion||(a.data.bgActivePosistion={x:l[0],y:l[1]}),y[c.SELECT_BOX]=!0,a.touchData.start=null),B=a.projectIntoViewport(b.touches[0].clientX,b.touches[0].clientY),l[0]=B[0],l[1]=B[1])}for(B=0;B<l.length;B++)n[B]=l[B]},1E3/30,{trailing:!0}),!1);a.registerBinding(window,"touchcancel",function(c){c=a.touchData.start;a.touchData.capture=!1;c&&c.unactivate()});a.registerBinding(window,"touchend",function(b){var e=
a.touchData.start;if(a.touchData.capture){a.touchData.capture=!1;b.preventDefault();var f=a.data.select;a.swipePanning=!1;a.hoverData.draggingEles=!1;var g=a.data.cy,l=g.zoom(),h=a.touchData.now,n=a.touchData.earlier,p=a.data.canvasNeedsRedraw;if(b.touches[0]){var m=a.projectIntoViewport(b.touches[0].clientX,b.touches[0].clientY);h[0]=m[0];h[1]=m[1]}b.touches[1]&&(m=a.projectIntoViewport(b.touches[1].clientX,b.touches[1].clientY),h[2]=m[0],h[3]=m[1]);b.touches[2]&&(m=a.projectIntoViewport(b.touches[2].clientX,
b.touches[2].clientY),h[4]=m[0],h[5]=m[1]);e&&e.unactivate();if(a.touchData.cxt)n=new d.Event(b,{type:"cxttapend",cyPosition:{x:h[0],y:h[1]}}),e?e.trigger(n):g.trigger(n),a.touchData.cxtDragged||(b=new d.Event(b,{type:"cxttap",cyPosition:{x:h[0],y:h[1]}}),e?e.trigger(b):g.trigger(b)),a.touchData.start&&(a.touchData.start._private.grabbed=!1),a.touchData.cxt=!1,a.touchData.start=null,a.redraw();else{if(!b.touches[2]&&g.boxSelectionEnabled()&&a.touchData.selecting){a.touchData.selecting=!1;clearTimeout(this.threeFingerSelectTimeout);
var m=[],q=a.getAllInBox(f[0],f[1],f[2],f[3]);f[0]=void 0;f[1]=void 0;f[2]=void 0;f[3]=void 0;f[4]=0;p[c.SELECT_BOX]=!0;for(f=0;f<q.length;f++)q[f]._private.selectable&&m.push(q[f]);f=new d.Collection(g,m);"single"===g.selectionType()&&g.$(":selected").unmerge(f).unselect();f.select();0<f.length?p[c.NODE]=!0:a.redraw()}f=!1;null!=e&&(e._private.active=!1,f=!0,e.unactivate());b.touches[2]?(a.data.bgActivePosistion=void 0,p[c.SELECT_BOX]=!0):b.touches[1]||b.touches[0]||b.touches[0]||(a.data.bgActivePosistion=
void 0,p[c.SELECT_BOX]=!0,m=a.dragData.touchDragEles,null!=e?(q=e._private.grabbed,k(m),p[c.DRAG]=!0,p[c.NODE]=!0,q&&e.trigger("free"),e.trigger(new d.Event(b,{type:"touchend",cyPosition:{x:h[0],y:h[1]}})).trigger(new d.Event(b,{type:"tapend",cyPosition:{x:h[0],y:h[1]}})).trigger(new d.Event(b,{type:"vmouseup",cyPosition:{x:h[0],y:h[1]}})),e.unactivate(),a.touchData.start=null):(m=a.findNearestElement(h[0],h[1],!0),null!=m&&m.trigger(new d.Event(b,{type:"touchend",cyPosition:{x:h[0],y:h[1]}})).trigger(new d.Event(b,
{type:"tapend",cyPosition:{x:h[0],y:h[1]}})).trigger(new d.Event(b,{type:"vmouseup",cyPosition:{x:h[0],y:h[1]}})),null==m&&g.trigger(new d.Event(b,{type:"touchend",cyPosition:{x:h[0],y:h[1]}})).trigger(new d.Event(b,{type:"tapend",cyPosition:{x:h[0],y:h[1]}})).trigger(new d.Event(b,{type:"vmouseup",cyPosition:{x:h[0],y:h[1]}}))),m=a.touchData.startPosition[0]-h[0],q=a.touchData.startPosition[1]-h[1],null!=e&&!a.dragData.didDrag&&e._private.selectable&&(m*m+q*q)*l*l<a.tapThreshold2&&!a.pinching&&("single"===
g.selectionType()?(g.$(":selected").unmerge(e).unselect(),e.select()):e.selected()?e.unselect():e.select(),f=!0,p[c.NODE]=!0),!1===a.touchData.singleTouchMoved&&(e?e.trigger(new d.Event(b,{type:"tap",cyPosition:{x:h[0],y:h[1]}})).trigger(new d.Event(b,{type:"vclick",cyPosition:{x:h[0],y:h[1]}})):g.trigger(new d.Event(b,{type:"tap",cyPosition:{x:h[0],y:h[1]}})).trigger(new d.Event(b,{type:"vclick",cyPosition:{x:h[0],y:h[1]}}))),a.touchData.singleTouchMoved=!0);for(g=0;g<h.length;g++)n[g]=h[g];a.dragData.didDrag=
!1;0===b.touches.length&&(a.touchData.dragDelta=[]);f&&e&&e.updateStyle(!1);2>b.touches.length&&(a.pinching=!1,p[c.NODE]=!0,a.redraw())}}},!1)}})(cytoscape);
(function(d){function c(b,c){e[b]={points:c,draw:function(c,d,f,g,h){a.drawPolygon(c,d,f,g,h,e[b].points)},drawPath:function(c,d,f,g,h){a.drawPolygonPath(c,d,f,g,h,e[b].points)},intersectLine:function(a,c,f,g,h,l,k){return d.math.polygonIntersectLine(h,l,e[b].points,a,c,f/2,g/2,k)},intersectBox:function(a,c,f,g,h,l,k,n,m){return d.math.boxIntersectPolygon(a,c,f,g,e[b].points,h,l,k,n,[0,-1],m)},checkPoint:function(a,c,f,g,h,l,k){return d.math.pointInsidePolygon(a,c,e[b].points,l,k,g,h,[0,-1],f)}}}
for(var b=d("renderer","canvas"),a=b.prototype,n=b.usePaths(),e=b.nodeShapes={},k=Math.sin(0),g=Math.cos(0),f={},l={},b=0*Math.PI;b<2*Math.PI;b+=.1)f[b]=Math.sin(b),l[b]=Math.cos(b);e.ellipse={draw:function(a,b,c,d,f){e.ellipse.drawPath(a,b,c,d,f);a.fill()},drawPath:function(a,b,c,d,e){if(n){a.beginPath&&a.beginPath();var h;d/=2;for(var m=e/2,p=0*Math.PI;p<2*Math.PI;p+=.1)e=b-d*f[p]*k+d*l[p]*g,h=c+m*l[p]*k+m*f[p]*g,0===p?a.moveTo(e,h):a.lineTo(e,h);a.closePath()}else a.beginPath&&a.beginPath(),a.translate(b,
c),a.scale(d/2,e/2),a.arc(0,0,1,0,1.998*Math.PI,!1),a.closePath(),a.scale(2/d,2/e),a.translate(-b,-c)},intersectLine:function(a,b,c,e,f,g,h){return d.math.intersectLineEllipse(f,g,a,b,c/2+h,e/2+h)},intersectBox:function(a,b,c,e,f,g,h,l,k){return d.math.boxIntersectEllipse(a,b,c,e,k,f,g,h,l)},checkPoint:function(a,b,c,d,e,f,g){a=(a-f)/(d/2+c);b=(b-g)/(e/2+c);return 1>=Math.pow(a,2)+Math.pow(b,2)}};c("triangle",d.math.generateUnitNgonPointsFitToSquare(3,0));c("square",d.math.generateUnitNgonPointsFitToSquare(4,
0));e.rectangle=e.square;e.roundrectangle={points:d.math.generateUnitNgonPointsFitToSquare(4,0),draw:function(b,c,d,e,f){a.drawRoundRectangle(b,c,d,e,f,10)},drawPath:function(b,c,d,e,f){a.drawRoundRectanglePath(b,c,d,e,f,10)},intersectLine:function(a,b,c,e,f,g,h){return d.math.roundRectangleIntersectLine(f,g,a,b,c,e,h)},intersectBox:function(a,b,c,e,f,g,h,l,k){return d.math.roundRectangleIntersectBox(a,b,c,e,f,g,h,l,k)},checkPoint:function(a,b,c,f,g,h,l){var k=d.math.getRoundRectangleRadius(f,g);
if(d.math.pointInsidePolygon(a,b,e.roundrectangle.points,h,l,f,g-2*k,[0,-1],c)||d.math.pointInsidePolygon(a,b,e.roundrectangle.points,h,l,f-2*k,g,[0,-1],c))return!0;var n=function(a,b,c,d,e,f,g){a=(a-c)/(e/2+g);b=(b-d)/(f/2+g);return 1>=Math.pow(a,2)+Math.pow(b,2)};return n(a,b,h-f/2+k,l-g/2+k,2*k,2*k,c)||n(a,b,h+f/2-k,l-g/2+k,2*k,2*k,c)||n(a,b,h+f/2-k,l+g/2-k,2*k,2*k,c)||n(a,b,h-f/2+k,l+g/2-k,2*k,2*k,c)?!0:!1}};c("diamond",[0,1,1,0,0,-1,-1,0]);c("pentagon",d.math.generateUnitNgonPointsFitToSquare(5,
0));c("hexagon",d.math.generateUnitNgonPointsFitToSquare(6,0));c("heptagon",d.math.generateUnitNgonPointsFitToSquare(7,0));c("octagon",d.math.generateUnitNgonPointsFitToSquare(8,0));for(var h=Array(20),m=d.math.generateUnitNgonPoints(5,0),p=d.math.generateUnitNgonPoints(5,Math.PI/5),q=.5*(3-Math.sqrt(5)),q=1.57*q,b=0;b<p.length/2;b++)p[2*b]*=q,p[2*b+1]*=q;for(b=0;5>b;b++)h[4*b]=m[2*b],h[4*b+1]=m[2*b+1],h[4*b+2]=p[2*b],h[4*b+3]=p[2*b+1];h=d.math.fitPolygonToSquare(h);c("star",h);c("vee",[-1,-1,0,-.333,
1,-1,0,1]);c("rhomboid",[-1,-1,.333,-1,1,1,-.333,1])})(cytoscape);
(function(d){function c(a){this._private={};this._private.options=d.util.extend({},b,a)}var b={animate:!0,maxSimulationTime:4E3,fit:!0,padding:30,boundingBox:void 0,ungrabifyWhileSimulating:!1,ready:void 0,stop:void 0,repulsion:void 0,stiffness:void 0,friction:void 0,gravity:!0,fps:void 0,precision:void 0,nodeMass:void 0,edgeLength:void 0,stepSize:.1,stableEnergy:function(a){return.5>=a.max||.3>=a.mean},infinite:!1};c.prototype.run=function(){var a=this,b=this._private.options;d.util.require("arbor",
function(c){function k(a,b){return null==b?void 0:"function"==typeof b?b.apply(a,[a._private.data,{nodes:l.length,edges:h.length,element:a}]):b}var g=b.cy,f=b.eles,l=f.nodes().not(":parent"),h=f.edges(),m=d.util.makeBoundingBox(b.boundingBox?b.boundingBox:{x1:0,y1:0,w:g.width(),h:g.height()}),p=!1;a.trigger({type:"layoutstart",layout:a});void 0!==b.liveUpdate&&(b.animate=b.liveUpdate);if(1>=f.nodes().size())b.fit&&g.reset(),f.nodes().position({x:Math.round((m.x1+m.x2)/2),y:Math.round((m.y1+m.y2)/
2)}),a.one("layoutready",b.ready),a.trigger({type:"layoutready",layout:a}),a.one("layoutstop",b.stop),a.trigger({type:"layoutstop",layout:a});else{var q=a._private.system=c.ParticleSystem();q.parameters({repulsion:b.repulsion,stiffness:b.stiffness,friction:b.friction,gravity:b.gravity,fps:b.fps,dt:b.dt,precision:b.precision});b.animate&&b.fit&&g.fit(m,b.padding);var t,r=!1;q.renderer={init:function(a){},redraw:function(){var c=q.energy();if(!b.infinite&&null!=b.stableEnergy&&null!=c&&0<c.n&&b.stableEnergy(c))a.stop();
else{b.infinite||250==Infinity||(clearTimeout(t),t=setTimeout(A,250));var d=g.collection();q.eachNode(function(a,b){var c=a.data.element;null==c||c.locked()||c.grabbed()||(c.silentPosition({x:m.x1+b.x,y:m.y1+b.y}),d.merge(c))});b.animate&&0<d.length&&(p=!0,d.rtrigger("position"),b.fit&&g.fit(b.padding),p=!1);r||(r=!0,a.one("layoutready",b.ready),a.trigger({type:"layoutready",layout:a}))}}};q.screenSize(m.w,m.h);q.screenPadding(b.padding,b.padding,b.padding,b.padding);q.screenStep(b.stepSize);var u;
l.on("grab free position",u=function(a){if(!p){var d=this.position(),f=q.fromScreen(d);if(f){var f=c.Point(f.x,f.y),g=b.padding;m.x1+g<=d.x&&d.x<=m.x2-g&&m.y1+g<=d.y&&d.y<=m.y2-g&&(this.scratch().arbor.p=f);switch(a.type){case "grab":this.scratch().arbor.fixed=!0;break;case "free":this.scratch().arbor.fixed=!1}}}});var v;l.on("lock unlock",v=function(a){node.scratch().arbor.fixed=node.locked()});var x;f.on("remove",x=function(a){});var w;g.on("add","*",w=function(){});var y;g.on("resize",y=function(){if(null==
b.boundingBox&&null!=a._private.system){var c=g.width(),d=g.height();q.screenSize(c,d)}});l.each(function(a,c){if(!c.isFullAutoParent()){var d=c._private.data.id,e=k(c,b.nodeMass),f=c._private.locked,g=c.position(),g=q.fromScreen({x:g.x,y:g.y});c.scratch().arbor=q.addNode(d,{element:c,mass:e,fixed:f,x:f?g.x:void 0,y:f?g.y:void 0})}});h.each(function(a,c){var d=c.source().id(),e=c.target().id(),f=k(c,b.edgeLength);c.scratch().arbor=q.addEdge(d,e,{length:f})});var z=l.filter(":grabbable");b.ungrabifyWhileSimulating&&
z.ungrabify();var A=a._private.doneHandler=function(){a._private.doneHandler=null;b.animate||(b.fit&&g.reset(),l.rtrigger("position"));l.off("grab free position",u);l.off("lock unlock",v);f.off("remove",x);g.off("add","*",w);g.off("resize",y);b.ungrabifyWhileSimulating&&z.grabify();a.one("layoutstop",b.stop);a.trigger({type:"layoutstop",layout:a})};q.start();!b.infinite&&null!=b.maxSimulationTime&&0<b.maxSimulationTime&&Infinity!==b.maxSimulationTime&&setTimeout(function(){a.stop()},b.maxSimulationTime)}});
return this};c.prototype.stop=function(){null!=this._private.system&&this._private.system.stop();this._private.doneHandler&&this._private.doneHandler();return this};d("layout","arbor",c)})(cytoscape);
(function(d){function c(a){this.options=d.util.extend({},b,a)}var b={fit:!0,directed:!1,padding:30,circle:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,roots:void 0,maximalAdjustments:0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};c.prototype.run=function(){var a=this.options,b=a.cy,c=a.eles,k=c.nodes().not(":parent"),g=d.util.makeBoundingBox(a.boundingBox?a.boundingBox:{x1:0,y1:0,w:b.width(),h:b.height()});if(d.is.elementOrCollection(a.roots))b=a.roots;else if(d.is.array(a.roots)){for(var f=
[],l=0;l<a.roots.length;l++){var h=b.getElementById(a.roots[l]);f.push(h)}b=new d.Collection(b,f)}else if(d.is.string(a.roots))b=b.$(a.roots);else if(a.directed)b=k.roots();else{h=[];for(l=k;0<l.length;){var m=b.collection();c.bfs({roots:l[0],visit:function(a,b,c,d,e){m=m.add(c)},directed:!1});l=l.not(m);h.push(m)}b=b.collection();for(l=0;l<h.length;l++)var f=h[l],p=f.maxDegree(!1),f=f.filter(function(){return this.degree(!1)===p}),b=b.add(f)}var q=[],t={},r={},u={};c.bfs({roots:b,directed:a.directed,
visit:function(a,b,c,d,e){a=this[0];d=a.id();q[b]||(q[b]=[]);q[b].push(a);t[d]=!0;r[d]=b;e&&(b=e.id(),(u[b]=u[b]||[]).push(c))}});b=[];for(l=0;l<k.length;l++)h=k[l],t[h.id()]||b.push(h);for(var f=3*b.length,v=0;0!==b.length&&v<f;){for(var h=b.shift(),x=h.neighborhood().nodes(),w=!1,l=0;l<x.length;l++)if(c=r[x[l].id()],void 0!==c){q[c].push(h);w=!0;break}w||b.push(h);v++}for(;0!==b.length;)h=b.shift(),w=!1,w||(0===q.length&&q.push([]),q[0].push(h));b=function(){for(var a=0;a<q.length;a++)for(var b=
q[a],c=0;c<b.length;c++)b[c]._private.scratch.breadthfirst={depth:a,index:c}};b();f=function(a){for(var b=a.connectedEdges(function(){return this.data("target")===a.id()}),c=a._private.scratch.breadthfirst,d=0,e,f=0;f<b.length;f++){var g=b[f].source()[0],h=g._private.scratch.breadthfirst;c.depth<=h.depth&&d<h.depth&&(d=h.depth,e=g)}return e};for(v=0;v<a.maximalAdjustments;v++){for(var y=q.length,x=[],l=0;l<y;l++)for(var c=q[l],z=c.length,w=0;w<z;w++){var h=c[w],A=h._private.scratch.breadthfirst,J=
f(h);J&&(A.intEle=J,x.push(h))}for(l=0;l<x.length;l++){h=x[l];A=h._private.scratch.breadthfirst;J=A.intEle;c=J._private.scratch.breadthfirst;q[A.depth].splice(A.index,1);for(c=c.depth+1;c>q.length-1;)q.push([]);q[c].push(h);A.depth=c;A.index=q[c].length-1}b()}var O=0;if(a.avoidOverlap){for(l=0;l<k.length;l++)c=k[l].outerWidth(),h=k[l].outerHeight(),O=Math.max(O,c,h);O*=a.spacingFactor}for(var R={},U=function(a){if(R[a.id()])return R[a.id()];for(var b=a._private.scratch.breadthfirst.depth,c=a.neighborhood().nodes().not(":parent"),
d=0,e=0,f=0;f<c.length;f++){var g=c[f]._private.scratch.breadthfirst,h=g.index,g=g.depth,l=q[g].length;if(b>g||0===b)d+=h/l,e++}e=Math.max(1,e);d/=e;0===e&&(d=void 0);return R[a.id()]=d},c=function(a,b){var c=U(a),d=U(b);return c-d},h=0;3>h;h++){for(l=0;l<q.length;l++)q[l]=q[l].sort(c);b()}for(l=c=0;l<q.length;l++)c=Math.max(q[l].length,c);for(var H=g.x1+g.w/2,E=g.x1+g.h/2,b=function(b,c){var d=b._private.scratch.breadthfirst,e=d.depth,d=d.index,f=q[e].length,h=Math.max(g.w/(f+1),O),l=Math.max(g.h/
(q.length+1),O),k=Math.min(g.w/2/q.length,g.h/2/q.length),k=Math.max(k,O);return a.circle&&a.circle?(f=k*e+k-(0<q.length&&3>=q[0].length?k/2:0),d*=2*Math.PI/q[e].length,0===e&&1===q[0].length&&(f=1),{x:H+f*Math.cos(d),y:E+f*Math.sin(d)}):{x:H+(d+1-(f+1)/2)*h,y:(e+1)*l}},F={},l=q.length-1;0<=l;l--)for(c=q[l],w=0;w<c.length;w++)h=c[w],F[h.id()]=b(h,l===q.length-1);k.layoutPositions(this,a,function(){return F[this.id()]});return this};d("layout","breadthfirst",c)})(cytoscape);
(function(d){function c(a){this.options=d.util.extend({},b,a)}var b={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,radius:void 0,startAngle:1.5*Math.PI,counterclockwise:!1,sort:void 0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};c.prototype.run=function(){var a=this.options,b=a.cy,c=a.eles.nodes().not(":parent");a.sort&&(c=c.sort(a.sort));for(var k=d.util.makeBoundingBox(a.boundingBox?a.boundingBox:{x1:0,y1:0,w:b.width(),h:b.height()}),g=k.x1+k.w/2,f=k.y1+k.h/2,l=a.startAngle,
h=2*Math.PI/c.length,m,p=b=0;p<c.length;p++)var q=c[p].outerWidth(),t=c[p].outerHeight(),b=Math.max(b,q,t);m=d.is.number(a.radius)?a.radius:1>=c.length?0:Math.min(k.h,k.w)/2-b;1<c.length&&a.avoidOverlap&&(b*=1.75,h=2*Math.PI/c.length,k=Math.cos(h)-Math.cos(0),p=Math.sin(h)-Math.sin(0),b=Math.sqrt(b*b/(k*k+p*p)),m=Math.max(b,m));c.layoutPositions(this,a,function(b,c){var d=m*Math.cos(l),e=m*Math.sin(l),d={x:g+d,y:f+e};l=a.counterclockwise?l-h:l+h;return d});return this};d("layout","circle",c)})(cytoscape);
(function(d){function c(a){this.options=d.util.extend(!0,{},b,a)}var b={animate:!0,refresh:1,maxSimulationTime:4E3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,ready:function(){},stop:function(){},randomize:!1,avoidOverlap:!0,handleDisconnected:!0,nodeSpacing:function(a){return 10},flow:void 0,alignment:void 0,edgeLength:void 0,edgeSymDiffLength:void 0,edgeJaccardLength:void 0,unconstrIter:void 0,userConstIter:void 0,allConstIter:void 0,infinite:!1};c.prototype.run=function(){var a=
this,b=this.options;a.manuallyStopped=!1;d.util.require("cola",function(c){var k=b.cy,g=b.eles,f=g.nodes(),g=g.edges(),l=!1,h=d.util.makeBoundingBox(b.boundingBox?b.boundingBox:{x1:0,y1:0,w:k.width(),h:k.height()}),m=function(a,b){return d.is.fn(a)?a.apply(b,[b]):a},p=function(){for(var c=Infinity,e=-Infinity,g=Infinity,m=-Infinity,p=0;p<f.length;p++)var q=f[p]._private.scratch.cola,c=Math.min(c,q.x||0),e=Math.max(e,q.x||0),g=Math.min(g,q.y||0),m=Math.max(m,q.y||0);f.positions(function(a,b){var e=
b._private.scratch.cola,f;b.grabbed()||b.isParent()||(f={x:h.x1+e.x-c,y:h.y1+e.y-g},d.is.number(f.x)&&d.is.number(f.y)||(f=void 0));return f});f.updateCompoundBounds();l||(a.one("layoutready",b.ready),a.trigger({type:"layoutready",layout:a}),l=!0);b.fit&&k.fit(b.padding)},q=function(){b.ungrabifyWhileSimulating&&u.grabify();f.off("grab free position",v);f.off("lock unlock",x);a.one("layoutstop",b.stop);a.trigger({type:"layoutstop",layout:a})},t=b.refresh;0>b.refresh?(Math.abs(b.refresh),t=1):t=Math.max(1,
t);var r=a.adaptor=c.adaptor({trigger:function(a){switch(a.type){case "tick":b.animate&&p();break;case "end":p(),b.infinite||q()}},kick:function(c){var e=function(){if(a.manuallyStopped)return q(),!0;var d=c();d&&b.infinite&&r.resume();return d};if(b.animate){var f=function(){for(var a,b=0;b<t&&!a;b++)a=a||e();a||d.util.requestAnimationFrame(f)};d.util.requestAnimationFrame(f)}else for(;!e(););},on:function(a,b){},drag:function(){}});a.adaptor=r;var u=f.filter(":grabbable");b.ungrabifyWhileSimulating&&
u.ungrabify();var v;f.on("grab free position",v=function(a){var b=this._private.scratch.cola,c=this._private.position;this.grabbed()?(b.x=c.x-h.x1,b.y=c.y-h.y1,r.dragstart(b)):d.is.number(b.x)&&d.is.number(b.y)&&(c.x=b.x+h.x1,c.y=b.y+h.y1);switch(a.type){case "grab":r.dragstart(b);r.resume();break;case "free":r.dragend(b)}});var x;f.on("lock unlock",x=function(a){a=this._private.scratch.cola;this.locked()?r.dragstart(a):r.dragend(a)});c=f.stdFilter(function(a){return!a.isParent()});r.nodes(c.map(function(a,
c){var d=m(b.nodeSpacing,a),e=a.position();return a._private.scratch.cola={x:b.randomize?Math.round(Math.random()*h.w):e.x,y:b.randomize?Math.round(Math.random()*h.h):e.y,width:a.outerWidth()+2*d,height:a.outerHeight()+2*d,index:c}}));if(b.alignment){var w=[],y=[];c.forEach(function(a){var c=m(b.alignment,a);a=a._private.scratch.cola.index;c&&(null!=c.x&&w.push({node:a,offset:c.x}),null!=c.y&&y.push({node:a,offset:c.y}))});c=[];0<w.length&&c.push({type:"alignment",axis:"x",offsets:w});0<y.length&&
c.push({type:"alignment",axis:"y",offsets:y});r.constraints(c)}r.groups(f.stdFilter(function(a){return a.isParent()}).map(function(a,b){a._private.scratch.cola={index:b,leaves:a.descendants().stdFilter(function(a){return!a.isParent()}).map(function(a){return a[0]._private.scratch.cola.index})};return a}).map(function(a){a._private.scratch.cola.groups=a.descendants().stdFilter(function(a){return a.isParent()}).map(function(a){return a._private.scratch.cola.index});return a._private.scratch.cola}));
var z;null!=b.edgeLength?(z=b.edgeLength,c="linkDistance"):null!=b.edgeSymDiffLength?(z=b.edgeSymDiffLength,c="symmetricDiffLinkLengths"):null!=b.edgeJaccardLength?(z=b.edgeJaccardLength,c="jaccardLinkLengths"):(z=100,c="linkDistance");var A=function(a){return a.calcLength};r.links(g.stdFilter(function(a){return!a.source().isParent()&&!a.target().isParent()}).map(function(a,b){var c=a._private.scratch.cola={source:a.source()[0]._private.scratch.cola.index,target:a.target()[0]._private.scratch.cola.index};
null!=z&&(c.calcLength=m(z,a));return c}));r.size([h.w,h.h]);if(null!=z)r[c](A);b.flow&&(d.is.string(b.flow)?g={axis:b.flow,minSeparation:50}:d.is.number(b.flow)?g={axis:"y",minSeparation:b.flow}:d.is.plainObject(b.flow)?(g=b.flow,g.axis=g.axis||"y",g.minSeparation=null!=g.minSeparation?g.minSeparation:50):g={axis:"y",minSeparation:50},r.flowLayout(g.axis,g.minSeparation));a.trigger({type:"layoutstart",layout:a});r.avoidOverlaps(b.avoidOverlap).handleDisconnected(b.handleDisconnected).start(b.unconstrIter,
b.userConstIter,b.allConstIter);b.infinite||setTimeout(function(){a.manuallyStopped||r.stop()},b.maxSimulationTime)});return this};c.prototype.stop=function(){this.adaptor&&(this.manuallyStopped=!0,this.adaptor.stop());return this};d("layout","cola",c)})(cytoscape);
(function(d){function c(a){this.options=d.util.extend({},b,a)}var b={fit:!0,padding:30,startAngle:1.5*Math.PI,counterclockwise:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,height:void 0,width:void 0,concentric:function(a){return a.degree()},levelWidth:function(a){return a.maxDegree()/4},animate:!1,animationDuration:500,ready:void 0,stop:void 0};c.prototype.run=function(){for(var a=this.options,b=a.cy,c=a.eles.nodes().not(":parent"),k=d.util.makeBoundingBox(a.boundingBox?a.boundingBox:{x1:0,
y1:0,w:b.width(),h:b.height()}),b=k.x1+k.w/2,g=k.y1+k.h/2,f=[],l=a.startAngle,h=0,m=0;m<c.length;m++){var p=c[m],q;q=a.concentric.apply(p,[p]);f.push({value:q,node:p});p._private.scratch.concentric=q}c.updateStyle();for(m=0;m<c.length;m++)p=c[m],h=Math.max(h,p.outerWidth(),p.outerHeight());f.sort(function(a,b){return b.value-a.value});for(var t=a.levelWidth(c),p=[[]],l=p[0],m=0;m<f.length;m++)q=f[m],0<l.length&&Math.abs(l[0].value-q.value)>=t&&(l=[],p.push(l)),l.push(q);var r={},f=0,h=h+a.minNodeSpacing;
a.avoidOverlap||(m=0<p.length&&1<p[0].length,m=(Math.min(k.w,k.h)/2-h)/(p.length+m?1:0),h=Math.min(h,m));for(m=0;m<p.length;m++){k=p[m];t=2*Math.PI/k.length;1<k.length&&a.avoidOverlap&&(q=Math.cos(t)-Math.cos(0),l=Math.sin(t)-Math.sin(0),q=Math.sqrt(h*h/(q*q+l*l)),f=Math.max(q,f));for(var u=0;u<k.length;u++)q=k[u],l=a.startAngle+(a.counterclockwise?-1:1)*t*u,l={x:b+f*Math.cos(l),y:g+f*Math.sin(l)},r[q.node.id()]=l;f+=h}c.layoutPositions(this,a,function(){var a=this.id();return r[a]});return this};
d("layout","concentric",c)})(cytoscape);
(function(d){function c(b){this.options=d.util.extend({},a,b)}var b,a={ready:function(){},stop:function(){},animate:!0,refresh:4,fit:!0,padding:30,boundingBox:void 0,randomize:!0,debug:!1,nodeRepulsion:4E5,nodeOverlap:10,idealEdgeLength:10,edgeElasticity:100,nestingFactor:5,gravity:250,numIter:100,initialTemp:200,coolingFactor:.95,minTemp:1};c.prototype.run=function(){var a=this.options,c=a.cy,e=this;e.stopped=!1;e.trigger({type:"layoutstart",layout:e});b=!0===a.debug?!0:!1;var m=new Date,u=n(c,e,
a);b&&k(u);!0===a.randomize&&g(u,c);h(u,c,a);var v=function(b){if(e.stopped)return!1;for(b=0;b<u.graphSet.length;b++)for(var d=u.graphSet[b],f=d.length,g=0;g<f;g++)for(var k=u.layoutNodes[u.idToIndex[d[g]]],n=g+1;n<f;n++){var m=k,r=u.layoutNodes[u.idToIndex[d[n]]],v=a,x=r.positionX-m.positionX,w=r.positionY-m.positionY;if(0!==x||0!==w){var y;y=0<x?m.maxX-r.minX:r.maxX-m.minX;var D=0<w?m.maxY-r.minY:r.maxY-m.minY;y=0<=y&&0<=D?Math.sqrt(y*y+D*D):0;0<y?(v=v.nodeOverlap*y,y=Math.sqrt(x*x+w*w),D=v*x/y,
v=v*w/y):(y=l(m,x,w),x=l(r,-1*x,-1*w),w=x.x-y.x,x=x.y-y.y,D=w*w+x*x,y=Math.sqrt(D),v=v.nodeRepulsion/D,D=v*w/y,v=v*x/y);m.offsetX-=D;m.offsetY-=v;r.offsetX+=D;r.offsetY+=v}}for(b=0;b<u.edgeSize;b++){g=u.layoutEdges[b];d=u.layoutNodes[u.idToIndex[g.sourceId]];f=u.layoutNodes[u.idToIndex[g.targetId]];k=f.positionX-d.positionX;m=f.positionY-d.positionY;if(0===k&&0===m)break;n=l(d,k,m);m=l(f,-1*k,-1*m);k=m.x-n.x;n=m.y-n.y;m=Math.sqrt(k*k+n*n);g=Math.pow(g.idealLength-m,2)/a.edgeElasticity;0!==m?(k=g*
k/m,g=g*n/m):g=k=0;d.offsetX+=k;d.offsetY+=g;f.offsetX-=k;f.offsetY-=g}for(b=0;b<u.graphSet.length;b++)for(d=u.graphSet[b],f=d.length,0===b?(g=u.clientHeight/2,k=u.clientWidth/2):(k=u.layoutNodes[u.idToIndex[u.layoutNodes[u.idToIndex[d[0]]].parentId]],g=k.positionX,k=k.positionY),n=0;n<f;n++)m=u.layoutNodes[u.idToIndex[d[n]]],r=g-m.positionX,w=k-m.positionY,v=Math.sqrt(r*r+w*w),1<v&&(w=a.gravity*w/v,m.offsetX+=a.gravity*r/v,m.offsetY+=w);b=[];d=0;f=-1;b.push.apply(b,u.graphSet[0]);for(f+=u.graphSet[0].length;d<=
f;)if(g=b[d++],g=u.layoutNodes[u.idToIndex[g]],k=g.children,0<k.length){n=g.offsetX;m=g.offsetY;for(r=0;r<k.length;r++)v=u.layoutNodes[u.idToIndex[k[r]]],v.offsetX+=n,v.offsetY+=m,b[++f]=k[r];g.offsetX=0;g.offsetY=0}h(u,c,a);u.temperature*=a.coolingFactor;return u.temperature<a.minTemp?!1:!0},x=function(){f(u,c,a);!0===a.fit&&c.fit(a.padding);console.info("Layout took "+(new Date-m)+" ms");e.one("layoutstop",a.stop);e.trigger({type:"layoutstop",layout:e})};if(a.animate){var w=0,y=function(){for(var b=
0,e;b<a.refresh&&w<a.numIter;){e=v(w);if(!1===e)break;b++;w++}f(u,c,a);a.fit&&c.fit(a.padding);!1!==e&&w+1<a.numIter?d.util.requestAnimationFrame(y):x()};d.util.requestAnimationFrame(y)}else{for(w=0;w<a.numIter&&!1!==v(w);w++);x()}return this};c.prototype.stop=function(){this.stopped=!0;return this};var n=function(a,b,c){var f=c.eles.edges(),g=c.eles.nodes();a={layout:b,layoutNodes:[],idToIndex:{},nodeSize:g.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:f.size(),temperature:c.initialTemp,
clientWidth:a.width(),clientHeight:a.width(),boundingBox:d.util.makeBoundingBox(c.boundingBox?c.boundingBox:{x1:0,y1:0,w:a.width(),h:a.height()})};for(b=0;b<a.nodeSize;b++){var h={};h.id=g[b].data("id");h.parentId=g[b].data("parent");h.children=[];h.positionX=g[b].position("x");h.positionY=g[b].position("y");h.offsetX=0;h.offsetY=0;h.height=g[b].height();h.width=g[b].width();h.maxX=h.positionX+h.width/2;h.minX=h.positionX-h.width/2;h.maxY=h.positionY+h.height/2;h.minY=h.positionY-h.height/2;h.padLeft=
g[b]._private.style["padding-left"].pxValue;h.padRight=g[b]._private.style["padding-right"].pxValue;h.padTop=g[b]._private.style["padding-top"].pxValue;h.padBottom=g[b]._private.style["padding-bottom"].pxValue;a.layoutNodes.push(h);a.idToIndex[h.id]=b}var g=[],k=0,l=-1,h=[];for(b=0;b<a.nodeSize;b++){var m=a.layoutNodes[b],n=m.parentId;null!=n?a.layoutNodes[a.idToIndex[n]].children.push(m.id):(g[++l]=m.id,h.push(m.id))}for(a.graphSet.push(h);k<=l;)if(b=g[k++],h=a.layoutNodes[a.idToIndex[b]].children,
0<h.length)for(a.graphSet.push(h),b=0;b<h.length;b++)g[++l]=h[b];for(b=0;b<a.graphSet.length;b++)for(g=a.graphSet[b],k=0;k<g.length;k++)a.indexToGraph[a.idToIndex[g[k]]]=b;for(b=0;b<a.edgeSize;b++){k=f[b];g={};g.id=k.data("id");g.sourceId=k.data("source");g.targetId=k.data("target");k=c.idealEdgeLength;h=a.idToIndex[g.sourceId];l=a.idToIndex[g.targetId];if(a.indexToGraph[h]!=a.indexToGraph[l]){m=e(g.sourceId,g.targetId,0,a);m=2>m.count?0:m.graph;m=a.graphSet[m];n=0;for(h=a.layoutNodes[h];-1===$.inArray(h.id,
m);)h=a.layoutNodes[a.idToIndex[h.parentId]],n++;for(h=a.layoutNodes[l];-1===$.inArray(h.id,m);)h=a.layoutNodes[a.idToIndex[h.parentId]],n++;k=k*n*c.nestingFactor}g.idealLength=k;a.layoutEdges.push(g)}return a},e=function(a,b,c,d){var f=d.graphSet[c];if(-1<$.inArray(a,f)&&-1<$.inArray(b,f))return{count:2,graph:c};for(var g=0,h=0;h<f.length;h++){var k=d.layoutNodes[d.idToIndex[f[h]]].children;if(0!==k.length&&(k=e(a,b,d.indexToGraph[d.idToIndex[k[0]]],d),0!==k.count))if(1===k.count){if(g++,2===g)break}else return k}return{count:g,
graph:c}},k=function(a){if(b){console.debug("layoutNodes:");for(var c=0;c<a.nodeSize;c++){var d=a.layoutNodes[c],d="\nindex: "+c+"\nId: "+d.id+"\nChildren: "+d.children.toString()+"\nparentId: "+d.parentId+"\npositionX: "+d.positionX+"\npositionY: "+d.positionY+"\nOffsetX: "+d.offsetX+"\nOffsetY: "+d.offsetY+"\npadLeft: "+d.padLeft+"\npadRight: "+d.padRight+"\npadTop: "+d.padTop+"\npadBottom: "+d.padBottom;console.debug(d)}console.debug("idToIndex");for(c in a.idToIndex)console.debug("Id: "+c+"\nIndex: "+
a.idToIndex[c]);console.debug("Graph Set");d=a.graphSet;for(c=0;c<d.length;c++)console.debug("Set : "+c+": "+d[c].toString());d="IndexToGraph";for(c=0;c<a.indexToGraph.length;c++)d+="\nIndex : "+c+" Graph: "+a.indexToGraph[c];console.debug(d);d="Layout Edges";for(c=0;c<a.layoutEdges.length;c++)var e=a.layoutEdges[c],d=d+("\nEdge Index: "+c+" ID: "+e.id+" SouceID: "+e.sourceId+" TargetId: "+e.targetId+" Ideal Length: "+e.idealLength);console.debug(d);d="nodeSize: "+a.nodeSize;d+="\nedgeSize: "+a.edgeSize;
d+="\ntemperature: "+a.temperature;console.debug(d)}},g=function(a,b){for(var c=a.clientWidth,d=a.clientHeight,e=0;e<a.nodeSize;e++){var f=a.layoutNodes[e];f.positionX=Math.random()*c;f.positionY=Math.random()*d}},f=function(a,b,c){b=a.layout;var d=c.eles.nodes(),e=a.boundingBox,f=Infinity,g=-Infinity,h=Infinity,k=-Infinity,l,m;c.boundingBox&&(d.forEach(function(b){b=a.layoutNodes[a.idToIndex[b.data("id")]];f=Math.min(f,b.positionX);g=Math.max(g,b.positionX);h=Math.min(h,b.positionY);k=Math.max(k,
b.positionY)}),l=g-f,m=k-h);d.positions(function(b,d){var g=a.layoutNodes[a.idToIndex[d.data("id")]];return c.boundingBox?{x:e.x1+(g.positionX-f)/l*e.w,y:e.y1+(g.positionY-h)/m*e.h}:{x:g.positionX,y:g.positionY}});!0!==a.ready&&(a.ready=!0,b.one("layoutready",c.ready),b.trigger({type:"layoutready",layout:this}))},l=function(a,b,c){var d=a.positionX,e=a.positionY,f=a.height;a=a.width;var g=c/b,h=f/a,k={};0===b&&0<c?(k.x=d,k.y=e+f/2):0===b&&0>c?(k.x=d,k.y=e+f/2):0<b&&-1*h<=g&&g<=h?(k.x=d+a/2,k.y=e+
a*c/2/b):0>b&&-1*h<=g&&g<=h?(k.x=d-a/2,k.y=e-a*c/2/b):0<c&&(g<=-1*h||g>=h)?(k.x=d+f*b/2/c,k.y=e+f/2):0>c&&(g<=-1*h||g>=h)&&(k.x=d-f*b/2/c,k.y=e-f/2);return k},h=function(a,b,c){for(b=0;b<a.nodeSize;b++)c=a.layoutNodes[b],0<c.children.length&&(c.maxX=void 0,c.minX=void 0,c.maxY=void 0,c.minY=void 0);for(b=0;b<a.nodeSize;b++)if(c=a.layoutNodes[b],!(0<c.children.length)){var d;d=c.offsetX;var e=c.offsetY,f=a.temperature,g=Math.sqrt(d*d+e*e);d=g>f?{x:f*d/g,y:f*e/g}:{x:d,y:e};c.positionX+=d.x;c.positionY+=
d.y;c.offsetX=0;c.offsetY=0;c.minX=c.positionX-c.width;c.maxX=c.positionX+c.width;c.minY=c.positionY-c.height;c.maxY=c.positionY+c.height;m(c,a)}for(b=0;b<a.nodeSize;b++)c=a.layoutNodes[b],0<c.children.length&&(c.positionX=(c.maxX+c.minX)/2,c.positionY=(c.maxY+c.minY)/2,c.width=c.maxX-c.minX,c.height=c.maxY-c.minY)},m=function(a,b){var c=a.parentId;if(null!=c){var c=b.layoutNodes[b.idToIndex[c]],d=!1;if(null==c.maxX||a.maxX+c.padRight>c.maxX)c.maxX=a.maxX+c.padRight,d=!0;if(null==c.minX||a.minX-c.padLeft<
c.minX)c.minX=a.minX-c.padLeft,d=!0;if(null==c.maxY||a.maxY+c.padBottom>c.maxY)c.maxY=a.maxY+c.padBottom,d=!0;if(null==c.minY||a.minY-c.padTop<c.minY)c.minY=a.minY-c.padTop,d=!0;if(d)return m(c,b)}};d("layout","cose",c)})(cytoscape);
(function(d){function c(a){this.options=d.util.extend(!0,{},b,a)}var b={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,minLen:function(a){return 1},edgeWeight:function(a){return 1},fit:!0,padding:30,animate:!1,animationDuration:500,boundingBox:void 0,ready:function(){},stop:function(){}};c.prototype.run=function(){var a=this.options,b=this;d.util.require("dagre",function(c){var k=a.cy,g=a.eles,f=function(a,b){return d.is.fn(b)?b.apply(a,[a]):b},l=d.util.makeBoundingBox(a.boundingBox?
a.boundingBox:{x1:0,y1:0,w:k.width(),h:k.height()}),h=new c.graphlib.Graph({multigraph:!0,compound:!0}),m={},p=function(a,b){null!=b&&(m[a]=b)};p("nodesep",a.nodeSep);p("edgesep",a.edgeSep);p("ranksep",a.rankSep);p("rankdir",a.rankDir);h.setGraph(m);h.setDefaultEdgeLabel(function(){return{}});h.setDefaultNodeLabel(function(){return{}});for(var p=g.nodes(),q=0;q<p.length;q++){var t=p[q];h.setNode(t.id(),{width:t.width(),height:t.height(),name:t.id()})}for(q=0;q<p.length;q++)t=p[q],t.isChild()&&h.setParent(t.id(),
t.parent().id());g=g.edges().stdFilter(function(a){return!a.source().isParent()&&!a.target().isParent()});for(q=0;q<g.length;q++)t=g[q],h.setEdge(t.source().id(),t.target().id(),{minlen:f(t,a.minLen),weight:f(t,a.edgeWeight),name:t.id()},t.id());c.layout(h);c=h.nodes();for(q=0;q<c.length;q++)f=c[q],g=h.node(f),k.getElementById(f).scratch().dagre=g;var r;a.boundingBox?(r={x1:Infinity,x2:-Infinity,y1:Infinity,y2:-Infinity},p.forEach(function(a){a=a.scratch().dagre;r.x1=Math.min(r.x1,a.x);r.x2=Math.max(r.x2,
a.x);r.y1=Math.min(r.y1,a.y);r.y2=Math.max(r.y2,a.y)}),r.w=r.x2-r.x1,r.h=r.y2-r.y1):r=l;p.layoutPositions(b,a,function(){var b=this.scratch().dagre;b={x:b.x,y:b.y};b=a.boundingBox?{x:l.x1+(b.x-r.x1)/r.w*l.w,y:l.y1+(b.y-r.y1)/r.h*l.h}:b;return b})});return this};d("layout","dagre",c)})(cytoscape);
(function(d){function c(a){this.options=d.util.extend({},b,a)}var b={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,rows:void 0,columns:void 0,position:function(a){},sort:void 0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};c.prototype.run=function(){var a=this.options,b=a.cy,c=a.eles.nodes().not(":parent");a.sort&&(c=c.sort(a.sort));var k=d.util.makeBoundingBox(a.boundingBox?a.boundingBox:{x1:0,y1:0,w:b.width(),h:b.height()});if(0===k.h||0===k.w)c.layoutPositions(this,a,function(){return{x:k.x1,
y:k.y1}});else{var b=c.size(),g=Math.sqrt(b*k.h/k.w),f=Math.round(g),l=Math.round(k.w/k.h*g),g=function(a){if(null==a)return Math.min(f,l);Math.min(f,l)==f?f=a:l=a},h=function(a){if(null==a)return Math.max(f,l);Math.max(f,l)==f?f=a:l=a};if(null!=a.rows&&null!=a.columns)f=a.rows,l=a.columns;else if(null!=a.rows&&null==a.columns)f=a.rows,l=Math.ceil(b/f);else if(null==a.rows&&null!=a.columns)l=a.columns,f=Math.ceil(b/l);else if(l*f>b){var m=g(),p=h();(m-1)*p>=b?g(m-1):(p-1)*m>=b&&h(p-1)}else for(;l*
f<b;)m=g(),p=h(),(p+1)*m>=b?h(p+1):g(m+1);var q=k.w/l,t=k.h/f;if(a.avoidOverlap)for(b=0;b<c.length;b++)g=c[b],h=g.outerWidth(),g=g.outerHeight(),q=Math.max(q,h),t=Math.max(t,g);for(var r={},u=0,v=0,x=function(){v++;v>=l&&(v=0,u++)},w={},b=0;b<c.length;b++)if(g=c[b],(h=a.position(g))&&(void 0!==h.row||void 0!==h.col)){h={row:h.row,col:h.col};if(void 0===h.col)for(h.col=0;r["c-"+h.row+"-"+h.col];)h.col++;else if(void 0===h.row)for(h.row=0;r["c-"+h.row+"-"+h.col];)h.row++;w[g.id()]=h;r["c-"+h.row+"-"+
h.col]=!0}c.layoutPositions(this,a,function(a,b){var c,d;if(b.locked()||b.isFullAutoParent())return!1;if(d=w[b.id()])c=d.col*q+q/2+k.x1,d=d.row*t+t/2+k.y1;else{for(;r["c-"+u+"-"+v];)x();c=v*q+q/2+k.x1;d=u*t+t/2+k.y1;r["c-"+u+"-"+v]=!0;x()}return{x:c,y:d}})}return this};d("layout","grid",c)})(cytoscape);
(function(d){function c(a){this.options=d.util.extend(!0,{},b,a)}var b={ready:function(){},stop:function(){}};c.prototype.run=function(){var a=this.options,b=a.eles;this.trigger("layoutstart");b.nodes().positions(function(){return{x:0,y:0}});this.one("layoutready",a.ready);this.trigger("layoutready");this.one("layoutstop",a.stop);this.trigger("layoutstop");return this};c.prototype.stop=function(){return this};d("layout","null",c)})(cytoscape);
(function(d){function c(a){this.options=d.util.extend(!0,{},b,a)}var b={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,ready:void 0,stop:void 0};c.prototype.run=function(){var a=this.options,b=a.eles.nodes(),c=d.is.fn(a.positions);b.layoutPositions(this,a,function(b,d){var f;null==a.positions?f=null:c?f=a.positions.apply(d,[d]):(f=a.positions[d._private.data.id],f=null==f?null:f);return d.locked()||null==f?!1:f});return this};d("layout","preset",c)})(cytoscape);
(function(d){function c(a){this.options=d.util.extend(!0,{},b,a)}var b={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};c.prototype.run=function(){var a=this.options,b=a.cy,c=a.eles.nodes().not(":parent"),k=d.util.makeBoundingBox(a.boundingBox?a.boundingBox:{x1:0,y1:0,w:b.width(),h:b.height()});c.layoutPositions(this,a,function(a,b){return{x:k.x1+Math.round(Math.random()*k.w),y:k.y1+Math.round(Math.random()*k.h)}});return this};d("layout","random",c)})(cytoscape);
(function(d){function c(a){this.options=d.util.extend({},n,a)}function b(a){a=a.halfedges;for(var b=0,c=0,d=0,l,h,m,n=0;n<a.length;++n)l=a[n].getEndpoint(),h=a[n].getStartpoint(),b+=l.x*h.y,b-=l.y*h.x,m=l.x*h.y-h.x*l.y,c+=(l.x+h.x)*m,d+=(l.y+h.y)*m;m=b/2*6;return{x:c/m,y:d/m}}function a(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)}var n={animate:!0,ready:void 0,stop:void 0,fit:!0,minDist:20,padding:20,expandingFactor:-1,maxFruchtermanReingoldIterations:50,maxExpandIterations:4,boundingBox:void 0};
c.prototype.run=function(){var c=this,k=this.options;d.util.requires(["foograph","Voronoi"],function(g,f){function l(a){a=a.vertices;for(var b=[],c=0;c<a.length;++c){var d=a[c];b[d.id]={x:d.x,y:d.y}}m.positions(function(a,c){var d=b[c._private.data.id];return{x:Math.round(x.x1+d.x),y:Math.round(x.y1+d.y)}});k.fit&&h.fit(k.padding);h.nodes().rtrigger("position")}var h=k.cy,m=h.nodes(),n=h.edges(),q=h.width(),t=h.height(),r=k.boundingBox?d.util.makeBoundingBox(k.boundingBox):null,u=k.padding,v=Math.max(1,
.8*Math.log(m.length));100>m.length&&(v/=2);c.trigger({type:"layoutstart",layout:c});var x={x1:0,y1:0,x2:q*v,y2:t*v};r&&(x.x1=r.x1,x.y1=r.y1,x.x2=r.x2,x.y2=r.y2);x.x1+=u;x.y1+=u;x.x2-=u;x.y2-=u;t=x.x2-x.x1;r=x.y2-x.y1;q=Date.now();if(1>=m.size())m.positions({x:Math.round((x.x1+x.x2)/2),y:Math.round((x.y1+x.y2)/2)}),k.fit&&h.fit(k.padding),n=Date.now(),console.info("Layout on "+m.size()+" nodes took "+(n-q)+" ms"),c.one("layoutready",k.ready),c.trigger("layoutready"),c.one("layoutstop",k.stop),c.trigger("layoutstop");
else{var w={width:t,height:r,minDist:k.minDist,expFact:k.expandingFactor,expIt:0,maxExpIt:k.maxExpandIterations,vertices:[],edges:[],startTime:q,maxFruchtermanReingoldIterations:k.maxFruchtermanReingoldIterations};m.each(function(a,b){w.vertices.push({id:this._private.data.id,x:0,y:0})});n.each(function(){var a=this.source().id(),b=this.target().id();w.edges.push({src:a,tgt:b})});var y=d.Thread();y.require(g,"foograph");y.require(f);y.require(a);y.require(b);var z=!1;y.on("message",function(a){a=
a.message;k.animate&&(l(a),z||(c.trigger("layoutready"),z=!0))});c.one("layoutready",k.ready);y.pass(w).run(function(c){function d(b){for(var c=0,e=0;e<b.length;++e){var f=b[e];null!=f.lSite&&null!=f.rSite&&a(f.lSite,f.rSite)<k&&++c}return c}g=eval("foograph");f=eval("Voronoi");for(var e=c.width,h=c.height,k=c.minDist,l=c.expFact,m=c.maxExpIt,n=c.maxFruchtermanReingoldIterations,p=function(){c.width=e;c.height=h;c.expIt=da;c.expFact=l;c.vertices=[];for(var a=0;a<w.length;++a)c.vertices.push({id:w[a].label,
x:w[a].x,y:w[a].y})},q=new g.Graph("FRgraph",!1),r={},t=c.vertices,u=0;u<t.length;++u){var v=t[u].id,x=new g.Vertex(v,Math.round(Math.random()*h),Math.round(Math.random()*h));r[v]=x;q.insertVertex(x)}t=c.edges;for(u=0;u<t.length;++u)q.insertEdge("",1,r[t[u].src],r[t[u].tgt]);var w=q.vertices,n=new g.ForceDirectedVertexLayout(e,h,n,!1,k);n.callback=function(){p();broadcast(c)};n.layout(q);p();broadcast(c);for(var q=new f,n={xl:0,xr:e,yt:0,yb:h},r=[],y=0;y<w.length;++y)r[w[y].label]=w[y];for(var t=
q.compute(w,n),z=t.cells,y=0;y<z.length;++y){var Q=z[y],M=Q.site,Q=b(Q),M=r[M.label];M.x=Q.x;M.y=Q.y}0>l&&(l=Math.max(.05,Math.min(.1,k/Math.sqrt(e*h/w.length)*.5)));for(var u=d(t.edges),v=0>=u,da=x=0;!v;){++x;for(var W=0;4>=W;++W)for(q.recycle(t),t=q.compute(w,n),z=t.cells,y=0;y<z.length;++y)Q=z[y],M=Q.site,Q=b(Q),M=r[M.label],M.x=Q.x,M.y=Q.y;y=d(t.edges);if(0>=y)v=!0;else if(y>=u||4<=x)da>=m?v=!0:(e+=e*l,h+=h*l,n={xl:0,xr:e,yt:0,yb:h},++da,x=0);u=y;p();broadcast(c)}p();return c}).then(function(a){var b=
a.vertices;l(a);console.info("Layout on "+b.length+" nodes took "+(new Date-a.startTime)+" ms");c.one("layoutstop",k.stop);k.animate||c.trigger("layoutready");c.trigger("layoutstop");y.stop()})}});return this};c.prototype.stop=function(){};d("layout","spread",c)})(cytoscape);
(function(d){function c(a){this.options=d.util.extend(!0,{},b,a)}var b={animate:!0,maxSimulationTime:4E3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,random:!1,infinite:!1,ready:void 0,stop:void 0,stiffness:400,repulsion:400,damping:.5};c.prototype.run=function(){var a=this,b=this,c=this.options;d.util.require("Springy",function(k){function g(a){var b=a.scratch("springy").model.id,b=w.layout.nodePoints[b].p,c=a.position();null!=c.x&&null!=c.y?(a=a.position(),r=t.getBoundingBox(),
c=r.topright.subtract(r.bottomleft),a=new k.Vector((a.x-p.x1)/p.w*c.x+r.bottomleft.x,(a.y-p.y1)/p.h*c.y+r.bottomleft.y)):a={x:4*Math.random()-2,y:4*Math.random()-2};b.x=a.x;b.y=a.y}var f=!1,l=c.cy;a.trigger({type:"layoutstart",layout:a});var h=c.eles,m=h.nodes().not(":parent"),h=h.edges(),p=d.util.makeBoundingBox(c.boundingBox?c.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()}),q=new k.Graph;m.each(function(a,b){b.scratch("springy",{model:q.newNode({element:b})})});h.each(function(a,b){var c=b.source().scratch("springy").model,
d=b.target().scratch("springy").model;b.scratch("springy",{model:q.newEdge(c,d,{element:b})})});var t=window.sim=new k.Layout.ForceDirected(q,c.stiffness,c.repulsion,c.damping);c.infinite&&(t.minEnergyThreshold=-Infinity);var r=t.getBoundingBox(),u=l.collection(),v=l.nodes().size(),x=1,w=new k.Renderer(t,function(){!b.stopped&&0<u.length&&c.animate&&(f=!0,u.rtrigger("position"),c.fit&&l.fit(c.padding),u=l.collection(),f=!1)},function(a,b,c){},function(d,f){if(!b.stopped){var g;r=t.getBoundingBox();
var h=r.topright.subtract(r.bottomleft);g=f.subtract(r.bottomleft).divide(h.x).x*p.w+p.x1;h=f.subtract(r.bottomleft).divide(h.y).y*p.h+p.x1;g=new k.Vector(g,h);h=d.data.element;h.locked()||h.grabbed()||(h._private.position={x:g.x,y:g.y},u.merge(h));x==v&&(a.one("layoutready",c.ready),a.trigger({type:"layoutready",layout:a}));x++}});m.each(function(a,b){c.random||g(b)});var y;m.on("position",y=function(){f||g(this)});var z=m.filter(":grabbable");b.stopSystem=function(){b.stopped=!0;q.filterNodes(function(){return!1});
c.ungrabifyWhileSimulating&&z.grabify();c.fit&&l.fit(c.padding);m.off("drag position",y);a.one("layoutstop",c.stop);a.trigger({type:"layoutstop",layout:a});b.stopSystem=null};b.stopped=!1;c.ungrabifyWhileSimulating&&z.ungrabify();w.start();c.infinite||setTimeout(function(){b.stop()},c.maxSimulationTime)});return this};c.prototype.stop=function(){null!=this.stopSystem&&this.stopSystem();return this};d("layout","springy",c)})(cytoscape);
(function(d){function c(b){this.options=b}c.prototype.recalculateRenderedStyle=function(){};c.prototype.notify=function(){};d("renderer","null",c)})(cytoscape);
